import {
  __commonJS
} from "./chunk-JVWSFFO4.js";

// node_modules/tinymce/tinymce.min.js
var require_tinymce_min = __commonJS({
  "node_modules/tinymce/tinymce.min.js"(exports, module) {
    !function() {
      "use strict";
      var e = function(e2) {
        if (null === e2) return "null";
        if (void 0 === e2) return "undefined";
        var t2 = typeof e2;
        return "object" === t2 && (Array.prototype.isPrototypeOf(e2) || e2.constructor && "Array" === e2.constructor.name) ? "array" : "object" === t2 && (String.prototype.isPrototypeOf(e2) || e2.constructor && "String" === e2.constructor.name) ? "string" : t2;
      }, t = function(e2) {
        return { eq: e2 };
      }, n = t(function(e2, t2) {
        return e2 === t2;
      }), o = function(e2) {
        return t(function(t2, n2) {
          if (t2.length !== n2.length) return false;
          for (var o2 = t2.length, r2 = 0; r2 < o2; r2++) if (!e2.eq(t2[r2], n2[r2])) return false;
          return true;
        });
      }, r = function(e2) {
        return t(function(r2, s2) {
          var a2 = Object.keys(r2), i2 = Object.keys(s2);
          if (!function(e3, n2) {
            return function(e4, n3) {
              return t(function(t2, o2) {
                return e4.eq(n3(t2), n3(o2));
              });
            }(o(e3), function(e4) {
              return function(e5, t2) {
                return Array.prototype.slice.call(e5).sort(t2);
              }(e4, n2);
            });
          }(n).eq(a2, i2)) return false;
          for (var l2 = a2.length, d2 = 0; d2 < l2; d2++) {
            var c2 = a2[d2];
            if (!e2.eq(r2[c2], s2[c2])) return false;
          }
          return true;
        });
      }, s = t(function(t2, n2) {
        if (t2 === n2) return true;
        var a2 = e(t2);
        return a2 === e(n2) && (function(e2) {
          return -1 !== ["undefined", "boolean", "number", "string", "function", "xml", "null"].indexOf(e2);
        }(a2) ? t2 === n2 : "array" === a2 ? o(s).eq(t2, n2) : "object" === a2 && r(s).eq(t2, n2));
      });
      const a = Object.getPrototypeOf, i = (e2, t2, n2) => {
        var o2;
        return !!n2(e2, t2.prototype) || (null === (o2 = e2.constructor) || void 0 === o2 ? void 0 : o2.name) === t2.name;
      }, l = (e2) => (t2) => ((e3) => {
        const t3 = typeof e3;
        return null === e3 ? "null" : "object" === t3 && Array.isArray(e3) ? "array" : "object" === t3 && i(e3, String, (e4, t4) => t4.isPrototypeOf(e4)) ? "string" : t3;
      })(t2) === e2, d = (e2) => (t2) => typeof t2 === e2, c = (e2) => (t2) => e2 === t2, u = (e2, t2) => f(e2) && i(e2, t2, (e3, t3) => a(e3) === t3), m = l("string"), f = l("object"), g = (e2) => u(e2, Object), p = l("array"), h = c(null), b = d("boolean"), v = c(void 0), y = (e2) => null == e2, C = (e2) => !y(e2), w = d("function"), x = d("number"), E = (e2, t2) => {
        if (p(e2)) {
          for (let n2 = 0, o2 = e2.length; n2 < o2; ++n2) if (!t2(e2[n2])) return false;
          return true;
        }
        return false;
      }, _ = () => {
      }, S = (e2, t2) => (...n2) => e2(t2.apply(null, n2)), k = (e2, t2) => (n2) => e2(t2(n2)), N = (e2) => () => e2, R = (e2) => e2, A = (e2, t2) => e2 === t2;
      function T(e2, ...t2) {
        return (...n2) => {
          const o2 = t2.concat(n2);
          return e2.apply(null, o2);
        };
      }
      const O = (e2) => (t2) => !e2(t2), B = (e2) => () => {
        throw new Error(e2);
      }, P = (e2) => e2(), D = (e2) => {
        e2();
      }, L = N(false), M = N(true);
      class I {
        constructor(e2, t2) {
          this.tag = e2, this.value = t2;
        }
        static some(e2) {
          return new I(true, e2);
        }
        static none() {
          return I.singletonNone;
        }
        fold(e2, t2) {
          return this.tag ? t2(this.value) : e2();
        }
        isSome() {
          return this.tag;
        }
        isNone() {
          return !this.tag;
        }
        map(e2) {
          return this.tag ? I.some(e2(this.value)) : I.none();
        }
        bind(e2) {
          return this.tag ? e2(this.value) : I.none();
        }
        exists(e2) {
          return this.tag && e2(this.value);
        }
        forall(e2) {
          return !this.tag || e2(this.value);
        }
        filter(e2) {
          return !this.tag || e2(this.value) ? this : I.none();
        }
        getOr(e2) {
          return this.tag ? this.value : e2;
        }
        or(e2) {
          return this.tag ? this : e2;
        }
        getOrThunk(e2) {
          return this.tag ? this.value : e2();
        }
        orThunk(e2) {
          return this.tag ? this : e2();
        }
        getOrDie(e2) {
          if (this.tag) return this.value;
          throw new Error(null != e2 ? e2 : "Called getOrDie on None");
        }
        static from(e2) {
          return C(e2) ? I.some(e2) : I.none();
        }
        getOrNull() {
          return this.tag ? this.value : null;
        }
        getOrUndefined() {
          return this.value;
        }
        each(e2) {
          this.tag && e2(this.value);
        }
        toArray() {
          return this.tag ? [this.value] : [];
        }
        toString() {
          return this.tag ? `some(${this.value})` : "none()";
        }
      }
      I.singletonNone = new I(false);
      const F = Array.prototype.slice, U = Array.prototype.indexOf, z = Array.prototype.push, j = (e2, t2) => U.call(e2, t2), H = (e2, t2) => j(e2, t2) > -1, $ = (e2, t2) => {
        for (let n2 = 0, o2 = e2.length; n2 < o2; n2++) if (t2(e2[n2], n2)) return true;
        return false;
      }, q = (e2, t2) => {
        const n2 = e2.length, o2 = new Array(n2);
        for (let r2 = 0; r2 < n2; r2++) {
          const n3 = e2[r2];
          o2[r2] = t2(n3, r2);
        }
        return o2;
      }, V = (e2, t2) => {
        for (let n2 = 0, o2 = e2.length; n2 < o2; n2++) t2(e2[n2], n2);
      }, W = (e2, t2) => {
        for (let n2 = e2.length - 1; n2 >= 0; n2--) t2(e2[n2], n2);
      }, K = (e2, t2) => {
        const n2 = [], o2 = [];
        for (let r2 = 0, s2 = e2.length; r2 < s2; r2++) {
          const s3 = e2[r2];
          (t2(s3, r2) ? n2 : o2).push(s3);
        }
        return { pass: n2, fail: o2 };
      }, Y = (e2, t2) => {
        const n2 = [];
        for (let o2 = 0, r2 = e2.length; o2 < r2; o2++) {
          const r3 = e2[o2];
          t2(r3, o2) && n2.push(r3);
        }
        return n2;
      }, G = (e2, t2, n2) => (W(e2, (e3, o2) => {
        n2 = t2(n2, e3, o2);
      }), n2), X = (e2, t2, n2) => (V(e2, (e3, o2) => {
        n2 = t2(n2, e3, o2);
      }), n2), Q = (e2, t2, n2) => {
        for (let o2 = 0, r2 = e2.length; o2 < r2; o2++) {
          const r3 = e2[o2];
          if (t2(r3, o2)) return I.some(r3);
          if (n2(r3, o2)) break;
        }
        return I.none();
      }, J = (e2, t2) => Q(e2, t2, L), Z = (e2, t2) => {
        for (let n2 = 0, o2 = e2.length; n2 < o2; n2++) if (t2(e2[n2], n2)) return I.some(n2);
        return I.none();
      }, ee = (e2) => {
        const t2 = [];
        for (let n2 = 0, o2 = e2.length; n2 < o2; ++n2) {
          if (!p(e2[n2])) throw new Error("Arr.flatten item " + n2 + " was not an array, input: " + e2);
          z.apply(t2, e2[n2]);
        }
        return t2;
      }, te = (e2, t2) => ee(q(e2, t2)), ne = (e2, t2) => {
        for (let n2 = 0, o2 = e2.length; n2 < o2; ++n2) if (true !== t2(e2[n2], n2)) return false;
        return true;
      }, oe = (e2) => {
        const t2 = F.call(e2, 0);
        return t2.reverse(), t2;
      }, re = (e2, t2) => Y(e2, (e3) => !H(t2, e3)), se = (e2, t2) => {
        const n2 = {};
        for (let o2 = 0, r2 = e2.length; o2 < r2; o2++) {
          const r3 = e2[o2];
          n2[String(r3)] = t2(r3, o2);
        }
        return n2;
      }, ae = (e2, t2) => {
        const n2 = F.call(e2, 0);
        return n2.sort(t2), n2;
      }, ie = (e2, t2) => t2 >= 0 && t2 < e2.length ? I.some(e2[t2]) : I.none(), le = (e2) => ie(e2, 0), de = (e2) => ie(e2, e2.length - 1), ce = w(Array.from) ? Array.from : (e2) => F.call(e2), ue = (e2, t2) => {
        for (let n2 = 0; n2 < e2.length; n2++) {
          const o2 = t2(e2[n2], n2);
          if (o2.isSome()) return o2;
        }
        return I.none();
      }, me = Object.keys, fe = Object.hasOwnProperty, ge = (e2, t2) => {
        const n2 = me(e2);
        for (let o2 = 0, r2 = n2.length; o2 < r2; o2++) {
          const r3 = n2[o2];
          t2(e2[r3], r3);
        }
      }, pe = (e2, t2) => he(e2, (e3, n2) => ({ k: n2, v: t2(e3, n2) })), he = (e2, t2) => {
        const n2 = {};
        return ge(e2, (e3, o2) => {
          const r2 = t2(e3, o2);
          n2[r2.k] = r2.v;
        }), n2;
      }, be = (e2) => (t2, n2) => {
        e2[n2] = t2;
      }, ve = (e2, t2, n2, o2) => {
        ge(e2, (e3, r2) => {
          (t2(e3, r2) ? n2 : o2)(e3, r2);
        });
      }, ye = (e2, t2) => {
        const n2 = {};
        return ve(e2, t2, be(n2), _), n2;
      }, Ce = (e2, t2) => {
        const n2 = [];
        return ge(e2, (e3, o2) => {
          n2.push(t2(e3, o2));
        }), n2;
      }, we = (e2) => Ce(e2, R), xe = (e2, t2) => Ee(e2, t2) ? I.from(e2[t2]) : I.none(), Ee = (e2, t2) => fe.call(e2, t2), _e = (e2, t2) => Ee(e2, t2) && void 0 !== e2[t2] && null !== e2[t2], Se = (e2) => {
        const t2 = {};
        return V(e2, (e3) => {
          t2[e3] = {};
        }), me(t2);
      }, ke = (e2) => void 0 !== e2.length, Ne = Array.isArray, Re = (e2, t2, n2) => {
        if (!e2) return false;
        if (n2 = n2 || e2, ke(e2)) {
          for (let o2 = 0, r2 = e2.length; o2 < r2; o2++) if (false === t2.call(n2, e2[o2], o2, e2)) return false;
        } else for (const o2 in e2) if (Ee(e2, o2) && false === t2.call(n2, e2[o2], o2, e2)) return false;
        return true;
      }, Ae = (e2, t2) => {
        const n2 = [];
        return Re(e2, (o2, r2) => {
          n2.push(t2(o2, r2, e2));
        }), n2;
      }, Te = (e2, t2) => {
        const n2 = [];
        return Re(e2, (o2, r2) => {
          t2 && !t2(o2, r2, e2) || n2.push(o2);
        }), n2;
      }, Oe = (e2, t2, n2, o2) => {
        let r2 = v(n2) ? e2[0] : n2;
        for (let n3 = 0; n3 < e2.length; n3++) r2 = t2.call(o2, r2, e2[n3], n3);
        return r2;
      }, Be = (e2, t2, n2) => {
        for (let o2 = 0, r2 = e2.length; o2 < r2; o2++) if (t2.call(n2, e2[o2], o2, e2)) return o2;
        return -1;
      }, Pe = (e2) => e2[e2.length - 1], De = (e2) => {
        let t2, n2 = false;
        return (...o2) => (n2 || (n2 = true, t2 = e2.apply(null, o2)), t2);
      }, Le = () => Me(0, 0), Me = (e2, t2) => ({ major: e2, minor: t2 }), Ie = { nu: Me, detect: (e2, t2) => {
        const n2 = String(t2).toLowerCase();
        return 0 === e2.length ? Le() : ((e3, t3) => {
          const n3 = ((e4, t4) => {
            for (let n4 = 0; n4 < e4.length; n4++) {
              const o3 = e4[n4];
              if (o3.test(t4)) return o3;
            }
          })(e3, t3);
          if (!n3) return { major: 0, minor: 0 };
          const o2 = (e4) => Number(t3.replace(n3, "$" + e4));
          return Me(o2(1), o2(2));
        })(e2, n2);
      }, unknown: Le }, Fe = (e2, t2) => {
        const n2 = String(t2).toLowerCase();
        return J(e2, (e3) => e3.search(n2));
      }, Ue = (e2, t2, n2) => "" === t2 || e2.length >= t2.length && e2.substr(n2, n2 + t2.length) === t2, ze = (e2, t2) => He(e2, t2) ? ((e3, t3) => e3.substring(t3))(e2, t2.length) : e2, je = (e2, t2, n2 = 0, o2) => {
        const r2 = e2.indexOf(t2, n2);
        return -1 !== r2 && (!!v(o2) || r2 + t2.length <= o2);
      }, He = (e2, t2) => Ue(e2, t2, 0), $e = (e2, t2) => Ue(e2, t2, e2.length - t2.length), qe = (e2) => (t2) => t2.replace(e2, ""), Ve = qe(/^\s+|\s+$/g), We = qe(/^\s+/g), Ke = qe(/\s+$/g), Ye = (e2) => e2.length > 0, Ge = (e2) => !Ye(e2), Xe = (e2, t2 = 10) => {
        const n2 = parseInt(e2, t2);
        return isNaN(n2) ? I.none() : I.some(n2);
      }, Qe = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/, Je = (e2) => (t2) => je(t2, e2), Ze = [{ name: "Edge", versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/], search: (e2) => je(e2, "edge/") && je(e2, "chrome") && je(e2, "safari") && je(e2, "applewebkit") }, { name: "Chromium", brand: "Chromium", versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Qe], search: (e2) => je(e2, "chrome") && !je(e2, "chromeframe") }, { name: "IE", versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/], search: (e2) => je(e2, "msie") || je(e2, "trident") }, { name: "Opera", versionRegexes: [Qe, /.*?opera\/([0-9]+)\.([0-9]+).*/], search: Je("opera") }, { name: "Firefox", versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/], search: Je("firefox") }, { name: "Safari", versionRegexes: [Qe, /.*?cpu os ([0-9]+)_([0-9]+).*/], search: (e2) => (je(e2, "safari") || je(e2, "mobile/")) && je(e2, "applewebkit") }], et = [{ name: "Windows", search: Je("win"), versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/] }, { name: "iOS", search: (e2) => je(e2, "iphone") || je(e2, "ipad"), versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/] }, { name: "Android", search: Je("android"), versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/] }, { name: "macOS", search: Je("mac os x"), versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/] }, { name: "Linux", search: Je("linux"), versionRegexes: [] }, { name: "Solaris", search: Je("sunos"), versionRegexes: [] }, { name: "FreeBSD", search: Je("freebsd"), versionRegexes: [] }, { name: "ChromeOS", search: Je("cros"), versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/] }], tt = { browsers: N(Ze), oses: N(et) }, nt = "Edge", ot = "Chromium", rt = "Opera", st = "Firefox", at = "Safari", it = (e2) => {
        const t2 = e2.current, n2 = e2.version, o2 = (e3) => () => t2 === e3;
        return { current: t2, version: n2, isEdge: o2(nt), isChromium: o2(ot), isIE: o2("IE"), isOpera: o2(rt), isFirefox: o2(st), isSafari: o2(at) };
      }, lt = () => it({ current: void 0, version: Ie.unknown() }), dt = it, ct = (N(nt), N(ot), N("IE"), N(rt), N(st), N(at), "Windows"), ut = "Android", mt = "Linux", ft = "macOS", gt = "Solaris", pt = "FreeBSD", ht = "ChromeOS", bt = (e2) => {
        const t2 = e2.current, n2 = e2.version, o2 = (e3) => () => t2 === e3;
        return { current: t2, version: n2, isWindows: o2(ct), isiOS: o2("iOS"), isAndroid: o2(ut), isMacOS: o2(ft), isLinux: o2(mt), isSolaris: o2(gt), isFreeBSD: o2(pt), isChromeOS: o2(ht) };
      }, vt = () => bt({ current: void 0, version: Ie.unknown() }), yt = bt, Ct = (N(ct), N("iOS"), N(ut), N(mt), N(ft), N(gt), N(pt), N(ht), (e2) => window.matchMedia(e2).matches);
      let wt = De(() => ((e2, t2, n2) => {
        const o2 = tt.browsers(), r2 = tt.oses(), s2 = t2.bind((e3) => ((e4, t3) => ue(t3.brands, (t4) => {
          const n3 = t4.brand.toLowerCase();
          return J(e4, (e5) => {
            var t5;
            return n3 === (null === (t5 = e5.brand) || void 0 === t5 ? void 0 : t5.toLowerCase());
          }).map((e5) => ({ current: e5.name, version: Ie.nu(parseInt(t4.version, 10), 0) }));
        }))(o2, e3)).orThunk(() => ((e3, t3) => Fe(e3, t3).map((e4) => {
          const n3 = Ie.detect(e4.versionRegexes, t3);
          return { current: e4.name, version: n3 };
        }))(o2, e2)).fold(lt, dt), a2 = ((e3, t3) => Fe(e3, t3).map((e4) => {
          const n3 = Ie.detect(e4.versionRegexes, t3);
          return { current: e4.name, version: n3 };
        }))(r2, e2).fold(vt, yt), i2 = ((e3, t3, n3, o3) => {
          const r3 = e3.isiOS() && true === /ipad/i.test(n3), s3 = e3.isiOS() && !r3, a3 = e3.isiOS() || e3.isAndroid(), i3 = a3 || o3("(pointer:coarse)"), l2 = r3 || !s3 && a3 && o3("(min-device-width:768px)"), d2 = s3 || a3 && !l2, c2 = t3.isSafari() && e3.isiOS() && false === /safari/i.test(n3), u2 = !d2 && !l2 && !c2;
          return { isiPad: N(r3), isiPhone: N(s3), isTablet: N(l2), isPhone: N(d2), isTouch: N(i3), isAndroid: e3.isAndroid, isiOS: e3.isiOS, isWebView: N(c2), isDesktop: N(u2) };
        })(a2, s2, e2, n2);
        return { browser: s2, os: a2, deviceType: i2 };
      })(navigator.userAgent, I.from(navigator.userAgentData), Ct));
      const xt = () => wt(), Et = navigator.userAgent, _t = xt(), St = _t.browser, kt = _t.os, Nt = _t.deviceType, Rt = -1 !== Et.indexOf("Windows Phone"), At = { transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", documentMode: St.isIE() ? document.documentMode || 7 : 10, cacheSuffix: null, container: null, canHaveCSP: !St.isIE(), windowsPhone: Rt, browser: { current: St.current, version: St.version, isChromium: St.isChromium, isEdge: St.isEdge, isFirefox: St.isFirefox, isIE: St.isIE, isOpera: St.isOpera, isSafari: St.isSafari }, os: { current: kt.current, version: kt.version, isAndroid: kt.isAndroid, isChromeOS: kt.isChromeOS, isFreeBSD: kt.isFreeBSD, isiOS: kt.isiOS, isLinux: kt.isLinux, isMacOS: kt.isMacOS, isSolaris: kt.isSolaris, isWindows: kt.isWindows }, deviceType: { isDesktop: Nt.isDesktop, isiPad: Nt.isiPad, isiPhone: Nt.isiPhone, isPhone: Nt.isPhone, isTablet: Nt.isTablet, isTouch: Nt.isTouch, isWebView: Nt.isWebView } }, Tt = /^\s*|\s*$/g, Ot = (e2) => y(e2) ? "" : ("" + e2).replace(Tt, ""), Bt = function(e2, t2, n2, o2) {
        o2 = o2 || this, e2 && (n2 && (e2 = e2[n2]), Re(e2, (e3, r2) => false !== t2.call(o2, e3, r2, n2) && (Bt(e3, t2, n2, o2), true)));
      }, Pt = { trim: Ot, isArray: Ne, is: (e2, t2) => t2 ? !("array" !== t2 || !Ne(e2)) || typeof e2 === t2 : void 0 !== e2, toArray: (e2) => {
        if (Ne(e2)) return e2;
        {
          const t2 = [];
          for (let n2 = 0, o2 = e2.length; n2 < o2; n2++) t2[n2] = e2[n2];
          return t2;
        }
      }, makeMap: (e2, t2, n2 = {}) => {
        const o2 = m(e2) ? e2.split(t2 || ",") : e2 || [];
        let r2 = o2.length;
        for (; r2--; ) n2[o2[r2]] = {};
        return n2;
      }, each: Re, map: Ae, grep: Te, inArray: (e2, t2) => {
        if (e2) {
          for (let n2 = 0, o2 = e2.length; n2 < o2; n2++) if (e2[n2] === t2) return n2;
        }
        return -1;
      }, hasOwn: Ee, extend: (e2, ...t2) => {
        for (let n2 = 0; n2 < t2.length; n2++) {
          const o2 = t2[n2];
          for (const t3 in o2) if (Ee(o2, t3)) {
            const n3 = o2[t3];
            void 0 !== n3 && (e2[t3] = n3);
          }
        }
        return e2;
      }, walk: Bt, resolve: (e2, t2 = window) => {
        const n2 = e2.split(".");
        for (let e3 = 0, o2 = n2.length; e3 < o2 && (t2 = t2[n2[e3]]); e3++) ;
        return t2;
      }, explode: (e2, t2) => p(e2) ? e2 : "" === e2 ? [] : Ae(e2.split(t2 || ","), Ot), _addCacheSuffix: (e2) => {
        const t2 = At.cacheSuffix;
        return t2 && (e2 += (-1 === e2.indexOf("?") ? "?" : "&") + t2), e2;
      } }, Dt = (e2, t2, n2 = A) => e2.exists((e3) => n2(e3, t2)), Lt = (e2, t2, n2 = A) => Mt(e2, t2, n2).getOr(e2.isNone() && t2.isNone()), Mt = (e2, t2, n2) => e2.isSome() && t2.isSome() ? I.some(n2(e2.getOrDie(), t2.getOrDie())) : I.none(), It = (e2, t2) => e2 ? I.some(t2) : I.none(), Ft = "undefined" != typeof window ? window : Function("return this;")(), Ut = (e2, t2) => ((e3, t3) => {
        let n2 = null != t3 ? t3 : Ft;
        for (let t4 = 0; t4 < e3.length && null != n2; ++t4) n2 = n2[e3[t4]];
        return n2;
      })(e2.split("."), t2), zt = Object.getPrototypeOf, jt = (e2) => {
        const t2 = Ut("ownerDocument.defaultView", e2);
        return f(e2) && (((e3) => ((e4, t3) => {
          const n2 = ((e5, t4) => Ut(e5, t4))(e4, t3);
          if (null == n2) throw new Error(e4 + " not available on this browser");
          return n2;
        })("HTMLElement", e3))(t2).prototype.isPrototypeOf(e2) || /^HTML\w*Element$/.test(zt(e2).constructor.name));
      }, Ht = (e2) => e2.dom.nodeName.toLowerCase(), $t = (e2) => e2.dom.nodeType, qt = (e2) => (t2) => $t(t2) === e2, Vt = (e2) => Wt(e2) && jt(e2.dom), Wt = qt(1), Kt = qt(3), Yt = qt(9), Gt = qt(11), Xt = (e2) => (t2) => Wt(t2) && Ht(t2) === e2, Qt = (e2, t2, n2) => {
        if (!(m(n2) || b(n2) || x(n2))) throw console.error("Invalid call to Attribute.set. Key ", t2, ":: Value ", n2, ":: Element ", e2), new Error("Attribute value was not simple");
        e2.setAttribute(t2, n2 + "");
      }, Jt = (e2, t2, n2) => {
        Qt(e2.dom, t2, n2);
      }, Zt = (e2, t2) => {
        const n2 = e2.dom;
        ge(t2, (e3, t3) => {
          Qt(n2, t3, e3);
        });
      }, en = (e2, t2) => {
        const n2 = e2.dom.getAttribute(t2);
        return null === n2 ? void 0 : n2;
      }, tn = (e2, t2) => I.from(en(e2, t2)), nn = (e2, t2) => {
        const n2 = e2.dom;
        return !(!n2 || !n2.hasAttribute) && n2.hasAttribute(t2);
      }, on = (e2, t2) => {
        e2.dom.removeAttribute(t2);
      }, rn = (e2) => X(e2.dom.attributes, (e3, t2) => (e3[t2.name] = t2.value, e3), {}), sn = (e2, t2) => {
        const n2 = en(e2, t2);
        return void 0 === n2 || "" === n2 ? [] : n2.split(" ");
      }, an = (e2) => void 0 !== e2.dom.classList, ln = (e2) => sn(e2, "class"), dn = (e2, t2) => ((e3, t3, n2) => {
        const o2 = sn(e3, t3).concat([n2]);
        return Jt(e3, t3, o2.join(" ")), true;
      })(e2, "class", t2), cn = (e2, t2) => ((e3, t3, n2) => {
        const o2 = Y(sn(e3, t3), (e4) => e4 !== n2);
        return o2.length > 0 ? Jt(e3, t3, o2.join(" ")) : on(e3, t3), false;
      })(e2, "class", t2), un = (e2, t2) => {
        an(e2) ? e2.dom.classList.add(t2) : dn(e2, t2);
      }, mn = (e2) => {
        0 === (an(e2) ? e2.dom.classList : ln(e2)).length && on(e2, "class");
      }, fn = (e2, t2) => {
        an(e2) ? e2.dom.classList.remove(t2) : cn(e2, t2), mn(e2);
      }, gn = (e2, t2) => an(e2) && e2.dom.classList.contains(t2), pn = (e2) => {
        if (null == e2) throw new Error("Node cannot be null or undefined");
        return { dom: e2 };
      }, hn = (e2, t2) => {
        const n2 = (t2 || document).createElement("div");
        if (n2.innerHTML = e2, !n2.hasChildNodes() || n2.childNodes.length > 1) {
          const t3 = "HTML does not have a single root node";
          throw console.error(t3, e2), new Error(t3);
        }
        return pn(n2.childNodes[0]);
      }, bn = (e2, t2) => {
        const n2 = (t2 || document).createElement(e2);
        return pn(n2);
      }, vn = (e2, t2) => {
        const n2 = (t2 || document).createTextNode(e2);
        return pn(n2);
      }, yn = pn, Cn = (e2, t2, n2) => I.from(e2.dom.elementFromPoint(t2, n2)).map(pn), wn = (e2, t2) => {
        const n2 = [], o2 = (e3) => (n2.push(e3), t2(e3));
        let r2 = t2(e2);
        do {
          r2 = r2.bind(o2);
        } while (r2.isSome());
        return n2;
      }, xn = (e2, t2) => {
        const n2 = e2.dom;
        if (1 !== n2.nodeType) return false;
        {
          const e3 = n2;
          if (void 0 !== e3.matches) return e3.matches(t2);
          if (void 0 !== e3.msMatchesSelector) return e3.msMatchesSelector(t2);
          if (void 0 !== e3.webkitMatchesSelector) return e3.webkitMatchesSelector(t2);
          if (void 0 !== e3.mozMatchesSelector) return e3.mozMatchesSelector(t2);
          throw new Error("Browser lacks native selectors");
        }
      }, En = (e2) => 1 !== e2.nodeType && 9 !== e2.nodeType && 11 !== e2.nodeType || 0 === e2.childElementCount, _n = (e2, t2) => e2.dom === t2.dom, Sn = (e2, t2) => {
        const n2 = e2.dom, o2 = t2.dom;
        return n2 !== o2 && n2.contains(o2);
      }, kn = (e2) => yn(e2.dom.ownerDocument), Nn = (e2) => Yt(e2) ? e2 : kn(e2), Rn = (e2) => yn(Nn(e2).dom.defaultView), An = (e2) => I.from(e2.dom.parentNode).map(yn), Tn = (e2) => I.from(e2.dom.parentElement).map(yn), On = (e2, t2) => {
        const n2 = w(t2) ? t2 : L;
        let o2 = e2.dom;
        const r2 = [];
        for (; null !== o2.parentNode && void 0 !== o2.parentNode; ) {
          const e3 = o2.parentNode, t3 = yn(e3);
          if (r2.push(t3), true === n2(t3)) break;
          o2 = e3;
        }
        return r2;
      }, Bn = (e2) => I.from(e2.dom.previousSibling).map(yn), Pn = (e2) => I.from(e2.dom.nextSibling).map(yn), Dn = (e2) => oe(wn(e2, Bn)), Ln = (e2) => wn(e2, Pn), Mn = (e2) => q(e2.dom.childNodes, yn), In = (e2, t2) => {
        const n2 = e2.dom.childNodes;
        return I.from(n2[t2]).map(yn);
      }, Fn = (e2) => In(e2, 0), Un = (e2) => In(e2, e2.dom.childNodes.length - 1), zn = (e2) => e2.dom.childNodes.length, jn = (e2) => Gt(e2) && C(e2.dom.host), Hn = w(Element.prototype.attachShadow) && w(Node.prototype.getRootNode), $n = N(Hn), qn = Hn ? (e2) => yn(e2.dom.getRootNode()) : Nn, Vn = (e2) => jn(e2) ? e2 : ((e3) => {
        const t2 = e3.dom.head;
        if (null == t2) throw new Error("Head is not available yet");
        return yn(t2);
      })(Nn(e2)), Wn = (e2) => yn(e2.dom.host), Kn = (e2) => {
        if ($n() && C(e2.target)) {
          const t2 = yn(e2.target);
          if (Wt(t2) && Yn(t2) && e2.composed && e2.composedPath) {
            const t3 = e2.composedPath();
            if (t3) return le(t3);
          }
        }
        return I.from(e2.target);
      }, Yn = (e2) => C(e2.dom.shadowRoot), Gn = (e2) => {
        const t2 = Kt(e2) ? e2.dom.parentNode : e2.dom;
        if (null == t2 || null === t2.ownerDocument) return false;
        const n2 = t2.ownerDocument;
        return ((e3) => {
          const t3 = qn(e3);
          return jn(t3) ? I.some(t3) : I.none();
        })(yn(t2)).fold(() => n2.body.contains(t2), k(Gn, Wn));
      };
      var Xn = (e2, t2, n2, o2, r2) => e2(n2, o2) ? I.some(n2) : w(r2) && r2(n2) ? I.none() : t2(n2, o2, r2);
      const Qn = (e2, t2, n2) => {
        let o2 = e2.dom;
        const r2 = w(n2) ? n2 : L;
        for (; o2.parentNode; ) {
          o2 = o2.parentNode;
          const e3 = yn(o2);
          if (t2(e3)) return I.some(e3);
          if (r2(e3)) break;
        }
        return I.none();
      }, Jn = (e2, t2, n2) => Xn((e3, t3) => t3(e3), Qn, e2, t2, n2), Zn = (e2, t2) => {
        const n2 = (e3) => {
          for (let o2 = 0; o2 < e3.childNodes.length; o2++) {
            const r2 = yn(e3.childNodes[o2]);
            if (t2(r2)) return I.some(r2);
            const s2 = n2(e3.childNodes[o2]);
            if (s2.isSome()) return s2;
          }
          return I.none();
        };
        return n2(e2.dom);
      }, eo = (e2, t2, n2) => Qn(e2, (e3) => xn(e3, t2), n2), to = (e2, t2) => ((e3, t3) => {
        const n2 = void 0 === t3 ? document : t3.dom;
        return En(n2) ? I.none() : I.from(n2.querySelector(e3)).map(yn);
      })(t2, e2), no = (e2, t2, n2) => Xn((e3, t3) => xn(e3, t3), eo, e2, t2, n2), oo = (e2, t2 = false) => {
        return Gn(e2) ? e2.dom.isContentEditable : (n2 = e2, no(n2, "[contenteditable]")).fold(N(t2), (e3) => "true" === ro(e3));
        var n2;
      }, ro = (e2) => e2.dom.contentEditable, so = (e2) => void 0 !== e2.style && w(e2.style.getPropertyValue), ao = (e2, t2, n2) => {
        if (!m(n2)) throw console.error("Invalid call to CSS.set. Property ", t2, ":: Value ", n2, ":: Element ", e2), new Error("CSS value must be a string: " + n2);
        so(e2) && e2.style.setProperty(t2, n2);
      }, io = (e2, t2, n2) => {
        const o2 = e2.dom;
        ao(o2, t2, n2);
      }, lo = (e2, t2) => {
        const n2 = e2.dom;
        ge(t2, (e3, t3) => {
          ao(n2, t3, e3);
        });
      }, co = (e2, t2) => {
        const n2 = e2.dom, o2 = window.getComputedStyle(n2).getPropertyValue(t2);
        return "" !== o2 || Gn(e2) ? o2 : uo(n2, t2);
      }, uo = (e2, t2) => so(e2) ? e2.style.getPropertyValue(t2) : "", mo = (e2, t2) => {
        const n2 = e2.dom, o2 = uo(n2, t2);
        return I.from(o2).filter((e3) => e3.length > 0);
      }, fo = (e2) => {
        const t2 = {}, n2 = e2.dom;
        if (so(n2)) for (let e3 = 0; e3 < n2.style.length; e3++) {
          const o2 = n2.style.item(e3);
          t2[o2] = n2.style[o2];
        }
        return t2;
      }, go = (e2, t2) => {
        ((e3, t3) => {
          so(e3) && e3.style.removeProperty(t3);
        })(e2.dom, t2), Dt(tn(e2, "style").map(Ve), "") && on(e2, "style");
      }, po = (e2, t2) => {
        An(e2).each((n2) => {
          n2.dom.insertBefore(t2.dom, e2.dom);
        });
      }, ho = (e2, t2) => {
        Pn(e2).fold(() => {
          An(e2).each((e3) => {
            vo(e3, t2);
          });
        }, (e3) => {
          po(e3, t2);
        });
      }, bo = (e2, t2) => {
        Fn(e2).fold(() => {
          vo(e2, t2);
        }, (n2) => {
          e2.dom.insertBefore(t2.dom, n2.dom);
        });
      }, vo = (e2, t2) => {
        e2.dom.appendChild(t2.dom);
      }, yo = (e2, t2) => {
        po(e2, t2), vo(t2, e2);
      }, Co = (e2, t2) => {
        V(t2, (t3) => {
          vo(e2, t3);
        });
      }, wo = (e2) => {
        e2.dom.textContent = "", V(Mn(e2), (e3) => {
          xo(e3);
        });
      }, xo = (e2) => {
        const t2 = e2.dom;
        null !== t2.parentNode && t2.parentNode.removeChild(t2);
      }, Eo = (e2) => {
        const t2 = Mn(e2);
        var n2, o2;
        t2.length > 0 && (n2 = e2, V(o2 = t2, (e3, t3) => {
          const r2 = 0 === t3 ? n2 : o2[t3 - 1];
          ho(r2, e3);
        })), xo(e2);
      }, _o = (e2) => q(e2, yn), So = (e2) => e2.dom.innerHTML, ko = (e2, t2) => {
        const n2 = kn(e2).dom, o2 = yn(n2.createDocumentFragment()), r2 = ((e3, t3) => {
          const n3 = (t3 || document).createElement("div");
          return n3.innerHTML = e3, Mn(yn(n3));
        })(t2, n2);
        Co(o2, r2), wo(e2), vo(e2, o2);
      }, No = (e2, t2, n2, o2) => ((e3, t3, n3, o3, r2) => {
        const s2 = /* @__PURE__ */ ((e4, t4) => (n4) => {
          e4(n4) && t4(((e5) => {
            const t5 = yn(Kn(e5).getOr(e5.target)), n5 = () => e5.stopPropagation(), o4 = () => e5.preventDefault(), r3 = S(o4, n5);
            return /* @__PURE__ */ ((e6, t6, n6, o5, r4, s3, a2) => ({ target: e6, x: t6, y: n6, stop: o5, prevent: r4, kill: s3, raw: a2 }))(t5, e5.clientX, e5.clientY, n5, o4, r3, e5);
          })(n4));
        })(n3, o3);
        return e3.dom.addEventListener(t3, s2, false), { unbind: T(Ro, e3, t3, s2, false) };
      })(e2, t2, n2, o2), Ro = (e2, t2, n2, o2) => {
        e2.dom.removeEventListener(t2, n2, o2);
      }, Ao = (e2, t2) => ({ left: e2, top: t2, translate: (n2, o2) => Ao(e2 + n2, t2 + o2) }), To = Ao, Oo = (e2, t2) => void 0 !== e2 ? e2 : void 0 !== t2 ? t2 : 0, Bo = (e2) => {
        const t2 = e2.dom, n2 = t2.ownerDocument.body;
        return n2 === t2 ? To(n2.offsetLeft, n2.offsetTop) : Gn(e2) ? ((e3) => {
          const t3 = e3.getBoundingClientRect();
          return To(t3.left, t3.top);
        })(t2) : To(0, 0);
      }, Po = (e2) => {
        const t2 = void 0 !== e2 ? e2.dom : document, n2 = t2.body.scrollLeft || t2.documentElement.scrollLeft, o2 = t2.body.scrollTop || t2.documentElement.scrollTop;
        return To(n2, o2);
      }, Do = (e2, t2, n2) => {
        const o2 = (void 0 !== n2 ? n2.dom : document).defaultView;
        o2 && o2.scrollTo(e2, t2);
      }, Lo = (e2, t2) => {
        xt().browser.isSafari() && w(e2.dom.scrollIntoViewIfNeeded) ? e2.dom.scrollIntoViewIfNeeded(false) : e2.dom.scrollIntoView(t2);
      }, Mo = (e2, t2, n2, o2) => ({ x: e2, y: t2, width: n2, height: o2, right: e2 + n2, bottom: t2 + o2 }), Io = (e2) => {
        const t2 = void 0 === e2 ? window : e2, n2 = t2.document, o2 = Po(yn(n2));
        return ((e3) => {
          const t3 = void 0 === e3 ? window : e3;
          return xt().browser.isFirefox() ? I.none() : I.from(t3.visualViewport);
        })(t2).fold(() => {
          const e3 = t2.document.documentElement, n3 = e3.clientWidth, r2 = e3.clientHeight;
          return Mo(o2.left, o2.top, n3, r2);
        }, (e3) => Mo(Math.max(e3.pageLeft, o2.left), Math.max(e3.pageTop, o2.top), e3.width, e3.height));
      }, Fo = (e2, t2) => {
        let n2 = [];
        return V(Mn(e2), (e3) => {
          t2(e3) && (n2 = n2.concat([e3])), n2 = n2.concat(Fo(e3, t2));
        }), n2;
      }, Uo = (e2, t2) => ((e3, t3) => {
        const n2 = void 0 === t3 ? document : t3.dom;
        return En(n2) ? [] : q(n2.querySelectorAll(e3), yn);
      })(t2, e2), zo = (e2, t2, n2) => eo(e2, t2, n2).isSome();
      class jo {
        constructor(e2, t2) {
          this.node = e2, this.rootNode = t2, this.current = this.current.bind(this), this.next = this.next.bind(this), this.prev = this.prev.bind(this), this.prev2 = this.prev2.bind(this);
        }
        current() {
          return this.node;
        }
        next(e2) {
          return this.node = this.findSibling(this.node, "firstChild", "nextSibling", e2), this.node;
        }
        prev(e2) {
          return this.node = this.findSibling(this.node, "lastChild", "previousSibling", e2), this.node;
        }
        prev2(e2) {
          return this.node = this.findPreviousNode(this.node, e2), this.node;
        }
        findSibling(e2, t2, n2, o2) {
          if (e2) {
            if (!o2 && e2[t2]) return e2[t2];
            if (e2 !== this.rootNode) {
              let t3 = e2[n2];
              if (t3) return t3;
              for (let o3 = e2.parentNode; o3 && o3 !== this.rootNode; o3 = o3.parentNode) if (t3 = o3[n2], t3) return t3;
            }
          }
        }
        findPreviousNode(e2, t2) {
          if (e2) {
            const n2 = e2.previousSibling;
            if (this.rootNode && n2 === this.rootNode) return;
            if (n2) {
              if (!t2) {
                for (let e3 = n2.lastChild; e3; e3 = e3.lastChild) if (!e3.lastChild) return e3;
              }
              return n2;
            }
            const o2 = e2.parentNode;
            if (o2 && o2 !== this.rootNode) return o2;
          }
        }
      }
      const Ho = (e2) => (t2) => !!t2 && t2.nodeType === e2, $o = (e2) => !!e2 && !Object.getPrototypeOf(e2), qo = Ho(1), Vo = (e2) => qo(e2) && Vt(yn(e2)), Wo = (e2) => {
        const t2 = e2.toLowerCase();
        return (e3) => C(e3) && e3.nodeName.toLowerCase() === t2;
      }, Ko = (e2) => {
        const t2 = e2.map((e3) => e3.toLowerCase());
        return (e3) => {
          if (e3 && e3.nodeName) {
            const n2 = e3.nodeName.toLowerCase();
            return H(t2, n2);
          }
          return false;
        };
      }, Yo = (e2, t2) => {
        const n2 = t2.toLowerCase().split(" ");
        return (t3) => {
          if (qo(t3)) {
            const o2 = t3.ownerDocument.defaultView;
            if (o2) for (let r2 = 0; r2 < n2.length; r2++) {
              const s2 = o2.getComputedStyle(t3, null);
              if ((s2 ? s2.getPropertyValue(e2) : null) === n2[r2]) return true;
            }
          }
          return false;
        };
      }, Go = (e2) => (t2) => qo(t2) && t2.hasAttribute(e2), Xo = (e2) => qo(e2) && e2.hasAttribute("data-mce-bogus"), Qo = (e2) => qo(e2) && "TABLE" === e2.tagName, Jo = (e2) => (t2) => {
        if (Vo(t2)) {
          if (t2.contentEditable === e2) return true;
          if (t2.getAttribute("data-mce-contenteditable") === e2) return true;
        }
        return false;
      }, Zo = Ko(["textarea", "input"]), er = Ho(3), tr = Ho(4), nr = Ho(7), or = Ho(8), rr = Ho(9), sr = Ho(11), ar = Wo("br"), ir = Wo("img"), lr = Jo("true"), dr = Jo("false"), cr = Ko(["td", "th"]), ur = Ko(["td", "th", "caption"]), mr = Ko(["video", "audio", "object", "embed"]), fr = Wo("li"), gr = Wo("details"), pr = Wo("summary"), hr = "\uFEFF", br = " ", vr = (e2) => e2 === hr, yr = /* @__PURE__ */ ((e2, t2) => {
        const n2 = (t3) => e2(t3) ? I.from(t3.dom.nodeValue) : I.none();
        return { get: (t3) => {
          if (!e2(t3)) throw new Error("Can only get text value of a text node");
          return n2(t3).getOr("");
        }, getOption: n2, set: (t3, n3) => {
          if (!e2(t3)) throw new Error("Can only set raw text value of a text node");
          t3.dom.nodeValue = n3;
        } };
      })(Kt), Cr = (e2) => yr.get(e2), wr = (e2) => yr.getOption(e2), xr = (e2) => {
        let t2;
        return (n2) => (t2 = t2 || se(e2, M), Ee(t2, Ht(n2)));
      }, Er = (e2) => Wt(e2) && "br" === Ht(e2), _r = xr(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]), Sr = xr(["ul", "ol", "dl"]), kr = xr(["li", "dd", "dt"]), Nr = xr(["thead", "tbody", "tfoot"]), Rr = xr(["td", "th"]), Ar = xr(["pre", "script", "textarea", "style"]), Tr = () => {
        const e2 = bn("br");
        return Jt(e2, "data-mce-bogus", "1"), e2;
      }, Or = (e2) => {
        wo(e2), vo(e2, Tr());
      }, Br = hr, Pr = vr, Dr = (e2) => e2.replace(/\uFEFF/g, ""), Lr = qo, Mr = er, Ir = (e2) => (Mr(e2) && (e2 = e2.parentNode), Lr(e2) && e2.hasAttribute("data-mce-caret")), Fr = (e2) => Mr(e2) && Pr(e2.data), Ur = (e2) => Ir(e2) || Fr(e2), zr = (e2) => e2.firstChild !== e2.lastChild || !ar(e2.firstChild), jr = (e2) => {
        const t2 = e2.container();
        return !!er(t2) && (t2.data.charAt(e2.offset()) === Br || e2.isAtStart() && Fr(t2.previousSibling));
      }, Hr = (e2) => {
        const t2 = e2.container();
        return !!er(t2) && (t2.data.charAt(e2.offset() - 1) === Br || e2.isAtEnd() && Fr(t2.nextSibling));
      }, $r = (e2) => Mr(e2) && e2.data[0] === Br, qr = (e2) => Mr(e2) && e2.data[e2.data.length - 1] === Br, Vr = (e2) => e2 && e2.hasAttribute("data-mce-caret") ? (((e3) => {
        var t2;
        const n2 = e3.getElementsByTagName("br"), o2 = n2[n2.length - 1];
        Xo(o2) && (null === (t2 = o2.parentNode) || void 0 === t2 || t2.removeChild(o2));
      })(e2), e2.removeAttribute("data-mce-caret"), e2.removeAttribute("data-mce-bogus"), e2.removeAttribute("style"), e2.removeAttribute("data-mce-style"), e2.removeAttribute("_moz_abspos"), e2) : null, Wr = (e2) => Ir(e2.startContainer), Kr = lr, Yr = dr, Gr = ar, Xr = er, Qr = Ko(["script", "style", "textarea"]), Jr = Ko(["img", "input", "textarea", "hr", "iframe", "video", "audio", "object", "embed"]), Zr = Ko(["table"]), es = Ur, ts = (e2) => !es(e2) && (Xr(e2) ? !Qr(e2.parentNode) : Jr(e2) || Gr(e2) || Zr(e2) || ns(e2)), ns = (e2) => !((e3) => qo(e3) && "true" === e3.getAttribute("unselectable"))(e2) && Yr(e2), os = (e2, t2) => ts(e2) && ((e3, t3) => {
        for (let n2 = e3.parentNode; n2 && n2 !== t3; n2 = n2.parentNode) {
          if (ns(n2)) return false;
          if (Kr(n2)) return true;
        }
        return true;
      })(e2, t2), rs = /^[ \t\r\n]*$/, ss = (e2) => rs.test(e2), as = (e2) => {
        for (const t2 of e2) if (!vr(t2)) return false;
        return true;
      }, is = (e2) => "\n" === e2 || "\r" === e2, ls = (e2, t2 = 4, n2 = true, o2 = true) => {
        const r2 = ((e3, t3) => t3 <= 0 ? "" : new Array(t3 + 1).join(" "))(0, t2), s2 = e2.replace(/\t/g, r2), a2 = X(s2, (e3, t3) => ((e4) => -1 !== " \f	\v".indexOf(e4))(t3) || t3 === br ? e3.pcIsSpace || "" === e3.str && n2 || e3.str.length === s2.length - 1 && o2 || ((e4, t4) => t4 < e4.length && t4 >= 0 && is(e4[t4]))(s2, e3.str.length + 1) ? { pcIsSpace: false, str: e3.str + br } : { pcIsSpace: true, str: e3.str + " " } : { pcIsSpace: is(t3), str: e3.str + t3 }, { pcIsSpace: false, str: "" });
        return a2.str;
      }, ds = (e2, t2) => ts(e2) && !((e3, t3) => er(e3) && ss(e3.data) && !((e4, t4) => {
        const n2 = yn(t4), o2 = yn(e4);
        return zo(o2, "pre,code", T(_n, n2));
      })(e3, t3))(e2, t2) || ((e3) => qo(e3) && "A" === e3.nodeName && !e3.hasAttribute("href") && (e3.hasAttribute("name") || e3.hasAttribute("id")))(e2) || cs(e2), cs = Go("data-mce-bookmark"), us = Go("data-mce-bogus"), ms = ("data-mce-bogus", "all", (e2) => qo(e2) && "all" === e2.getAttribute("data-mce-bogus"));
      const fs = (e2) => Tn(yn(e2)).exists((e3) => !oo(e3)), gs = (e2, t2 = true) => ((e3, t3) => {
        let n2 = 0;
        if (ds(e3, e3)) return false;
        {
          let o2 = e3.firstChild;
          if (!o2) return true;
          const r2 = new jo(o2, e3);
          do {
            if (t3) {
              if (ms(o2)) {
                o2 = r2.next(true);
                continue;
              }
              if (us(o2)) {
                o2 = r2.next();
                continue;
              }
            }
            if (lr(o2) && fs(o2)) return false;
            if (ar(o2)) n2++, o2 = r2.next();
            else {
              if (ds(o2, e3)) return false;
              o2 = r2.next();
            }
          } while (o2);
          return n2 <= 1;
        }
      })(e2.dom, t2), ps = (e2) => "svg" === e2.toLowerCase(), hs = (e2) => ps(e2.nodeName), bs = (e2) => "svg" === (null == e2 ? void 0 : e2.nodeName) ? "svg" : "html", vs = ["svg"], ys = "data-mce-block", Cs = (e2) => q(((e3) => Y(me(e3), (e4) => !/[A-Z]/.test(e4)))(e2), (e3) => `${e3}:` + q(vs, (t2) => `not(${t2} ${e3})`).join(":")).join(","), ws = (e2, t2) => C(t2.querySelector(e2)) ? (t2.setAttribute(ys, "true"), "inline-boundary" === t2.getAttribute("data-mce-selected") && t2.removeAttribute("data-mce-selected"), true) : (t2.removeAttribute(ys), false), xs = (e2, t2) => {
        const n2 = Cs(e2.getTransparentElements()), o2 = Cs(e2.getBlockElements());
        return Y(t2.querySelectorAll(n2), (e3) => ws(o2, e3));
      }, Es = (e2, t2) => {
        var n2;
        const o2 = t2 ? "lastChild" : "firstChild";
        for (let t3 = e2[o2]; t3; t3 = t3[o2]) if (gs(yn(t3))) return void (null === (n2 = t3.parentNode) || void 0 === n2 || n2.removeChild(t3));
      }, _s = (e2, t2, n2) => {
        const o2 = e2.getBlockElements(), r2 = yn(t2), s2 = (e3) => Ht(e3) in o2, a2 = (e3) => _n(e3, r2);
        V(_o(n2), (t3) => {
          Qn(t3, s2, a2).each((n3) => {
            const o3 = ((t4, o4) => Y(Mn(t4), (t5) => s2(t5) && !e2.isValidChild(Ht(n3), Ht(t5))))(t3);
            if (o3.length > 0) {
              const t4 = Tn(n3);
              V(o3, (e3) => {
                Qn(e3, s2, a2).each((t5) => {
                  ((e4, t6) => {
                    const n4 = document.createRange(), o4 = e4.parentNode;
                    if (o4) {
                      n4.setStartBefore(e4), n4.setEndBefore(t6);
                      const r3 = n4.extractContents();
                      Es(r3, true), n4.setStartAfter(t6), n4.setEndAfter(e4);
                      const s3 = n4.extractContents();
                      Es(s3, false), gs(yn(r3)) || o4.insertBefore(r3, e4), gs(yn(t6)) || o4.insertBefore(t6, e4), gs(yn(s3)) || o4.insertBefore(s3, e4), o4.removeChild(e4);
                    }
                  })(t5.dom, e3.dom);
                });
              }), t4.each((t5) => xs(e2, t5.dom));
            }
          });
        });
      }, Ss = (e2, t2) => {
        const n2 = xs(e2, t2);
        _s(e2, t2, n2), ((e3, t3, n3) => {
          V([...n3, ...Ts(e3, t3) ? [t3] : []], (t4) => V(Uo(yn(t4), t4.nodeName.toLowerCase()), (t5) => {
            Os(e3, t5.dom) && Eo(t5);
          }));
        })(e2, t2, n2);
      }, ks = (e2, t2) => {
        if (As(e2, t2)) {
          const n2 = Cs(e2.getBlockElements());
          ws(n2, t2);
        }
      }, Ns = (e2) => e2.hasAttribute(ys), Rs = (e2, t2) => Ee(e2.getTransparentElements(), t2), As = (e2, t2) => qo(t2) && Rs(e2, t2.nodeName), Ts = (e2, t2) => As(e2, t2) && Ns(t2), Os = (e2, t2) => As(e2, t2) && !Ns(t2), Bs = (e2, t2) => 1 === t2.type && Rs(e2, t2.name) && m(t2.attr(ys)), Ps = xt().browser, Ds = (e2) => J(e2, Wt), Ls = (e2, t2) => e2.children && H(e2.children, t2), Ms = (e2, t2 = {}) => {
        let n2 = 0;
        const o2 = {}, r2 = yn(e2), s2 = Nn(r2), a2 = (e3) => {
          vo(Vn(r2), e3);
        }, i2 = (e3) => {
          const t3 = Vn(r2);
          to(t3, "#" + e3).each(xo);
        }, l2 = (e3) => xe(o2, e3).getOrThunk(() => ({ id: "mce-u" + n2++, passed: [], failed: [], count: 0 })), d2 = (e3) => new Promise((n3, r3) => {
          let i3;
          const d3 = Pt._addCacheSuffix(e3), c3 = l2(d3);
          o2[d3] = c3, c3.count++;
          const u2 = (e4, t3) => {
            V(e4, D), c3.status = t3, c3.passed = [], c3.failed = [], i3 && (i3.onload = null, i3.onerror = null, i3 = null);
          }, m2 = () => u2(c3.passed, 2), f2 = () => u2(c3.failed, 3);
          if (n3 && c3.passed.push(n3), r3 && c3.failed.push(r3), 1 === c3.status) return;
          if (2 === c3.status) return void m2();
          if (3 === c3.status) return void f2();
          c3.status = 1;
          const g2 = bn("link", s2.dom);
          Zt(g2, { rel: "stylesheet", type: "text/css", id: c3.id }), t2.contentCssCors && Jt(g2, "crossOrigin", "anonymous"), t2.referrerPolicy && Jt(g2, "referrerpolicy", t2.referrerPolicy), i3 = g2.dom, i3.onload = m2, i3.onerror = f2, a2(g2), Jt(g2, "href", d3);
        }), c2 = (e3) => {
          const t3 = Pt._addCacheSuffix(e3);
          xe(o2, t3).each((e4) => {
            0 == --e4.count && (delete o2[t3], i2(e4.id));
          });
        };
        return { load: d2, loadRawCss: (e3, t3) => {
          const n3 = l2(e3);
          o2[e3] = n3, n3.count++;
          const r3 = bn("style", s2.dom);
          Zt(r3, { rel: "stylesheet", type: "text/css", id: n3.id }), r3.dom.innerHTML = t3, a2(r3);
        }, loadAll: (e3) => Promise.allSettled(q(e3, (e4) => d2(e4).then(N(e4)))).then((e4) => {
          const t3 = K(e4, (e5) => "fulfilled" === e5.status);
          return t3.fail.length > 0 ? Promise.reject(q(t3.fail, (e5) => e5.reason)) : q(t3.pass, (e5) => e5.value);
        }), unload: c2, unloadRawCss: (e3) => {
          xe(o2, e3).each((t3) => {
            0 == --t3.count && (delete o2[e3], i2(t3.id));
          });
        }, unloadAll: (e3) => {
          V(e3, (e4) => {
            c2(e4);
          });
        }, _setReferrerPolicy: (e3) => {
          t2.referrerPolicy = e3;
        }, _setContentCssCors: (e3) => {
          t2.contentCssCors = e3;
        } };
      }, Is = /* @__PURE__ */ (() => {
        const e2 = /* @__PURE__ */ new WeakMap();
        return { forElement: (t2, n2) => {
          const o2 = qn(t2).dom;
          return I.from(e2.get(o2)).getOrThunk(() => {
            const t3 = Ms(o2, n2);
            return e2.set(o2, t3), t3;
          });
        } };
      })(), Fs = (e2, t2, n2) => C(e2) && (ds(e2, t2) || n2.isInline(e2.nodeName.toLowerCase())), Us = (e2) => ((e3) => "span" === e3.nodeName.toLowerCase())(e2) && "bookmark" === e2.getAttribute("data-mce-type"), zs = (e2, t2, n2, o2) => {
        var r2;
        const s2 = o2 || t2;
        if (qo(t2) && Us(t2)) return t2;
        const a2 = t2.childNodes;
        for (let t3 = a2.length - 1; t3 >= 0; t3--) zs(e2, a2[t3], n2, s2);
        if (qo(t2)) {
          const e3 = t2.childNodes;
          1 === e3.length && Us(e3[0]) && (null === (r2 = t2.parentNode) || void 0 === r2 || r2.insertBefore(e3[0], t2));
        }
        return ((e3) => sr(e3) || rr(e3))(t2) || ds(t2, s2) || ((e3) => !!qo(e3) && e3.childNodes.length > 0)(t2) || ((e3, t3, n3) => er(e3) && e3.data.length > 0 && ((e4, t4, n4) => {
          const o3 = new jo(e4, t4).prev(false), r3 = new jo(e4, t4).next(false), s3 = v(o3) || Fs(o3, t4, n4), a3 = v(r3) || Fs(r3, t4, n4);
          return s3 && a3;
        })(e3, t3, n3))(t2, s2, n2) || e2.remove(t2), t2;
      }, js = Pt.makeMap, Hs = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g, $s = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g, qs = /[<>&\"\']/g, Vs = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi, Ws = { 128: "€", 130: "‚", 131: "ƒ", 132: "„", 133: "…", 134: "†", 135: "‡", 136: "ˆ", 137: "‰", 138: "Š", 139: "‹", 140: "Œ", 142: "Ž", 145: "‘", 146: "’", 147: "“", 148: "”", 149: "•", 150: "–", 151: "—", 152: "˜", 153: "™", 154: "š", 155: "›", 156: "œ", 158: "ž", 159: "Ÿ" }, Ks = { '"': "&quot;", "'": "&#39;", "<": "&lt;", ">": "&gt;", "&": "&amp;", "`": "&#96;" }, Ys = { "&lt;": "<", "&gt;": ">", "&amp;": "&", "&quot;": '"', "&apos;": "'" }, Gs = (e2, t2) => {
        const n2 = {};
        if (e2) {
          const o2 = e2.split(",");
          t2 = t2 || 10;
          for (let e3 = 0; e3 < o2.length; e3 += 2) {
            const r2 = String.fromCharCode(parseInt(o2[e3], t2));
            if (!Ks[r2]) {
              const t3 = "&" + o2[e3 + 1] + ";";
              n2[r2] = t3, n2[t3] = r2;
            }
          }
          return n2;
        }
      }, Xs = Gs("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32), Qs = (e2, t2) => e2.replace(t2 ? Hs : $s, (e3) => Ks[e3] || e3), Js = (e2, t2) => e2.replace(t2 ? Hs : $s, (e3) => e3.length > 1 ? "&#" + (1024 * (e3.charCodeAt(0) - 55296) + (e3.charCodeAt(1) - 56320) + 65536) + ";" : Ks[e3] || "&#" + e3.charCodeAt(0) + ";"), Zs = (e2, t2, n2) => {
        const o2 = n2 || Xs;
        return e2.replace(t2 ? Hs : $s, (e3) => Ks[e3] || o2[e3] || e3);
      }, ea = { encodeRaw: Qs, encodeAllRaw: (e2) => ("" + e2).replace(qs, (e3) => Ks[e3] || e3), encodeNumeric: Js, encodeNamed: Zs, getEncodeFunc: (e2, t2) => {
        const n2 = Gs(t2) || Xs, o2 = js(e2.replace(/\+/g, ","));
        return o2.named && o2.numeric ? (e3, t3) => e3.replace(t3 ? Hs : $s, (e4) => void 0 !== Ks[e4] ? Ks[e4] : void 0 !== n2[e4] ? n2[e4] : e4.length > 1 ? "&#" + (1024 * (e4.charCodeAt(0) - 55296) + (e4.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e4.charCodeAt(0) + ";") : o2.named ? t2 ? (e3, t3) => Zs(e3, t3, n2) : Zs : o2.numeric ? Js : Qs;
      }, decode: (e2) => e2.replace(Vs, (e3, t2) => t2 ? (t2 = "x" === t2.charAt(0).toLowerCase() ? parseInt(t2.substr(1), 16) : parseInt(t2, 10)) > 65535 ? (t2 -= 65536, String.fromCharCode(55296 + (t2 >> 10), 56320 + (1023 & t2))) : Ws[t2] || String.fromCharCode(t2) : Ys[e3] || Xs[e3] || ((e4) => {
        const t3 = bn("div").dom;
        return t3.innerHTML = e4, t3.textContent || t3.innerText || e4;
      })(e3)) }, ta = (e2, t2) => (e2 = Pt.trim(e2)) ? e2.split(t2 || " ") : [], na = (e2) => new RegExp("^" + e2.replace(/([?+*])/g, ".$1") + "$"), oa = {}, ra = Pt.makeMap, sa = Pt.each, aa = Pt.extend, ia = Pt.explode, la = (e2, t2 = {}) => {
        const n2 = ra(e2, " ", ra(e2.toUpperCase(), " "));
        return aa(n2, t2);
      }, da = (e2) => la("td th li dt dd figcaption caption details summary", e2.getTextBlockElements()), ca = (e2, t2) => {
        if (e2) {
          const n2 = {};
          return m(e2) && (e2 = { "*": e2 }), sa(e2, (e3, o2) => {
            n2[o2] = n2[o2.toUpperCase()] = "map" === t2 ? ra(e3, /[, ]/) : ia(e3, /[, ]/);
          }), n2;
        }
      }, ua = (e2 = {}) => {
        var t2;
        const n2 = {}, o2 = {};
        let r2 = [];
        const s2 = {}, a2 = {}, i2 = (t3, n3, o3) => {
          const r3 = e2[t3];
          if (r3) return ra(r3, /[, ]/, ra(r3.toUpperCase(), /[, ]/));
          {
            let e3 = oa[t3];
            return e3 || (e3 = la(n3, o3), oa[t3] = e3), e3;
          }
        }, l2 = null !== (t2 = e2.schema) && void 0 !== t2 ? t2 : "html5", d2 = ((e3) => {
          const { globalAttributes: t3, phrasingContent: n3, flowContent: o3 } = ((e4) => {
            let t4, n4, o4;
            t4 = "id accesskey class dir lang style tabindex title role", n4 = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", o4 = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e4 && (t4 += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", n4 += " article aside details dialog figure main header footer hgroup section nav a ins del canvas map", o4 += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"), "html5-strict" !== e4 && (t4 += " xml:lang", o4 = [o4, "acronym applet basefont big font strike tt"].join(" "), n4 = [n4, "center dir isindex noframes"].join(" "));
            const r4 = [n4, o4].join(" ");
            return { globalAttributes: t4, blockContent: n4, phrasingContent: o4, flowContent: r4 };
          })(e3), r3 = {}, s3 = (e4, t4, n4) => {
            r3[e4] = { attributes: se(t4, N({})), attributesOrder: t4, children: se(n4, N({})) };
          }, a3 = (e4, n4 = "", o4 = "") => {
            const r4 = ta(o4), a4 = ta(e4);
            let i4 = a4.length;
            const l3 = ta([t3, n4].join(" "));
            for (; i4--; ) s3(a4[i4], l3.slice(), r4);
          }, i3 = (e4, t4) => {
            const n4 = ta(e4), o4 = ta(t4);
            let s4 = n4.length;
            for (; s4--; ) {
              const e5 = r3[n4[s4]];
              for (let t5 = 0, n5 = o4.length; t5 < n5; t5++) e5.attributes[o4[t5]] = {}, e5.attributesOrder.push(o4[t5]);
            }
          };
          return "html5-strict" !== e3 && (V(ta("acronym applet basefont big font strike tt"), (e4) => {
            a3(e4, "", n3);
          }), V(ta("center dir isindex noframes"), (e4) => {
            a3(e4, "", o3);
          })), a3("html", "manifest", "head body"), a3("head", "", "base command link meta noscript script style title"), a3("title hr noscript br"), a3("base", "href target"), a3("link", "href rel media hreflang type sizes hreflang"), a3("meta", "name http-equiv content charset"), a3("style", "media type scoped"), a3("script", "src async defer type charset"), a3("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", o3), a3("dd div", "", o3), a3("address dt caption", "", "html4" === e3 ? n3 : o3), a3("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", n3), a3("blockquote", "cite", o3), a3("ol", "reversed start type", "li"), a3("ul", "", "li"), a3("li", "value", o3), a3("dl", "", "dt dd"), a3("a", "href target rel media hreflang type", "html4" === e3 ? n3 : o3), a3("q", "cite", n3), a3("ins del", "cite datetime", o3), a3("img", "src sizes srcset alt usemap ismap width height"), a3("iframe", "src name width height", o3), a3("embed", "src type width height"), a3("object", "data type typemustmatch name usemap form width height", [o3, "param"].join(" ")), a3("param", "name value"), a3("map", "name", [o3, "area"].join(" ")), a3("area", "alt coords shape href target rel media hreflang type"), a3("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e3 ? " col" : "")), a3("colgroup", "span", "col"), a3("col", "span"), a3("tbody thead tfoot", "", "tr"), a3("tr", "", "td th"), a3("td", "colspan rowspan headers", o3), a3("th", "colspan rowspan headers scope abbr", o3), a3("form", "accept-charset action autocomplete enctype method name novalidate target", o3), a3("fieldset", "disabled form name", [o3, "legend"].join(" ")), a3("label", "form for", n3), a3("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), a3("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e3 ? o3 : n3), a3("select", "disabled form multiple name required size", "option optgroup"), a3("optgroup", "disabled label", "option"), a3("option", "disabled label selected value"), a3("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), a3("menu", "type label", [o3, "li"].join(" ")), a3("noscript", "", o3), "html4" !== e3 && (a3("wbr"), a3("ruby", "", [n3, "rt rp"].join(" ")), a3("figcaption", "", o3), a3("mark rt rp bdi", "", n3), a3("summary", "", [n3, "h1 h2 h3 h4 h5 h6"].join(" ")), a3("canvas", "width height", o3), a3("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [o3, "track source"].join(" ")), a3("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [o3, "track source"].join(" ")), a3("picture", "", "img source"), a3("source", "src srcset type media sizes"), a3("track", "kind src srclang label default"), a3("datalist", "", [n3, "option"].join(" ")), a3("article section nav aside main header footer", "", o3), a3("hgroup", "", "h1 h2 h3 h4 h5 h6"), a3("figure", "", [o3, "figcaption"].join(" ")), a3("time", "datetime", n3), a3("dialog", "open", o3), a3("command", "type label icon disabled checked radiogroup command"), a3("output", "for form name", n3), a3("progress", "value max", n3), a3("meter", "value min max low high optimum", n3), a3("details", "open", [o3, "summary"].join(" ")), a3("keygen", "autofocus challenge disabled form keytype name"), s3("svg", "id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "), [])), "html5-strict" !== e3 && (i3("script", "language xml:space"), i3("style", "xml:space"), i3("object", "declare classid code codebase codetype archive standby align border hspace vspace"), i3("embed", "align name hspace vspace"), i3("param", "valuetype type"), i3("a", "charset name rev shape coords"), i3("br", "clear"), i3("applet", "codebase archive code object alt name width height align hspace vspace"), i3("img", "name longdesc align border hspace vspace"), i3("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), i3("font basefont", "size color face"), i3("input", "usemap align"), i3("select"), i3("textarea"), i3("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), i3("ul", "type compact"), i3("li", "type"), i3("ol dl menu dir", "compact"), i3("pre", "width xml:space"), i3("hr", "align noshade size width"), i3("isindex", "prompt"), i3("table", "summary width frame rules cellspacing cellpadding align bgcolor"), i3("col", "width align char charoff valign"), i3("colgroup", "width align char charoff valign"), i3("thead", "align char charoff valign"), i3("tr", "align char charoff valign bgcolor"), i3("th", "axis align char charoff valign nowrap bgcolor width height"), i3("form", "accept"), i3("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), i3("tfoot", "align char charoff valign"), i3("tbody", "align char charoff valign"), i3("area", "nohref"), i3("body", "background bgcolor text link vlink alink")), "html4" !== e3 && (i3("input button select textarea", "autofocus"), i3("input textarea", "placeholder"), i3("a", "download"), i3("link script img", "crossorigin"), i3("img", "loading"), i3("iframe", "sandbox seamless allow allowfullscreen loading")), "html4" !== e3 && V([r3.video, r3.audio], (e4) => {
            delete e4.children.audio, delete e4.children.video;
          }), V(ta("a form meter progress dfn"), (e4) => {
            r3[e4] && delete r3[e4].children[e4];
          }), delete r3.caption.children.table, delete r3.script, r3;
        })(l2);
        false === e2.verify_html && (e2.valid_elements = "*[*]");
        const c2 = ca(e2.valid_styles), u2 = ca(e2.invalid_styles, "map"), m2 = ca(e2.valid_classes, "map"), f2 = i2("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), g2 = i2("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), p2 = i2("void_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), h2 = i2("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"), b2 = "td th iframe video audio object script code", v2 = i2("non_empty_elements", b2 + " pre svg", p2), y2 = i2("move_caret_before_on_enter_elements", b2 + " table", p2), C2 = "h1 h2 h3 h4 h5 h6", w2 = i2("text_block_elements", C2 + " p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"), x2 = i2("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing", w2), E2 = i2("text_inline_elements", "span strong b em i font s strike u var cite dfn code mark q sup sub samp"), _2 = i2("transparent_elements", "a ins del canvas map"), S2 = i2("wrap_block_elements", "pre " + C2);
        sa("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "), (e3) => {
          a2[e3] = new RegExp("</" + e3 + "[^>]*>", "gi");
        });
        const k2 = (e3) => {
          const t3 = I.from(n2["@"]), o3 = /[*?+]/;
          V(((e4, t4) => {
            const n3 = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;
            return te(ta(t4, ","), (t5) => {
              const o4 = n3.exec(t5);
              if (o4) {
                const t6 = o4[1], n4 = o4[2], r3 = o4[3], s3 = o4[4], a3 = o4[5], i3 = { attributes: {}, attributesOrder: [] };
                if (e4.each((e5) => ((e6, t7) => {
                  ge(e6.attributes, (e7, n5) => {
                    t7.attributes[n5] = e7;
                  }), t7.attributesOrder.push(...e6.attributesOrder);
                })(e5, i3)), "#" === t6 ? i3.paddEmpty = true : "-" === t6 && (i3.removeEmpty = true), "!" === s3 && (i3.removeEmptyAttrs = true), a3 && ((e5, t7) => {
                  const n5 = /^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/, o5 = /[*?+]/, { attributes: r4, attributesOrder: s4 } = t7;
                  V(ta(e5, "|"), (e6) => {
                    const a4 = n5.exec(e6);
                    if (a4) {
                      const e7 = {}, n6 = a4[1], i4 = a4[2].replace(/[\\:]:/g, ":"), l3 = a4[3], d3 = a4[4];
                      if ("!" === n6 && (t7.attributesRequired = t7.attributesRequired || [], t7.attributesRequired.push(i4), e7.required = true), "-" === n6) return delete r4[i4], void s4.splice(Pt.inArray(s4, i4), 1);
                      if (l3 && ("=" === l3 ? (t7.attributesDefault = t7.attributesDefault || [], t7.attributesDefault.push({ name: i4, value: d3 }), e7.defaultValue = d3) : "~" === l3 ? (t7.attributesForced = t7.attributesForced || [], t7.attributesForced.push({ name: i4, value: d3 }), e7.forcedValue = d3) : "<" === l3 && (e7.validValues = Pt.makeMap(d3, "?"))), o5.test(i4)) {
                        const n7 = e7;
                        t7.attributePatterns = t7.attributePatterns || [], n7.pattern = na(i4), t7.attributePatterns.push(n7);
                      } else r4[i4] || s4.push(i4), r4[i4] = e7;
                    }
                  });
                })(a3, i3), r3 && (i3.outputName = n4), "@" === n4) {
                  if (!e4.isNone()) return [];
                  e4 = I.some(i3);
                }
                return [r3 ? { name: n4, element: i3, aliasName: r3 } : { name: n4, element: i3 }];
              }
              return [];
            });
          })(t3, null != e3 ? e3 : ""), ({ name: e4, element: t4, aliasName: s3 }) => {
            if (s3 && (n2[s3] = t4), o3.test(e4)) {
              const n3 = t4;
              n3.pattern = na(e4), r2.push(n3);
            } else n2[e4] = t4;
          });
        }, R2 = (e3) => {
          r2 = [], V(me(n2), (e4) => {
            delete n2[e4];
          }), k2(e3);
        }, A2 = (e3) => {
          delete oa.text_block_elements, delete oa.block_elements, V(((e4) => {
            const t3 = /^(~)?(.+)$/;
            return te(ta(e4, ","), (e5) => {
              const n3 = t3.exec(e5);
              if (n3) {
                const e6 = "~" === n3[1];
                return [{ inline: e6, cloneName: e6 ? "span" : "div", name: n3[2] }];
              }
              return [];
            });
          })(null != e3 ? e3 : ""), ({ inline: e4, name: t3, cloneName: r3 }) => {
            if (o2[t3] = o2[r3], s2[t3] = r3, v2[t3.toUpperCase()] = {}, v2[t3] = {}, e4 || (x2[t3.toUpperCase()] = {}, x2[t3] = {}), !n2[t3]) {
              let e5 = n2[r3];
              e5 = aa({}, e5), delete e5.removeEmptyAttrs, delete e5.removeEmpty, n2[t3] = e5;
            }
            ge(o2, (e5, n3) => {
              e5[r3] && (o2[n3] = e5 = aa({}, o2[n3]), e5[t3] = e5[r3]);
            });
          });
        }, T2 = (e3) => {
          V(((e4) => {
            const t3 = /^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;
            return te(ta(e4, ","), (e5) => {
              const n3 = t3.exec(e5);
              if (n3) {
                const e6 = n3[1], t4 = e6 ? /* @__PURE__ */ ((e7) => "-" === e7 ? "remove" : "add")(e6) : "replace";
                return [{ operation: t4, name: n3[2], validChildren: ta(n3[3], "|") }];
              }
              return [];
            });
          })(null != e3 ? e3 : ""), ({ operation: e4, name: t3, validChildren: n3 }) => {
            const r3 = "replace" === e4 ? { "#comment": {} } : o2[t3];
            V(n3, (t4) => {
              "remove" === e4 ? delete r3[t4] : r3[t4] = {};
            }), o2[t3] = r3;
          });
        }, O2 = (e3) => {
          const t3 = n2[e3];
          if (t3) return t3;
          let o3 = r2.length;
          for (; o3--; ) {
            const t4 = r2[o3];
            if (t4.pattern.test(e3)) return t4;
          }
        };
        e2.valid_elements ? (R2(e2.valid_elements), sa(d2, (e3, t3) => {
          o2[t3] = e3.children;
        })) : (sa(d2, (e3, t3) => {
          n2[t3] = { attributes: e3.attributes, attributesOrder: e3.attributesOrder }, o2[t3] = e3.children;
        }), sa(ta("strong/b em/i"), (e3) => {
          const t3 = ta(e3, "/");
          n2[t3[1]].outputName = t3[0];
        }), sa(E2, (t3, o3) => {
          n2[o3] && (e2.padd_empty_block_inline_children && (n2[o3].paddInEmptyBlock = true), n2[o3].removeEmpty = true);
        }), sa(ta("ol ul blockquote a table tbody"), (e3) => {
          n2[e3] && (n2[e3].removeEmpty = true);
        }), sa(ta("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"), (e3) => {
          n2[e3] && (n2[e3].paddEmpty = true);
        }), sa(ta("span"), (e3) => {
          n2[e3].removeEmptyAttrs = true;
        })), delete n2.svg, A2(e2.custom_elements), T2(e2.valid_children), k2(e2.extended_valid_elements), T2("+ol[ul|ol],+ul[ul|ol]"), sa({ dd: "dl", dt: "dl", li: "ul ol", td: "tr", th: "tr", tr: "tbody thead tfoot", tbody: "table", thead: "table", tfoot: "table", legend: "fieldset", area: "map", param: "video audio object" }, (e3, t3) => {
          n2[t3] && (n2[t3].parentsRequired = ta(e3));
        }), e2.invalid_elements && sa(ia(e2.invalid_elements), (e3) => {
          n2[e3] && delete n2[e3];
        }), O2("span") || k2("span[!data-mce-type|*]");
        const B2 = N(c2), P2 = N(u2), D2 = N(m2), L2 = N(h2), M2 = N(x2), F2 = N(w2), U2 = N(E2), z2 = N(Object.seal(p2)), j2 = N(g2), H2 = N(v2), $2 = N(y2), q2 = N(f2), W2 = N(_2), K2 = N(S2), Y2 = N(Object.seal(a2)), G2 = (e3, t3) => {
          const n3 = O2(e3);
          if (n3) {
            if (!t3) return true;
            {
              if (n3.attributes[t3]) return true;
              const e4 = n3.attributePatterns;
              if (e4) {
                let n4 = e4.length;
                for (; n4--; ) if (e4[n4].pattern.test(t3)) return true;
              }
            }
          }
          return false;
        }, X2 = (e3) => Ee(M2(), e3), Q2 = (e3) => !He(e3, "#") && G2(e3) && !X2(e3), J2 = N(s2);
        return { type: l2, children: o2, elements: n2, getValidStyles: B2, getValidClasses: D2, getBlockElements: M2, getInvalidStyles: P2, getVoidElements: z2, getTextBlockElements: F2, getTextInlineElements: U2, getBoolAttrs: L2, getElementRule: O2, getSelfClosingElements: j2, getNonEmptyElements: H2, getMoveCaretBeforeOnEnterElements: $2, getWhitespaceElements: q2, getTransparentElements: W2, getSpecialElements: Y2, isValidChild: (e3, t3) => {
          const n3 = o2[e3.toLowerCase()];
          return !(!n3 || !n3[t3.toLowerCase()]);
        }, isValid: G2, isBlock: X2, isInline: Q2, isWrapper: (e3) => Ee(K2(), e3) || Q2(e3), getCustomElements: J2, addValidElements: k2, setValidElements: R2, addCustomElements: A2, addValidChildren: T2 };
      }, ma = (e2) => {
        const t2 = e2.toString(16);
        return (1 === t2.length ? "0" + t2 : t2).toUpperCase();
      }, fa = (e2) => ((e3) => {
        return { value: (t2 = e3, ze(t2, "#").toUpperCase()) };
        var t2;
      })(ma(e2.red) + ma(e2.green) + ma(e2.blue)), ga = /^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i, pa = /^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i, ha = (e2, t2, n2, o2) => ({ red: e2, green: t2, blue: n2, alpha: o2 }), ba = (e2, t2, n2, o2) => {
        const r2 = parseInt(e2, 10), s2 = parseInt(t2, 10), a2 = parseInt(n2, 10), i2 = parseFloat(o2);
        return ha(r2, s2, a2, i2);
      }, va = (e2) => {
        if ("transparent" === e2) return I.some(ha(0, 0, 0, 0));
        const t2 = ga.exec(e2);
        if (null !== t2) return I.some(ba(t2[1], t2[2], t2[3], "1"));
        const n2 = pa.exec(e2);
        return null !== n2 ? I.some(ba(n2[1], n2[2], n2[3], n2[4])) : I.none();
      }, ya = (e2) => `rgba(${e2.red},${e2.green},${e2.blue},${e2.alpha})`, Ca = (e2) => va(e2).map(fa).map((e3) => "#" + e3.value).getOr(e2), wa = (e2 = {}, t2) => {
        const n2 = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi, o2 = /\s*([^:]+):\s*([^;]+);?/g, r2 = /\s+$/, s2 = {};
        let a2, i2;
        const l2 = hr;
        t2 && (a2 = t2.getValidStyles(), i2 = t2.getInvalidStyles());
        const d2 = `\\" \\' \\; \\: ; : \uFEFF`.split(" ");
        for (let e3 = 0; e3 < d2.length; e3++) s2[d2[e3]] = l2 + e3, s2[l2 + e3] = d2[e3];
        const c2 = { parse: (t3) => {
          const a3 = {};
          let i3 = false;
          const d3 = e2.url_converter, u2 = e2.url_converter_scope || c2, f2 = (e3, t4, n3) => {
            const o3 = a3[e3 + "-top" + t4];
            if (!o3) return;
            const r3 = a3[e3 + "-right" + t4];
            if (!r3) return;
            const s3 = a3[e3 + "-bottom" + t4];
            if (!s3) return;
            const i4 = a3[e3 + "-left" + t4];
            if (!i4) return;
            const l3 = [o3, r3, s3, i4];
            let d4 = l3.length - 1;
            for (; d4-- && l3[d4] === l3[d4 + 1]; ) ;
            d4 > -1 && n3 || (a3[e3 + t4] = -1 === d4 ? l3[0] : l3.join(" "), delete a3[e3 + "-top" + t4], delete a3[e3 + "-right" + t4], delete a3[e3 + "-bottom" + t4], delete a3[e3 + "-left" + t4]);
          }, g2 = (e3) => {
            const t4 = a3[e3];
            if (!t4) return;
            const n3 = t4.indexOf(",") > -1 ? [t4] : t4.split(" ");
            let o3 = n3.length;
            for (; o3--; ) if (n3[o3] !== n3[0]) return false;
            return a3[e3] = n3[0], true;
          }, p2 = (e3) => (i3 = true, s2[e3]), h2 = (e3, t4) => (i3 && (e3 = e3.replace(/\uFEFF[0-9]/g, (e4) => s2[e4])), t4 || (e3 = e3.replace(/\\([\'\";:])/g, "$1")), e3), b2 = (e3) => String.fromCharCode(parseInt(e3.slice(1), 16)), v2 = (e3) => e3.replace(/\\[0-9a-f]+/gi, b2), y2 = (t4, n3, o3, r3, s3, a4) => {
            if (s3 = s3 || a4) return "'" + (s3 = h2(s3)).replace(/\'/g, "\\'") + "'";
            if (n3 = h2(n3 || o3 || r3 || ""), !e2.allow_script_urls) {
              const t5 = n3.replace(/[\s\r\n]+/g, "");
              if (/(java|vb)script:/i.test(t5)) return "";
              if (!e2.allow_svg_data_urls && /^data:image\/svg/i.test(t5)) return "";
            }
            return d3 && (n3 = d3.call(u2, n3, "style")), "url('" + n3.replace(/\'/g, "\\'") + "')";
          };
          if (t3) {
            let s3;
            for (t3 = (t3 = t3.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, p2).replace(/\"[^\"]+\"|\'[^\']+\'/g, (e3) => e3.replace(/[;:]/g, p2)); s3 = o2.exec(t3); ) {
              o2.lastIndex = s3.index + s3[0].length;
              let t4 = s3[1].replace(r2, "").toLowerCase(), d4 = s3[2].replace(r2, "");
              if (t4 && d4) {
                if (t4 = v2(t4), d4 = v2(d4), -1 !== t4.indexOf(l2) || -1 !== t4.indexOf('"')) continue;
                if (!e2.allow_script_urls && ("behavior" === t4 || /expression\s*\(|\/\*|\*\//.test(d4))) continue;
                "font-weight" === t4 && "700" === d4 ? d4 = "bold" : "color" !== t4 && "background-color" !== t4 || (d4 = d4.toLowerCase()), m(e2.force_hex_color) && "off" !== e2.force_hex_color && va(d4).each((t5) => {
                  "always" !== e2.force_hex_color && 1 !== t5.alpha || (d4 = Ca(ya(t5)));
                }), d4 = d4.replace(n2, y2), a3[t4] = i3 ? h2(d4, true) : d4;
              }
            }
            f2("border", "", true), f2("border", "-width"), f2("border", "-color"), f2("border", "-style"), f2("padding", ""), f2("margin", ""), "border", w2 = "border-style", x2 = "border-color", g2(C2 = "border-width") && g2(w2) && g2(x2) && (a3.border = a3[C2] + " " + a3[w2] + " " + a3[x2], delete a3[C2], delete a3[w2], delete a3[x2]), "medium none" === a3.border && delete a3.border, "none" === a3["border-image"] && delete a3["border-image"];
          }
          var C2, w2, x2;
          return a3;
        }, serialize: (e3, t3) => {
          let n3 = "";
          const o3 = (t4, o4) => {
            const r3 = o4[t4];
            if (r3) for (let t5 = 0, o5 = r3.length; t5 < o5; t5++) {
              const o6 = r3[t5], s3 = e3[o6];
              s3 && (n3 += (n3.length > 0 ? " " : "") + o6 + ": " + s3 + ";");
            }
          };
          return t3 && a2 ? (o3("*", a2), o3(t3, a2)) : ge(e3, (e4, o4) => {
            e4 && ((e5, t4) => {
              if (!i2 || !t4) return true;
              let n4 = i2["*"];
              return !(n4 && n4[e5] || (n4 = i2[t4], n4 && n4[e5]));
            })(o4, t3) && (n3 += (n3.length > 0 ? " " : "") + o4 + ": " + e4 + ";");
          }), n3;
        } };
        return c2;
      }, xa = { keyLocation: true, layerX: true, layerY: true, returnValue: true, webkitMovementX: true, webkitMovementY: true, keyIdentifier: true, mozPressure: true }, Ea = (e2, t2) => {
        const n2 = null != t2 ? t2 : {};
        for (const t3 in e2) Ee(xa, t3) || (n2[t3] = e2[t3]);
        return C(e2.composedPath) && (n2.composedPath = () => e2.composedPath()), C(e2.getModifierState) && (n2.getModifierState = (t3) => e2.getModifierState(t3)), C(e2.getTargetRanges) && (n2.getTargetRanges = () => e2.getTargetRanges()), n2;
      }, _a = (e2, t2, n2, o2) => {
        var r2;
        const s2 = Ea(t2, o2);
        return s2.type = e2, y(s2.target) && (s2.target = null !== (r2 = s2.srcElement) && void 0 !== r2 ? r2 : n2), ((e3) => y(e3.preventDefault) || ((e4) => e4 instanceof Event || w(e4.initEvent))(e3))(t2) && (s2.preventDefault = () => {
          s2.defaultPrevented = true, s2.isDefaultPrevented = M, w(t2.preventDefault) && t2.preventDefault();
        }, s2.stopPropagation = () => {
          s2.cancelBubble = true, s2.isPropagationStopped = M, w(t2.stopPropagation) && t2.stopPropagation();
        }, s2.stopImmediatePropagation = () => {
          s2.isImmediatePropagationStopped = M, s2.stopPropagation();
        }, ((e3) => e3.isDefaultPrevented === M || e3.isDefaultPrevented === L)(s2) || (s2.isDefaultPrevented = true === s2.defaultPrevented ? M : L, s2.isPropagationStopped = true === s2.cancelBubble ? M : L, s2.isImmediatePropagationStopped = L)), s2;
      }, Sa = /^(?:mouse|contextmenu)|click/, ka = (e2, t2, n2, o2) => {
        e2.addEventListener(t2, n2, o2 || false);
      }, Na = (e2, t2, n2, o2) => {
        e2.removeEventListener(t2, n2, o2 || false);
      }, Ra = (e2, t2) => {
        const n2 = _a(e2.type, e2, document, t2);
        if (((e3) => C(e3) && Sa.test(e3.type))(e2) && v(e2.pageX) && !v(e2.clientX)) {
          const t3 = n2.target.ownerDocument || document, o2 = t3.documentElement, r2 = t3.body, s2 = n2;
          s2.pageX = e2.clientX + (o2 && o2.scrollLeft || r2 && r2.scrollLeft || 0) - (o2 && o2.clientLeft || r2 && r2.clientLeft || 0), s2.pageY = e2.clientY + (o2 && o2.scrollTop || r2 && r2.scrollTop || 0) - (o2 && o2.clientTop || r2 && r2.clientTop || 0);
        }
        return n2;
      }, Aa = (e2, t2, n2) => {
        const o2 = e2.document, r2 = { type: "ready" };
        if (n2.domLoaded) return void t2(r2);
        const s2 = () => {
          Na(e2, "DOMContentLoaded", s2), Na(e2, "load", s2), n2.domLoaded || (n2.domLoaded = true, t2(r2)), e2 = null;
        };
        "complete" === o2.readyState || "interactive" === o2.readyState && o2.body ? s2() : ka(e2, "DOMContentLoaded", s2), n2.domLoaded || ka(e2, "load", s2);
      };
      class Ta {
        constructor() {
          this.domLoaded = false, this.events = {}, this.count = 1, this.expando = "mce-data-" + (+/* @__PURE__ */ new Date()).toString(32), this.hasFocusIn = "onfocusin" in document.documentElement, this.count = 1;
        }
        bind(e2, t2, n2, o2) {
          const r2 = this;
          let s2;
          const a2 = window, i2 = (e3) => {
            r2.executeHandlers(Ra(e3 || a2.event), l2);
          };
          if (!e2 || er(e2) || or(e2)) return n2;
          let l2;
          e2[r2.expando] ? l2 = e2[r2.expando] : (l2 = r2.count++, e2[r2.expando] = l2, r2.events[l2] = {}), o2 = o2 || e2;
          const d2 = t2.split(" ");
          let c2 = d2.length;
          for (; c2--; ) {
            let t3 = d2[c2], u2 = i2, m2 = false, f2 = false;
            "DOMContentLoaded" === t3 && (t3 = "ready"), r2.domLoaded && "ready" === t3 && "complete" === e2.readyState ? n2.call(o2, Ra({ type: t3 })) : (r2.hasFocusIn || "focusin" !== t3 && "focusout" !== t3 || (m2 = true, f2 = "focusin" === t3 ? "focus" : "blur", u2 = (e3) => {
              const t4 = Ra(e3 || a2.event);
              t4.type = "focus" === t4.type ? "focusin" : "focusout", r2.executeHandlers(t4, l2);
            }), s2 = r2.events[l2][t3], s2 ? "ready" === t3 && r2.domLoaded ? n2(Ra({ type: t3 })) : s2.push({ func: n2, scope: o2 }) : (r2.events[l2][t3] = s2 = [{ func: n2, scope: o2 }], s2.fakeName = f2, s2.capture = m2, s2.nativeHandler = u2, "ready" === t3 ? Aa(e2, u2, r2) : ka(e2, f2 || t3, u2, m2)));
          }
          return e2 = s2 = null, n2;
        }
        unbind(e2, t2, n2) {
          if (!e2 || er(e2) || or(e2)) return this;
          const o2 = e2[this.expando];
          if (o2) {
            let r2 = this.events[o2];
            if (t2) {
              const o3 = t2.split(" ");
              let s2 = o3.length;
              for (; s2--; ) {
                const t3 = o3[s2], a2 = r2[t3];
                if (a2) {
                  if (n2) {
                    let e3 = a2.length;
                    for (; e3--; ) if (a2[e3].func === n2) {
                      const n3 = a2.nativeHandler, o4 = a2.fakeName, s3 = a2.capture, i2 = a2.slice(0, e3).concat(a2.slice(e3 + 1));
                      i2.nativeHandler = n3, i2.fakeName = o4, i2.capture = s3, r2[t3] = i2;
                    }
                  }
                  n2 && 0 !== a2.length || (delete r2[t3], Na(e2, a2.fakeName || t3, a2.nativeHandler, a2.capture));
                }
              }
            } else ge(r2, (t3, n3) => {
              Na(e2, t3.fakeName || n3, t3.nativeHandler, t3.capture);
            }), r2 = {};
            for (const e3 in r2) if (Ee(r2, e3)) return this;
            delete this.events[o2];
            try {
              delete e2[this.expando];
            } catch (t3) {
              e2[this.expando] = null;
            }
          }
          return this;
        }
        fire(e2, t2, n2) {
          return this.dispatch(e2, t2, n2);
        }
        dispatch(e2, t2, n2) {
          if (!e2 || er(e2) || or(e2)) return this;
          const o2 = Ra({ type: t2, target: e2 }, n2);
          do {
            const t3 = e2[this.expando];
            t3 && this.executeHandlers(o2, t3), e2 = e2.parentNode || e2.ownerDocument || e2.defaultView || e2.parentWindow;
          } while (e2 && !o2.isPropagationStopped());
          return this;
        }
        clean(e2) {
          if (!e2 || er(e2) || or(e2)) return this;
          if (e2[this.expando] && this.unbind(e2), e2.getElementsByTagName || (e2 = e2.document), e2 && e2.getElementsByTagName) {
            this.unbind(e2);
            const t2 = e2.getElementsByTagName("*");
            let n2 = t2.length;
            for (; n2--; ) (e2 = t2[n2])[this.expando] && this.unbind(e2);
          }
          return this;
        }
        destroy() {
          this.events = {};
        }
        cancel(e2) {
          return e2 && (e2.preventDefault(), e2.stopImmediatePropagation()), false;
        }
        executeHandlers(e2, t2) {
          const n2 = this.events[t2], o2 = n2 && n2[e2.type];
          if (o2) for (let t3 = 0, n3 = o2.length; t3 < n3; t3++) {
            const n4 = o2[t3];
            if (n4 && false === n4.func.call(n4.scope, e2) && e2.preventDefault(), e2.isImmediatePropagationStopped()) return;
          }
        }
      }
      Ta.Event = new Ta();
      const Oa = Pt.each, Ba = Pt.grep, Pa = "data-mce-style", Da = Pt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom", " "), La = (e2, t2, n2) => {
        y(n2) || "" === n2 ? on(e2, t2) : Jt(e2, t2, n2);
      }, Ma = (e2) => e2.replace(/[A-Z]/g, (e3) => "-" + e3.toLowerCase()), Ia = (e2, t2) => {
        let n2 = 0;
        if (e2) for (let o2 = e2.nodeType, r2 = e2.previousSibling; r2; r2 = r2.previousSibling) {
          const e3 = r2.nodeType;
          (!t2 || !er(r2) || e3 !== o2 && r2.data.length) && (n2++, o2 = e3);
        }
        return n2;
      }, Fa = (e2, t2) => {
        const n2 = en(t2, "style"), o2 = e2.serialize(e2.parse(n2), Ht(t2));
        La(t2, Pa, o2);
      }, Ua = (e2, t2, n2) => {
        const o2 = Ma(t2);
        y(n2) || "" === n2 ? go(e2, o2) : io(e2, o2, ((e3, t3) => x(e3) ? Ee(Da, t3) ? e3 + "" : e3 + "px" : e3)(n2, o2));
      }, za = (e2, t2 = {}) => {
        const n2 = {}, o2 = window, r2 = {};
        let s2 = 0;
        const a2 = Is.forElement(yn(e2), { contentCssCors: t2.contentCssCors, referrerPolicy: t2.referrerPolicy }), i2 = [], l2 = t2.schema ? t2.schema : ua({}), d2 = wa({ url_converter: t2.url_converter, url_converter_scope: t2.url_converter_scope, force_hex_color: t2.force_hex_color }, t2.schema), c2 = t2.ownEvents ? new Ta() : Ta.Event, u2 = l2.getBlockElements(), f2 = (t3) => t3 && e2 && m(t3) ? e2.getElementById(t3) : t3, g2 = (e3) => {
          const t3 = f2(e3);
          return C(t3) ? yn(t3) : null;
        }, h2 = (e3, t3, n3 = "") => {
          let o3;
          const r3 = g2(e3);
          if (C(r3) && Wt(r3)) {
            const e4 = G2[t3];
            o3 = e4 && e4.get ? e4.get(r3.dom, t3) : en(r3, t3);
          }
          return C(o3) ? o3 : n3;
        }, b2 = (e3) => {
          const t3 = f2(e3);
          return y(t3) ? [] : t3.attributes;
        }, v2 = (e3, n3, o3) => {
          O2(e3, (e4) => {
            if (qo(e4)) {
              const r3 = yn(e4), s3 = "" === o3 ? null : o3, a3 = en(r3, n3), i3 = G2[n3];
              i3 && i3.set ? i3.set(r3.dom, s3, n3) : La(r3, n3, s3), a3 !== s3 && t2.onSetAttrib && t2.onSetAttrib({ attrElm: r3.dom, attrName: n3, attrValue: s3 });
            }
          });
        }, x2 = () => t2.root_element || e2.body, E2 = (t3, n3) => ((e3, t4, n4) => {
          let o3 = 0, r3 = 0;
          const s3 = e3.ownerDocument;
          if (n4 = n4 || e3, t4) {
            if (n4 === e3 && t4.getBoundingClientRect && "static" === co(yn(e3), "position")) {
              const n5 = t4.getBoundingClientRect();
              return o3 = n5.left + (s3.documentElement.scrollLeft || e3.scrollLeft) - s3.documentElement.clientLeft, r3 = n5.top + (s3.documentElement.scrollTop || e3.scrollTop) - s3.documentElement.clientTop, { x: o3, y: r3 };
            }
            let a3 = t4;
            for (; a3 && a3 !== n4 && a3.nodeType && !Ls(a3, n4); ) {
              const e4 = a3;
              o3 += e4.offsetLeft || 0, r3 += e4.offsetTop || 0, a3 = e4.offsetParent;
            }
            for (a3 = t4.parentNode; a3 && a3 !== n4 && a3.nodeType && !Ls(a3, n4); ) o3 -= a3.scrollLeft || 0, r3 -= a3.scrollTop || 0, a3 = a3.parentNode;
            r3 += ((e4) => Ps.isFirefox() && "table" === Ht(e4) ? Ds(Mn(e4)).filter((e5) => "caption" === Ht(e5)).bind((e5) => Ds(Ln(e5)).map((t5) => {
              const n5 = t5.dom.offsetTop, o4 = e5.dom.offsetTop, r4 = e5.dom.offsetHeight;
              return n5 <= o4 ? -r4 : 0;
            })).getOr(0) : 0)(yn(t4));
          }
          return { x: o3, y: r3 };
        })(e2.body, f2(t3), n3), S2 = (e3, t3, n3) => {
          const o3 = f2(e3);
          var r3;
          if (!y(o3) && (Vo(o3) || qo(r3 = o3) && "http://www.w3.org/2000/svg" === r3.namespaceURI)) return n3 ? co(yn(o3), Ma(t3)) : ("float" === (t3 = t3.replace(/-(\D)/g, (e4, t4) => t4.toUpperCase())) && (t3 = "cssFloat"), o3.style ? o3.style[t3] : void 0);
        }, k2 = (e3) => {
          const t3 = f2(e3);
          if (!t3) return { w: 0, h: 0 };
          let n3 = S2(t3, "width"), o3 = S2(t3, "height");
          return n3 && -1 !== n3.indexOf("px") || (n3 = "0"), o3 && -1 !== o3.indexOf("px") || (o3 = "0"), { w: parseInt(n3, 10) || t3.offsetWidth || t3.clientWidth, h: parseInt(o3, 10) || t3.offsetHeight || t3.clientHeight };
        }, R2 = (e3, t3) => {
          if (!e3) return false;
          const n3 = p(e3) ? e3 : [e3];
          return $(n3, (e4) => xn(yn(e4), t3));
        }, A2 = (e3, t3, n3, o3) => {
          const r3 = [];
          let s3 = f2(e3);
          o3 = void 0 === o3;
          const a3 = n3 || ("BODY" !== x2().nodeName ? x2().parentNode : null);
          if (m(t3)) if ("*" === t3) t3 = qo;
          else {
            const e4 = t3;
            t3 = (t4) => R2(t4, e4);
          }
          for (; s3 && !(s3 === a3 || y(s3.nodeType) || rr(s3) || sr(s3)); ) {
            if (!t3 || t3(s3)) {
              if (!o3) return [s3];
              r3.push(s3);
            }
            s3 = s3.parentNode;
          }
          return o3 ? r3 : null;
        }, T2 = (e3, t3, n3) => {
          let o3 = t3;
          if (e3) {
            m(t3) && (o3 = (e4) => R2(e4, t3));
            for (let t4 = e3[n3]; t4; t4 = t4[n3]) if (w(o3) && o3(t4)) return t4;
          }
          return null;
        }, O2 = function(e3, t3, n3) {
          const o3 = null != n3 ? n3 : this;
          if (p(e3)) {
            const n4 = [];
            return Oa(e3, (e4, r3) => {
              const s3 = f2(e4);
              s3 && n4.push(t3.call(o3, s3, r3));
            }), n4;
          }
          {
            const n4 = f2(e3);
            return !!n4 && t3.call(o3, n4);
          }
        }, B2 = (e3, t3) => {
          O2(e3, (e4) => {
            ge(t3, (t4, n3) => {
              v2(e4, n3, t4);
            });
          });
        }, P2 = (e3, t3) => {
          O2(e3, (e4) => {
            const n3 = yn(e4);
            ko(n3, t3);
          });
        }, D2 = (t3, n3, o3, r3, s3) => O2(t3, (t4) => {
          const a3 = m(n3) ? e2.createElement(n3) : n3;
          return C(o3) && B2(a3, o3), r3 && (!m(r3) && r3.nodeType ? a3.appendChild(r3) : m(r3) && P2(a3, r3)), s3 ? a3 : t4.appendChild(a3);
        }), L2 = (t3, n3, o3) => D2(e2.createElement(t3), t3, n3, o3, true), M2 = ea.encodeAllRaw, I2 = (e3, t3) => O2(e3, (e4) => {
          const n3 = yn(e4);
          return t3 && V(Mn(n3), (e5) => {
            Kt(e5) && 0 === e5.dom.length ? xo(e5) : po(n3, e5);
          }), xo(n3), n3.dom;
        }), F2 = (e3, t3, n3) => {
          O2(e3, (e4) => {
            if (qo(e4)) {
              const o3 = yn(e4), r3 = t3.split(" ");
              V(r3, (e5) => {
                C(n3) ? (n3 ? un : fn)(o3, e5) : ((e6, t4) => {
                  const n4 = an(e6) ? e6.dom.classList.toggle(t4) : ((e7, t5) => H(ln(e7), t5) ? cn(e7, t5) : dn(e7, t5))(e6, t4);
                  mn(e6);
                })(o3, e5);
              });
            }
          });
        }, U2 = (e3, t3, n3) => O2(t3, (o3) => {
          var r3;
          const s3 = p(t3) ? e3.cloneNode(true) : e3;
          return n3 && Oa(Ba(o3.childNodes), (e4) => {
            s3.appendChild(e4);
          }), null === (r3 = o3.parentNode) || void 0 === r3 || r3.replaceChild(s3, o3), o3;
        }), z2 = (e3) => {
          if (qo(e3)) {
            const t3 = "a" === e3.nodeName.toLowerCase() && !h2(e3, "href") && h2(e3, "id");
            if (h2(e3, "name") || h2(e3, "data-mce-bookmark") || t3) return true;
          }
          return false;
        }, j2 = () => e2.createRange(), q2 = (n3, r3, s3, a3) => {
          if (p(n3)) {
            let e3 = n3.length;
            const t3 = [];
            for (; e3--; ) t3[e3] = q2(n3[e3], r3, s3, a3);
            return t3;
          }
          return !t2.collect || n3 !== e2 && n3 !== o2 || i2.push([n3, r3, s3, a3]), c2.bind(n3, r3, s3, a3 || Y2);
        }, W2 = (t3, n3, r3) => {
          if (p(t3)) {
            let e3 = t3.length;
            const o3 = [];
            for (; e3--; ) o3[e3] = W2(t3[e3], n3, r3);
            return o3;
          }
          if (i2.length > 0 && (t3 === e2 || t3 === o2)) {
            let e3 = i2.length;
            for (; e3--; ) {
              const [o3, s3, a3] = i2[e3];
              t3 !== o3 || n3 && n3 !== s3 || r3 && r3 !== a3 || c2.unbind(o3, s3, a3);
            }
          }
          return c2.unbind(t3, n3, r3);
        }, K2 = (e3) => {
          if (e3 && Vo(e3)) {
            const t3 = e3.getAttribute("data-mce-contenteditable");
            return t3 && "inherit" !== t3 ? t3 : "inherit" !== e3.contentEditable ? e3.contentEditable : null;
          }
          return null;
        }, Y2 = { doc: e2, settings: t2, win: o2, files: r2, stdMode: true, boxModel: true, styleSheetLoader: a2, boundEvents: i2, styles: d2, schema: l2, events: c2, isBlock: (e3) => m(e3) ? Ee(u2, e3) : qo(e3) && (Ee(u2, e3.nodeName) || Ts(l2, e3)), root: null, clone: (e3, t3) => e3.cloneNode(t3), getRoot: x2, getViewPort: (e3) => {
          const t3 = Io(e3);
          return { x: t3.x, y: t3.y, w: t3.width, h: t3.height };
        }, getRect: (e3) => {
          const t3 = f2(e3), n3 = E2(t3), o3 = k2(t3);
          return { x: n3.x, y: n3.y, w: o3.w, h: o3.h };
        }, getSize: k2, getParent: (e3, t3, n3) => {
          const o3 = A2(e3, t3, n3, false);
          return o3 && o3.length > 0 ? o3[0] : null;
        }, getParents: A2, get: f2, getNext: (e3, t3) => T2(e3, t3, "nextSibling"), getPrev: (e3, t3) => T2(e3, t3, "previousSibling"), select: (n3, o3) => {
          var r3, s3;
          const a3 = null !== (s3 = null !== (r3 = f2(o3)) && void 0 !== r3 ? r3 : t2.root_element) && void 0 !== s3 ? s3 : e2;
          return w(a3.querySelectorAll) ? ce(a3.querySelectorAll(n3)) : [];
        }, is: R2, add: D2, create: L2, createHTML: (e3, t3, n3 = "") => {
          let o3 = "<" + e3;
          for (const e4 in t3) _e(t3, e4) && (o3 += " " + e4 + '="' + M2(t3[e4]) + '"');
          return Ge(n3) && Ee(l2.getVoidElements(), e3) ? o3 + " />" : o3 + ">" + n3 + "</" + e3 + ">";
        }, createFragment: (t3) => {
          const n3 = e2.createElement("div"), o3 = e2.createDocumentFragment();
          let r3;
          for (o3.appendChild(n3), t3 && (n3.innerHTML = t3); r3 = n3.firstChild; ) o3.appendChild(r3);
          return o3.removeChild(n3), o3;
        }, remove: I2, setStyle: (e3, n3, o3) => {
          O2(e3, (e4) => {
            const r3 = yn(e4);
            Ua(r3, n3, o3), t2.update_styles && Fa(d2, r3);
          });
        }, getStyle: S2, setStyles: (e3, n3) => {
          O2(e3, (e4) => {
            const o3 = yn(e4);
            ge(n3, (e5, t3) => {
              Ua(o3, t3, e5);
            }), t2.update_styles && Fa(d2, o3);
          });
        }, removeAllAttribs: (e3) => O2(e3, (e4) => {
          const t3 = e4.attributes;
          for (let n3 = t3.length - 1; n3 >= 0; n3--) e4.removeAttributeNode(t3.item(n3));
        }), setAttrib: v2, setAttribs: B2, getAttrib: h2, getPos: E2, parseStyle: (e3) => d2.parse(e3), serializeStyle: (e3, t3) => d2.serialize(e3, t3), addStyle: (t3) => {
          if (Y2 !== za.DOM && e2 === document) {
            if (n2[t3]) return;
            n2[t3] = true;
          }
          let o3 = e2.getElementById("mceDefaultStyles");
          if (!o3) {
            o3 = e2.createElement("style"), o3.id = "mceDefaultStyles", o3.type = "text/css";
            const t4 = e2.head;
            t4.firstChild ? t4.insertBefore(o3, t4.firstChild) : t4.appendChild(o3);
          }
          o3.styleSheet ? o3.styleSheet.cssText += t3 : o3.appendChild(e2.createTextNode(t3));
        }, loadCSS: (e3) => {
          e3 || (e3 = ""), V(e3.split(","), (e4) => {
            r2[e4] = true, a2.load(e4).catch(_);
          });
        }, addClass: (e3, t3) => {
          F2(e3, t3, true);
        }, removeClass: (e3, t3) => {
          F2(e3, t3, false);
        }, hasClass: (e3, t3) => {
          const n3 = g2(e3), o3 = t3.split(" ");
          return C(n3) && ne(o3, (e4) => gn(n3, e4));
        }, toggleClass: F2, show: (e3) => {
          O2(e3, (e4) => go(yn(e4), "display"));
        }, hide: (e3) => {
          O2(e3, (e4) => io(yn(e4), "display", "none"));
        }, isHidden: (e3) => {
          const t3 = g2(e3);
          return C(t3) && Dt(mo(t3, "display"), "none");
        }, uniqueId: (e3) => (e3 || "mce_") + s2++, setHTML: P2, getOuterHTML: (e3) => {
          const t3 = g2(e3);
          return C(t3) ? qo(t3.dom) ? t3.dom.outerHTML : ((e4) => {
            const t4 = bn("div"), n3 = yn(e4.dom.cloneNode(true));
            return vo(t4, n3), So(t4);
          })(t3) : "";
        }, setOuterHTML: (e3, t3) => {
          O2(e3, (e4) => {
            qo(e4) && (e4.outerHTML = t3);
          });
        }, decode: ea.decode, encode: M2, insertAfter: (e3, t3) => {
          const n3 = f2(t3);
          return O2(e3, (e4) => {
            const t4 = null == n3 ? void 0 : n3.parentNode, o3 = null == n3 ? void 0 : n3.nextSibling;
            return t4 && (o3 ? t4.insertBefore(e4, o3) : t4.appendChild(e4)), e4;
          });
        }, replace: U2, rename: (e3, t3) => {
          if (e3.nodeName !== t3.toUpperCase()) {
            const n3 = L2(t3);
            return Oa(b2(e3), (t4) => {
              v2(n3, t4.nodeName, h2(e3, t4.nodeName));
            }), U2(n3, e3, true), n3;
          }
          return e3;
        }, findCommonAncestor: (e3, t3) => {
          let n3 = e3;
          for (; n3; ) {
            let e4 = t3;
            for (; e4 && n3 !== e4; ) e4 = e4.parentNode;
            if (n3 === e4) break;
            n3 = n3.parentNode;
          }
          return !n3 && e3.ownerDocument ? e3.ownerDocument.documentElement : n3;
        }, run: O2, getAttribs: b2, isEmpty: (e3, t3, n3) => {
          let o3 = 0;
          if (z2(e3)) return false;
          const r3 = e3.firstChild;
          if (r3) {
            const s3 = new jo(r3, e3), a3 = l2 ? l2.getWhitespaceElements() : {}, i3 = t3 || (l2 ? l2.getNonEmptyElements() : null);
            let d3 = r3;
            do {
              if (qo(d3)) {
                const e4 = d3.getAttribute("data-mce-bogus");
                if (e4) {
                  d3 = s3.next("all" === e4);
                  continue;
                }
                const t4 = d3.nodeName.toLowerCase();
                if (i3 && i3[t4]) {
                  if ("br" === t4) {
                    o3++, d3 = s3.next();
                    continue;
                  }
                  return false;
                }
                if (z2(d3)) return false;
              }
              if (or(d3)) return false;
              if (er(d3) && !ss(d3.data) && (!(null == n3 ? void 0 : n3.includeZwsp) || !as(d3.data))) return false;
              if (er(d3) && d3.parentNode && a3[d3.parentNode.nodeName] && ss(d3.data)) return false;
              d3 = s3.next();
            } while (d3);
          }
          return o3 <= 1;
        }, createRng: j2, nodeIndex: Ia, split: (e3, t3, n3) => {
          let o3, r3, s3 = j2();
          if (e3 && t3 && e3.parentNode && t3.parentNode) {
            const a3 = e3.parentNode;
            return s3.setStart(a3, Ia(e3)), s3.setEnd(t3.parentNode, Ia(t3)), o3 = s3.extractContents(), s3 = j2(), s3.setStart(t3.parentNode, Ia(t3) + 1), s3.setEnd(a3, Ia(e3) + 1), r3 = s3.extractContents(), a3.insertBefore(zs(Y2, o3, l2), e3), n3 ? a3.insertBefore(n3, e3) : a3.insertBefore(t3, e3), a3.insertBefore(zs(Y2, r3, l2), e3), I2(e3), n3 || t3;
          }
        }, bind: q2, unbind: W2, fire: (e3, t3, n3) => c2.dispatch(e3, t3, n3), dispatch: (e3, t3, n3) => c2.dispatch(e3, t3, n3), getContentEditable: K2, getContentEditableParent: (e3) => {
          const t3 = x2();
          let n3 = null;
          for (let o3 = e3; o3 && o3 !== t3 && (n3 = K2(o3), null === n3); o3 = o3.parentNode) ;
          return n3;
        }, isEditable: (e3) => {
          if (C(e3)) {
            const t3 = qo(e3) ? e3 : e3.parentElement;
            return C(t3) && Vo(t3) && oo(yn(t3));
          }
          return false;
        }, destroy: () => {
          if (i2.length > 0) {
            let e3 = i2.length;
            for (; e3--; ) {
              const [t3, n3, o3] = i2[e3];
              c2.unbind(t3, n3, o3);
            }
          }
          ge(r2, (e3, t3) => {
            a2.unload(t3), delete r2[t3];
          });
        }, isChildOf: (e3, t3) => e3 === t3 || t3.contains(e3), dumpRng: (e3) => "startContainer: " + e3.startContainer.nodeName + ", startOffset: " + e3.startOffset + ", endContainer: " + e3.endContainer.nodeName + ", endOffset: " + e3.endOffset }, G2 = ((e3, t3, n3) => {
          const o3 = t3.keep_values, r3 = { set: (e4, o4, r4) => {
            const s4 = yn(e4);
            w(t3.url_converter) && C(o4) && (o4 = t3.url_converter.call(t3.url_converter_scope || n3(), String(o4), r4, e4)), La(s4, "data-mce-" + r4, o4), La(s4, r4, o4);
          }, get: (e4, t4) => {
            const n4 = yn(e4);
            return en(n4, "data-mce-" + t4) || en(n4, t4);
          } }, s3 = { style: { set: (t4, n4) => {
            const r4 = yn(t4);
            o3 && La(r4, Pa, n4), on(r4, "style"), m(n4) && lo(r4, e3.parse(n4));
          }, get: (t4) => {
            const n4 = yn(t4), o4 = en(n4, Pa) || en(n4, "style");
            return e3.serialize(e3.parse(o4), Ht(n4));
          } } };
          return o3 && (s3.href = s3.src = r3), s3;
        })(d2, t2, N(Y2));
        return Y2;
      };
      za.DOM = za(document), za.nodeIndex = Ia;
      const ja = za.DOM;
      class Ha {
        constructor(e2 = {}) {
          this.states = {}, this.queue = [], this.scriptLoadedCallbacks = {}, this.queueLoadedCallbacks = [], this.loading = false, this.settings = e2;
        }
        _setReferrerPolicy(e2) {
          this.settings.referrerPolicy = e2;
        }
        loadScript(e2) {
          return new Promise((t2, n2) => {
            const o2 = ja;
            let r2;
            const s2 = () => {
              o2.remove(a2), r2 && (r2.onerror = r2.onload = r2 = null);
            }, a2 = o2.uniqueId();
            r2 = document.createElement("script"), r2.id = a2, r2.type = "text/javascript", r2.src = Pt._addCacheSuffix(e2), this.settings.referrerPolicy && o2.setAttrib(r2, "referrerpolicy", this.settings.referrerPolicy), r2.onload = () => {
              s2(), t2();
            }, r2.onerror = () => {
              s2(), n2("Failed to load script: " + e2);
            }, (document.getElementsByTagName("head")[0] || document.body).appendChild(r2);
          });
        }
        isDone(e2) {
          return 2 === this.states[e2];
        }
        markDone(e2) {
          this.states[e2] = 2;
        }
        add(e2) {
          const t2 = this;
          return t2.queue.push(e2), void 0 === t2.states[e2] && (t2.states[e2] = 0), new Promise((n2, o2) => {
            t2.scriptLoadedCallbacks[e2] || (t2.scriptLoadedCallbacks[e2] = []), t2.scriptLoadedCallbacks[e2].push({ resolve: n2, reject: o2 });
          });
        }
        load(e2) {
          return this.add(e2);
        }
        remove(e2) {
          delete this.states[e2], delete this.scriptLoadedCallbacks[e2];
        }
        loadQueue() {
          const e2 = this.queue;
          return this.queue = [], this.loadScripts(e2);
        }
        loadScripts(e2) {
          const t2 = this, n2 = (e3, n3) => {
            xe(t2.scriptLoadedCallbacks, n3).each((t3) => {
              V(t3, (t4) => t4[e3](n3));
            }), delete t2.scriptLoadedCallbacks[n3];
          }, o2 = (e3) => {
            const t3 = Y(e3, (e4) => "rejected" === e4.status);
            return t3.length > 0 ? Promise.reject(te(t3, ({ reason: e4 }) => p(e4) ? e4 : [e4])) : Promise.resolve();
          }, r2 = (e3) => Promise.allSettled(q(e3, (e4) => 2 === t2.states[e4] ? (n2("resolve", e4), Promise.resolve()) : 3 === t2.states[e4] ? (n2("reject", e4), Promise.reject(e4)) : (t2.states[e4] = 1, t2.loadScript(e4).then(() => {
            t2.states[e4] = 2, n2("resolve", e4);
            const s3 = t2.queue;
            return s3.length > 0 ? (t2.queue = [], r2(s3).then(o2)) : Promise.resolve();
          }, () => (t2.states[e4] = 3, n2("reject", e4), Promise.reject(e4)))))), s2 = (e3) => (t2.loading = true, r2(e3).then((e4) => {
            t2.loading = false;
            const n3 = t2.queueLoadedCallbacks.shift();
            return I.from(n3).each(D), o2(e4);
          })), a2 = Se(e2);
          return t2.loading ? new Promise((e3, n3) => {
            t2.queueLoadedCallbacks.push(() => {
              s2(a2).then(e3, n3);
            });
          }) : s2(a2);
        }
      }
      Ha.ScriptLoader = new Ha();
      const $a = (e2) => {
        let t2 = e2;
        return { get: () => t2, set: (e3) => {
          t2 = e3;
        } };
      }, qa = {}, Va = $a("en"), Wa = () => xe(qa, Va.get()), Ka = { getData: () => pe(qa, (e2) => ({ ...e2 })), setCode: (e2) => {
        e2 && Va.set(e2);
      }, getCode: () => Va.get(), add: (e2, t2) => {
        let n2 = qa[e2];
        n2 || (qa[e2] = n2 = {});
        const o2 = q(me(t2), (e3) => e3.toLowerCase());
        ge(t2, (e3, r2) => {
          const s2 = r2.toLowerCase();
          s2 !== r2 && ((e4, t3) => {
            const n3 = e4.indexOf(t3);
            return -1 !== n3 && e4.indexOf(t3, n3 + 1) > n3;
          })(o2, s2) ? (Ee(t2, s2) || (n2[s2] = e3), n2[r2] = e3) : n2[s2] = e3;
        });
      }, translate: (e2) => {
        const t2 = Wa().getOr({}), n2 = (e3) => w(e3) ? Object.prototype.toString.call(e3) : o2(e3) ? "" : "" + e3, o2 = (e3) => "" === e3 || null == e3, r2 = (e3) => {
          const o3 = n2(e3);
          return Ee(t2, o3) ? n2(t2[o3]) : xe(t2, o3.toLowerCase()).map(n2).getOr(o3);
        }, s2 = (e3) => e3.replace(/{context:\w+}$/, "");
        if (o2(e2)) return "";
        if (f(a2 = e2) && Ee(a2, "raw")) return n2(e2.raw);
        var a2;
        if (((e3) => p(e3) && e3.length > 1)(e2)) {
          const t3 = e2.slice(1);
          return s2(r2(e2[0]).replace(/\{([0-9]+)\}/g, (e3, o3) => Ee(t3, o3) ? n2(t3[o3]) : e3));
        }
        return s2(r2(e2));
      }, isRtl: () => Wa().bind((e2) => xe(e2, "_dir")).exists((e2) => "rtl" === e2), hasCode: (e2) => Ee(qa, e2) }, Ya = () => {
        const e2 = [], t2 = {}, n2 = {}, o2 = [], r2 = (e3, t3) => {
          const n3 = Y(o2, (n4) => n4.name === e3 && n4.state === t3);
          V(n3, (e4) => e4.resolve());
        }, s2 = (e3) => Ee(t2, e3), a2 = (e3, n3) => {
          const o3 = Ka.getCode();
          !o3 || n3 && -1 === ("," + (n3 || "") + ",").indexOf("," + o3 + ",") || Ha.ScriptLoader.add(t2[e3] + "/langs/" + o3 + ".js");
        }, i2 = (e3, t3 = "added") => "added" === t3 && ((e4) => Ee(n2, e4))(e3) || "loaded" === t3 && s2(e3) ? Promise.resolve() : new Promise((n3) => {
          o2.push({ name: e3, state: t3, resolve: n3 });
        });
        return { items: e2, urls: t2, lookup: n2, get: (e3) => {
          if (n2[e3]) return n2[e3].instance;
        }, requireLangPack: (e3, t3) => {
          false !== Ya.languageLoad && (s2(e3) ? a2(e3, t3) : i2(e3, "loaded").then(() => a2(e3, t3)));
        }, add: (t3, o3) => (e2.push(o3), n2[t3] = { instance: o3 }, r2(t3, "added"), o3), remove: (e3) => {
          delete t2[e3], delete n2[e3];
        }, createUrl: (e3, t3) => m(t3) ? m(e3) ? { prefix: "", resource: t3, suffix: "" } : { prefix: e3.prefix, resource: t3, suffix: e3.suffix } : t3, load: (e3, o3) => {
          if (t2[e3]) return Promise.resolve();
          let s3 = m(o3) ? o3 : o3.prefix + o3.resource + o3.suffix;
          0 !== s3.indexOf("/") && -1 === s3.indexOf("://") && (s3 = Ya.baseURL + "/" + s3), t2[e3] = s3.substring(0, s3.lastIndexOf("/"));
          const a3 = () => (r2(e3, "loaded"), Promise.resolve());
          return n2[e3] ? a3() : Ha.ScriptLoader.add(s3).then(a3);
        }, waitFor: i2 };
      };
      Ya.languageLoad = true, Ya.baseURL = "", Ya.PluginManager = Ya(), Ya.ThemeManager = Ya(), Ya.ModelManager = Ya();
      const Ga = (e2) => {
        const t2 = $a(I.none()), n2 = () => t2.get().each((e3) => clearInterval(e3));
        return { clear: () => {
          n2(), t2.set(I.none());
        }, isSet: () => t2.get().isSome(), get: () => t2.get(), set: (o2) => {
          n2(), t2.set(I.some(setInterval(o2, e2)));
        } };
      }, Xa = () => {
        const e2 = ((e3) => {
          const t2 = $a(I.none()), n2 = () => t2.get().each(e3);
          return { clear: () => {
            n2(), t2.set(I.none());
          }, isSet: () => t2.get().isSome(), get: () => t2.get(), set: (e4) => {
            n2(), t2.set(I.some(e4));
          } };
        })(_);
        return { ...e2, on: (t2) => e2.get().each(t2) };
      }, Qa = (e2, t2) => {
        let n2 = null;
        return { cancel: () => {
          h(n2) || (clearTimeout(n2), n2 = null);
        }, throttle: (...o2) => {
          h(n2) && (n2 = setTimeout(() => {
            n2 = null, e2.apply(null, o2);
          }, t2));
        } };
      }, Ja = (e2, t2) => {
        let n2 = null;
        const o2 = () => {
          h(n2) || (clearTimeout(n2), n2 = null);
        };
        return { cancel: o2, throttle: (...r2) => {
          o2(), n2 = setTimeout(() => {
            n2 = null, e2.apply(null, r2);
          }, t2);
        } };
      }, Za = N("mce-annotation"), ei = N("data-mce-annotation"), ti = N("data-mce-annotation-uid"), ni = N("data-mce-annotation-active"), oi = N("data-mce-annotation-classes"), ri = N("data-mce-annotation-attrs"), si = (e2) => (t2) => _n(t2, e2), ai = (e2, t2) => {
        const n2 = e2.selection.getRng(), o2 = yn(n2.startContainer), r2 = yn(e2.getBody()), s2 = t2.fold(() => "." + Za(), (e3) => `[${ei()}="${e3}"]`), a2 = In(o2, n2.startOffset).getOr(o2);
        return no(a2, s2, si(r2)).bind((t3) => tn(t3, `${ti()}`).bind((n3) => tn(t3, `${ei()}`).map((t4) => {
          const o3 = li(e2, n3);
          return { uid: n3, name: t4, elements: o3 };
        })));
      }, ii = (e2, t2) => nn(e2, "data-mce-bogus") || zo(e2, '[data-mce-bogus="all"]', si(t2)), li = (e2, t2) => {
        const n2 = yn(e2.getBody()), o2 = Uo(n2, `[${ti()}="${t2}"]`);
        return Y(o2, (e3) => !ii(e3, n2));
      }, di = (e2, t2) => {
        const n2 = yn(e2.getBody()), o2 = Uo(n2, `[${ei()}="${t2}"]`), r2 = {};
        return V(o2, (e3) => {
          if (!ii(e3, n2)) {
            const t3 = en(e3, ti()), n3 = xe(r2, t3).getOr([]);
            r2[t3] = n3.concat([e3]);
          }
        }), r2;
      };
      let ci = 0;
      const ui = (e2) => {
        const t2 = (/* @__PURE__ */ new Date()).getTime(), n2 = Math.floor(1e9 * Math.random());
        return ci++, e2 + "_" + n2 + ci + String(t2);
      }, mi = (e2, t2) => yn(e2.dom.cloneNode(t2)), fi = (e2) => mi(e2, false), gi = (e2) => mi(e2, true), pi = (e2, t2, n2 = L) => {
        const o2 = new jo(e2, t2), r2 = (e3) => {
          let t3;
          do {
            t3 = o2[e3]();
          } while (t3 && !er(t3) && !n2(t3));
          return I.from(t3).filter(er);
        };
        return { current: () => I.from(o2.current()).filter(er), next: () => r2("next"), prev: () => r2("prev"), prev2: () => r2("prev2") };
      }, hi = (e2, t2) => {
        const n2 = t2 || ((t3) => e2.isBlock(t3) || ar(t3) || dr(t3)), o2 = (e3, t3, n3, r2) => {
          if (er(e3)) {
            const n4 = r2(e3, t3, e3.data);
            if (-1 !== n4) return I.some({ container: e3, offset: n4 });
          }
          return n3().bind((e4) => o2(e4.container, e4.offset, n3, r2));
        };
        return { backwards: (t3, r2, s2, a2) => {
          const i2 = pi(t3, null != a2 ? a2 : e2.getRoot(), n2);
          return o2(t3, r2, () => i2.prev().map((e3) => ({ container: e3, offset: e3.length })), s2).getOrNull();
        }, forwards: (t3, r2, s2, a2) => {
          const i2 = pi(t3, null != a2 ? a2 : e2.getRoot(), n2);
          return o2(t3, r2, () => i2.next().map((e3) => ({ container: e3, offset: 0 })), s2).getOrNull();
        } };
      }, bi = Math.round, vi = (e2) => e2 ? { left: bi(e2.left), top: bi(e2.top), bottom: bi(e2.bottom), right: bi(e2.right), width: bi(e2.width), height: bi(e2.height) } : { left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0 }, yi = (e2, t2) => (e2 = vi(e2), t2 || (e2.left = e2.left + e2.width), e2.right = e2.left, e2.width = 0, e2), Ci = (e2, t2, n2) => e2 >= 0 && e2 <= Math.min(t2.height, n2.height) / 2, wi = (e2, t2) => {
        const n2 = Math.min(t2.height / 2, e2.height / 2);
        return e2.bottom - n2 < t2.top || !(e2.top > t2.bottom) && Ci(t2.top - e2.bottom, e2, t2);
      }, xi = (e2, t2) => e2.top > t2.bottom || !(e2.bottom < t2.top) && Ci(t2.bottom - e2.top, e2, t2), Ei = (e2, t2, n2) => {
        const o2 = Math.max(Math.min(t2, e2.left + e2.width), e2.left), r2 = Math.max(Math.min(n2, e2.top + e2.height), e2.top);
        return Math.sqrt((t2 - o2) * (t2 - o2) + (n2 - r2) * (n2 - r2));
      }, _i = (e2) => {
        const t2 = e2.startContainer, n2 = e2.startOffset;
        return t2 === e2.endContainer && t2.hasChildNodes() && e2.endOffset === n2 + 1 ? t2.childNodes[n2] : null;
      }, Si = (e2, t2) => {
        if (qo(e2) && e2.hasChildNodes()) {
          const n2 = e2.childNodes, o2 = ((e3, t3, n3) => Math.min(Math.max(e3, 0), n3))(t2, 0, n2.length - 1);
          return n2[o2];
        }
        return e2;
      }, ki = new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"), Ni = (e2) => m(e2) && e2.charCodeAt(0) >= 768 && ki.test(e2), Ri = qo, Ai = ts, Ti = Yo("display", "block table"), Oi = Yo("float", "left right"), Bi = /* @__PURE__ */ ((...e2) => (t2) => {
        for (let n2 = 0; n2 < e2.length; n2++) if (!e2[n2](t2)) return false;
        return true;
      })(Ri, Ai, O(Oi)), Pi = O(Yo("white-space", "pre pre-line pre-wrap")), Di = er, Li = ar, Mi = za.nodeIndex, Ii = (e2, t2) => t2 < 0 && qo(e2) && e2.hasChildNodes() ? void 0 : Si(e2, t2), Fi = (e2) => e2 ? e2.createRange() : za.DOM.createRng(), Ui = (e2) => m(e2) && /[\r\n\t ]/.test(e2), zi = (e2) => !!e2.setStart && !!e2.setEnd, ji = (e2) => {
        const t2 = e2.startContainer, n2 = e2.startOffset;
        if (Ui(e2.toString()) && Pi(t2.parentNode) && er(t2)) {
          const e3 = t2.data;
          if (Ui(e3[n2 - 1]) || Ui(e3[n2 + 1])) return true;
        }
        return false;
      }, Hi = (e2) => 0 === e2.left && 0 === e2.right && 0 === e2.top && 0 === e2.bottom, $i = (e2) => {
        var t2;
        let n2;
        const o2 = e2.getClientRects();
        return n2 = o2.length > 0 ? vi(o2[0]) : vi(e2.getBoundingClientRect()), !zi(e2) && Li(e2) && Hi(n2) ? ((e3) => {
          const t3 = e3.ownerDocument, n3 = Fi(t3), o3 = t3.createTextNode(br), r2 = e3.parentNode;
          r2.insertBefore(o3, e3), n3.setStart(o3, 0), n3.setEnd(o3, 1);
          const s2 = vi(n3.getBoundingClientRect());
          return r2.removeChild(o3), s2;
        })(e2) : Hi(n2) && zi(e2) && null !== (t2 = ((e3) => {
          const t3 = e3.startContainer, n3 = e3.endContainer, o3 = e3.startOffset, r2 = e3.endOffset;
          if (t3 === n3 && er(n3) && 0 === o3 && 1 === r2) {
            const t4 = e3.cloneRange();
            return t4.setEndAfter(n3), $i(t4);
          }
          return null;
        })(e2)) && void 0 !== t2 ? t2 : n2;
      }, qi = (e2, t2) => {
        const n2 = yi(e2, t2);
        return n2.width = 1, n2.right = n2.left + 1, n2;
      }, Vi = (e2, t2, n2) => {
        const o2 = () => (n2 || (n2 = ((e3) => {
          const t3 = [], n3 = (e4) => {
            var n4, o4;
            0 !== e4.height && (t3.length > 0 && (n4 = e4, o4 = t3[t3.length - 1], n4.left === o4.left && n4.top === o4.top && n4.bottom === o4.bottom && n4.right === o4.right) || t3.push(e4));
          }, o3 = (e4, t4) => {
            const o4 = Fi(e4.ownerDocument);
            if (t4 < e4.data.length) {
              if (Ni(e4.data[t4])) return;
              if (Ni(e4.data[t4 - 1]) && (o4.setStart(e4, t4), o4.setEnd(e4, t4 + 1), !ji(o4))) return void n3(qi($i(o4), false));
            }
            t4 > 0 && (o4.setStart(e4, t4 - 1), o4.setEnd(e4, t4), ji(o4) || n3(qi($i(o4), false))), t4 < e4.data.length && (o4.setStart(e4, t4), o4.setEnd(e4, t4 + 1), ji(o4) || n3(qi($i(o4), true)));
          }, r2 = e3.container(), s2 = e3.offset();
          if (Di(r2)) return o3(r2, s2), t3;
          if (Ri(r2)) if (e3.isAtEnd()) {
            const e4 = Ii(r2, s2);
            Di(e4) && o3(e4, e4.data.length), Bi(e4) && !Li(e4) && n3(qi($i(e4), false));
          } else {
            const a2 = Ii(r2, s2);
            if (Di(a2) && o3(a2, 0), Bi(a2) && e3.isAtEnd()) return n3(qi($i(a2), false)), t3;
            const i2 = Ii(e3.container(), e3.offset() - 1);
            Bi(i2) && !Li(i2) && (Ti(i2) || Ti(a2) || !Bi(a2)) && n3(qi($i(i2), false)), Bi(a2) && n3(qi($i(a2), true));
          }
          return t3;
        })(Vi(e2, t2))), n2);
        return { container: N(e2), offset: N(t2), toRange: () => {
          const n3 = Fi(e2.ownerDocument);
          return n3.setStart(e2, t2), n3.setEnd(e2, t2), n3;
        }, getClientRects: o2, isVisible: () => o2().length > 0, isAtStart: () => (Di(e2), 0 === t2), isAtEnd: () => Di(e2) ? t2 >= e2.data.length : t2 >= e2.childNodes.length, isEqual: (n3) => n3 && e2 === n3.container() && t2 === n3.offset(), getNode: (n3) => Ii(e2, n3 ? t2 - 1 : t2) };
      };
      Vi.fromRangeStart = (e2) => Vi(e2.startContainer, e2.startOffset), Vi.fromRangeEnd = (e2) => Vi(e2.endContainer, e2.endOffset), Vi.after = (e2) => Vi(e2.parentNode, Mi(e2) + 1), Vi.before = (e2) => Vi(e2.parentNode, Mi(e2)), Vi.isAbove = (e2, t2) => Mt(le(t2.getClientRects()), de(e2.getClientRects()), wi).getOr(false), Vi.isBelow = (e2, t2) => Mt(de(t2.getClientRects()), le(e2.getClientRects()), xi).getOr(false), Vi.isAtStart = (e2) => !!e2 && e2.isAtStart(), Vi.isAtEnd = (e2) => !!e2 && e2.isAtEnd(), Vi.isTextPosition = (e2) => !!e2 && er(e2.container()), Vi.isElementPosition = (e2) => !Vi.isTextPosition(e2);
      const Wi = (e2, t2) => {
        er(t2) && 0 === t2.data.length && e2.remove(t2);
      }, Ki = (e2, t2, n2) => {
        sr(n2) ? ((e3, t3, n3) => {
          const o2 = I.from(n3.firstChild), r2 = I.from(n3.lastChild);
          t3.insertNode(n3), o2.each((t4) => Wi(e3, t4.previousSibling)), r2.each((t4) => Wi(e3, t4.nextSibling));
        })(e2, t2, n2) : ((e3, t3, n3) => {
          t3.insertNode(n3), Wi(e3, n3.previousSibling), Wi(e3, n3.nextSibling);
        })(e2, t2, n2);
      }, Yi = er, Gi = Xo, Xi = za.nodeIndex, Qi = (e2) => {
        const t2 = e2.parentNode;
        return Gi(t2) ? Qi(t2) : t2;
      }, Ji = (e2) => e2 ? Oe(e2.childNodes, (e3, t2) => (Gi(t2) && "BR" !== t2.nodeName ? e3 = e3.concat(Ji(t2)) : e3.push(t2), e3), []) : [], Zi = (e2) => (t2) => e2 === t2, el = (e2) => (Yi(e2) ? "text()" : e2.nodeName.toLowerCase()) + "[" + ((e3) => {
        let t2, n2;
        t2 = Ji(Qi(e3)), n2 = Be(t2, Zi(e3), e3), t2 = t2.slice(0, n2 + 1);
        const o2 = Oe(t2, (e4, n3, o3) => (Yi(n3) && Yi(t2[o3 - 1]) && e4++, e4), 0);
        return t2 = Te(t2, Ko([e3.nodeName])), n2 = Be(t2, Zi(e3), e3), n2 - o2;
      })(e2) + "]", tl = (e2, t2) => {
        let n2, o2 = [], r2 = t2.container(), s2 = t2.offset();
        if (Yi(r2)) n2 = ((e3, t3) => {
          let n3 = e3;
          for (; (n3 = n3.previousSibling) && Yi(n3); ) t3 += n3.data.length;
          return t3;
        })(r2, s2);
        else {
          const e3 = r2.childNodes;
          s2 >= e3.length ? (n2 = "after", s2 = e3.length - 1) : n2 = "before", r2 = e3[s2];
        }
        o2.push(el(r2));
        let a2 = ((e3, t3, n3) => {
          const o3 = [];
          for (let n4 = t3.parentNode; n4 && n4 !== e3; n4 = n4.parentNode) o3.push(n4);
          return o3;
        })(e2, r2);
        return a2 = Te(a2, O(Xo)), o2 = o2.concat(Ae(a2, (e3) => el(e3))), o2.reverse().join("/") + "," + n2;
      }, nl = (e2, t2) => {
        if (!t2) return null;
        const n2 = t2.split(","), o2 = n2[0].split("/"), r2 = n2.length > 1 ? n2[1] : "before", s2 = Oe(o2, (e3, t3) => {
          const n3 = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t3);
          return n3 ? ("text()" === n3[1] && (n3[1] = "#text"), ((e4, t4, n4) => {
            let o3 = Ji(e4);
            return o3 = Te(o3, (e5, t5) => !Yi(e5) || !Yi(o3[t5 - 1])), o3 = Te(o3, Ko([t4])), o3[n4];
          })(e3, n3[1], parseInt(n3[2], 10))) : null;
        }, e2);
        if (!s2) return null;
        if (!Yi(s2) && s2.parentNode) {
          let e3;
          return e3 = "after" === r2 ? Xi(s2) + 1 : Xi(s2), Vi(s2.parentNode, e3);
        }
        return ((e3, t3) => {
          let n3 = e3, o3 = 0;
          for (; Yi(n3); ) {
            const r3 = n3.data.length;
            if (t3 >= o3 && t3 <= o3 + r3) {
              e3 = n3, t3 -= o3;
              break;
            }
            if (!Yi(n3.nextSibling)) {
              e3 = n3, t3 = r3;
              break;
            }
            o3 += r3, n3 = n3.nextSibling;
          }
          return Yi(e3) && t3 > e3.data.length && (t3 = e3.data.length), Vi(e3, t3);
        })(s2, parseInt(r2, 10));
      }, ol = dr, rl = (e2, t2, n2, o2, r2) => {
        const s2 = r2 ? o2.startContainer : o2.endContainer;
        let a2 = r2 ? o2.startOffset : o2.endOffset;
        const i2 = [], l2 = e2.getRoot();
        if (er(s2)) i2.push(n2 ? ((e3, t3, n3) => {
          let o3 = e3(t3.data.slice(0, n3)).length;
          for (let n4 = t3.previousSibling; n4 && er(n4); n4 = n4.previousSibling) o3 += e3(n4.data).length;
          return o3;
        })(t2, s2, a2) : a2);
        else {
          let t3 = 0;
          const o3 = s2.childNodes;
          a2 >= o3.length && o3.length && (t3 = 1, a2 = Math.max(0, o3.length - 1)), i2.push(e2.nodeIndex(o3[a2], n2) + t3);
        }
        for (let t3 = s2; t3 && t3 !== l2; t3 = t3.parentNode) i2.push(e2.nodeIndex(t3, n2));
        return i2;
      }, sl = (e2, t2, n2) => {
        let o2 = 0;
        return Pt.each(e2.select(t2), (e3) => "all" === e3.getAttribute("data-mce-bogus") ? void 0 : e3 !== n2 && void o2++), o2;
      }, al = (e2, t2) => {
        let n2 = t2 ? e2.startContainer : e2.endContainer, o2 = t2 ? e2.startOffset : e2.endOffset;
        if (qo(n2) && "TR" === n2.nodeName) {
          const r2 = n2.childNodes;
          n2 = r2[Math.min(t2 ? o2 : o2 - 1, r2.length - 1)], n2 && (o2 = t2 ? 0 : n2.childNodes.length, t2 ? e2.setStart(n2, o2) : e2.setEnd(n2, o2));
        }
      }, il = (e2) => (al(e2, true), al(e2, false), e2), ll = (e2, t2) => {
        if (qo(e2) && (e2 = Si(e2, t2), ol(e2))) return e2;
        if (Ur(e2)) {
          er(e2) && Ir(e2) && (e2 = e2.parentNode);
          let t3 = e2.previousSibling;
          if (ol(t3)) return t3;
          if (t3 = e2.nextSibling, ol(t3)) return t3;
        }
      }, dl = (e2, t2, n2) => {
        const o2 = n2.getNode(), r2 = n2.getRng();
        if ("IMG" === o2.nodeName || ol(o2)) {
          const e3 = o2.nodeName;
          return { name: e3, index: sl(n2.dom, e3, o2) };
        }
        const s2 = ((e3) => ll(e3.startContainer, e3.startOffset) || ll(e3.endContainer, e3.endOffset))(r2);
        if (s2) {
          const e3 = s2.tagName;
          return { name: e3, index: sl(n2.dom, e3, s2) };
        }
        return ((e3, t3, n3, o3) => {
          const r3 = t3.dom, s3 = rl(r3, e3, n3, o3, true), a2 = t3.isForward(), i2 = Wr(o3) ? { isFakeCaret: true } : {};
          return t3.isCollapsed() ? { start: s3, forward: a2, ...i2 } : { start: s3, end: rl(r3, e3, n3, o3, false), forward: a2, ...i2 };
        })(e2, n2, t2, r2);
      }, cl = (e2, t2, n2) => {
        const o2 = { "data-mce-type": "bookmark", id: t2, style: "overflow:hidden;line-height:0px" };
        return n2 ? e2.create("span", o2, "&#xFEFF;") : e2.create("span", o2);
      }, ul = (e2, t2) => {
        const n2 = e2.dom;
        let o2 = e2.getRng();
        const r2 = n2.uniqueId(), s2 = e2.isCollapsed(), a2 = e2.getNode(), i2 = a2.nodeName, l2 = e2.isForward();
        if ("IMG" === i2) return { name: i2, index: sl(n2, i2, a2) };
        const d2 = il(o2.cloneRange());
        if (!s2) {
          d2.collapse(false);
          const e3 = cl(n2, r2 + "_end", t2);
          Ki(n2, d2, e3);
        }
        o2 = il(o2), o2.collapse(true);
        const c2 = cl(n2, r2 + "_start", t2);
        return Ki(n2, o2, c2), e2.moveToBookmark({ id: r2, keep: true, forward: l2 }), { id: r2, forward: l2 };
      }, ml = T(dl, R, true), fl = (e2) => {
        const t2 = (t3) => t3(e2), n2 = N(e2), o2 = () => r2, r2 = { tag: true, inner: e2, fold: (t3, n3) => n3(e2), isValue: M, isError: L, map: (t3) => pl.value(t3(e2)), mapError: o2, bind: t2, exists: t2, forall: t2, getOr: n2, or: o2, getOrThunk: n2, orThunk: o2, getOrDie: n2, each: (t3) => {
          t3(e2);
        }, toOptional: () => I.some(e2) };
        return r2;
      }, gl = (e2) => {
        const t2 = () => n2, n2 = { tag: false, inner: e2, fold: (t3, n3) => t3(e2), isValue: L, isError: M, map: t2, mapError: (t3) => pl.error(t3(e2)), bind: t2, exists: L, forall: M, getOr: R, or: R, getOrThunk: P, orThunk: P, getOrDie: B(String(e2)), each: _, toOptional: I.none };
        return n2;
      }, pl = { value: fl, error: gl, fromOption: (e2, t2) => e2.fold(() => gl(t2), fl) }, hl = (e2) => {
        if (!p(e2)) throw new Error("cases must be an array");
        if (0 === e2.length) throw new Error("there must be at least one case");
        const t2 = [], n2 = {};
        return V(e2, (o2, r2) => {
          const s2 = me(o2);
          if (1 !== s2.length) throw new Error("one and only one name per case");
          const a2 = s2[0], i2 = o2[a2];
          if (void 0 !== n2[a2]) throw new Error("duplicate key detected:" + a2);
          if ("cata" === a2) throw new Error("cannot have a case named cata (sorry)");
          if (!p(i2)) throw new Error("case arguments must be an array");
          t2.push(a2), n2[a2] = (...n3) => {
            const o3 = n3.length;
            if (o3 !== i2.length) throw new Error("Wrong number of arguments to case " + a2 + ". Expected " + i2.length + " (" + i2 + "), got " + o3);
            return { fold: (...t3) => {
              if (t3.length !== e2.length) throw new Error("Wrong number of arguments to fold. Expected " + e2.length + ", got " + t3.length);
              return t3[r2].apply(null, n3);
            }, match: (e3) => {
              const o4 = me(e3);
              if (t2.length !== o4.length) throw new Error("Wrong number of arguments to match. Expected: " + t2.join(",") + "\nActual: " + o4.join(","));
              if (!ne(t2, (e4) => H(o4, e4))) throw new Error("Not all branches were specified when using match. Specified: " + o4.join(", ") + "\nRequired: " + t2.join(", "));
              return e3[a2].apply(null, n3);
            }, log: (e3) => {
              console.log(e3, { constructors: t2, constructor: a2, params: n3 });
            } };
          };
        }), n2;
      };
      hl([{ bothErrors: ["error1", "error2"] }, { firstError: ["error1", "value2"] }, { secondError: ["value1", "error2"] }, { bothValues: ["value1", "value2"] }]);
      const bl = (e2) => "inline-command" === e2.type || "inline-format" === e2.type, vl = (e2) => "block-command" === e2.type || "block-format" === e2.type, yl = (e2) => {
        const t2 = (t3) => pl.error({ message: t3, pattern: e2 }), n2 = (n3, o2, r2) => {
          if (void 0 !== e2.format) {
            let r3;
            if (p(e2.format)) {
              if (!ne(e2.format, m)) return t2(n3 + " pattern has non-string items in the `format` array");
              r3 = e2.format;
            } else {
              if (!m(e2.format)) return t2(n3 + " pattern has non-string `format` parameter");
              r3 = [e2.format];
            }
            return pl.value(o2(r3));
          }
          return void 0 !== e2.cmd ? m(e2.cmd) ? pl.value(r2(e2.cmd, e2.value)) : t2(n3 + " pattern has non-string `cmd` parameter") : t2(n3 + " pattern is missing both `format` and `cmd` parameters");
        };
        if (!f(e2)) return t2("Raw pattern is not an object");
        if (!m(e2.start)) return t2("Raw pattern is missing `start` parameter");
        if (void 0 !== e2.end) {
          if (!m(e2.end)) return t2("Inline pattern has non-string `end` parameter");
          if (0 === e2.start.length && 0 === e2.end.length) return t2("Inline pattern has empty `start` and `end` parameters");
          let o2 = e2.start, r2 = e2.end;
          return 0 === r2.length && (r2 = o2, o2 = ""), n2("Inline", (e3) => ({ type: "inline-format", start: o2, end: r2, format: e3 }), (e3, t3) => ({ type: "inline-command", start: o2, end: r2, cmd: e3, value: t3 }));
        }
        return void 0 !== e2.replacement ? m(e2.replacement) ? 0 === e2.start.length ? t2("Replacement pattern has empty `start` parameter") : pl.value({ type: "inline-command", start: "", end: e2.start, cmd: "mceInsertContent", value: e2.replacement }) : t2("Replacement pattern has non-string `replacement` parameter") : 0 === e2.start.length ? t2("Block pattern has empty `start` parameter") : n2("Block", (t3) => ({ type: "block-format", start: e2.start, format: t3[0] }), (t3, n3) => ({ type: "block-command", start: e2.start, cmd: t3, value: n3 }));
      }, Cl = (e2) => Y(e2, vl), wl = (e2) => Y(e2, bl), xl = (e2) => {
        const t2 = ((e3) => {
          const t3 = [], n2 = [];
          return V(e3, (e4) => {
            e4.fold((e5) => {
              t3.push(e5);
            }, (e5) => {
              n2.push(e5);
            });
          }), { errors: t3, values: n2 };
        })(q(e2, yl));
        return V(t2.errors, (e3) => console.error(e3.message, e3.pattern)), t2.values;
      }, El = xt().deviceType, _l = El.isTouch(), Sl = za.DOM, kl = (e2) => u(e2, RegExp), Nl = (e2) => (t2) => t2.options.get(e2), Rl = (e2) => m(e2) || f(e2), Al = (e2, t2 = "") => (n2) => {
        const o2 = m(n2);
        if (o2) {
          if (-1 !== n2.indexOf("=")) {
            const r2 = ((e3) => {
              const t3 = e3.indexOf("=") > 0 ? e3.split(/[;,](?![^=;,]*(?:[;,]|$))/) : e3.split(",");
              return X(t3, (e4, t4) => {
                const n3 = t4.split("="), o3 = n3[0], r3 = n3.length > 1 ? n3[1] : o3;
                return e4[Ve(o3)] = Ve(r3), e4;
              }, {});
            })(n2);
            return { value: xe(r2, e2.id).getOr(t2), valid: o2 };
          }
          return { value: n2, valid: o2 };
        }
        return { valid: false, message: "Must be a string." };
      }, Tl = Nl("iframe_attrs"), Ol = Nl("doctype"), Bl = Nl("document_base_url"), Pl = Nl("body_id"), Dl = Nl("body_class"), Ll = Nl("content_security_policy"), Ml = Nl("br_in_pre"), Il = Nl("forced_root_block"), Fl = Nl("forced_root_block_attrs"), Ul = Nl("newline_behavior"), zl = Nl("br_newline_selector"), jl = Nl("no_newline_selector"), Hl = Nl("keep_styles"), $l = Nl("end_container_on_empty_block"), ql = Nl("automatic_uploads"), Vl = Nl("images_reuse_filename"), Wl = Nl("images_replace_blob_uris"), Kl = Nl("icons"), Yl = Nl("icons_url"), Gl = Nl("images_upload_url"), Xl = Nl("images_upload_base_path"), Ql = Nl("images_upload_credentials"), Jl = Nl("images_upload_handler"), Zl = Nl("content_css_cors"), ed = Nl("referrer_policy"), td = Nl("language"), nd = Nl("language_url"), od = Nl("indent_use_margin"), rd = Nl("indentation"), sd = Nl("content_css"), ad = Nl("content_style"), id = Nl("font_css"), ld = Nl("directionality"), dd = Nl("inline_boundaries_selector"), cd = Nl("object_resizing"), ud = Nl("resize_img_proportional"), md = Nl("placeholder"), fd = Nl("event_root"), gd = Nl("service_message"), pd = Nl("theme"), hd = Nl("theme_url"), bd = Nl("model"), vd = Nl("model_url"), yd = Nl("inline_boundaries"), Cd = Nl("formats"), wd = Nl("preview_styles"), xd = Nl("format_empty_lines"), Ed = Nl("format_noneditable_selector"), _d = Nl("custom_ui_selector"), Sd = Nl("inline"), kd = Nl("hidden_input"), Nd = Nl("submit_patch"), Rd = Nl("add_form_submit_trigger"), Ad = Nl("add_unload_trigger"), Td = Nl("custom_undo_redo_levels"), Od = Nl("disable_nodechange"), Bd = Nl("readonly"), Pd = Nl("editable_root"), Dd = Nl("content_css_cors"), Ld = Nl("plugins"), Md = Nl("external_plugins"), Id = Nl("block_unsupported_drop"), Fd = Nl("visual"), Ud = Nl("visual_table_class"), zd = Nl("visual_anchor_class"), jd = Nl("iframe_aria_text"), Hd = Nl("setup"), $d = Nl("init_instance_callback"), qd = Nl("urlconverter_callback"), Vd = Nl("auto_focus"), Wd = Nl("browser_spellcheck"), Kd = Nl("protect"), Yd = Nl("paste_block_drop"), Gd = Nl("paste_data_images"), Xd = Nl("paste_preprocess"), Qd = Nl("paste_postprocess"), Jd = Nl("newdocument_content"), Zd = Nl("paste_webkit_styles"), ec = Nl("paste_remove_styles_if_webkit"), tc = Nl("paste_merge_formats"), nc = Nl("smart_paste"), oc = Nl("paste_as_text"), rc = Nl("paste_tab_spaces"), sc = Nl("allow_html_data_urls"), ac = Nl("text_patterns"), ic = Nl("text_patterns_lookup"), lc = Nl("noneditable_class"), dc = Nl("editable_class"), cc = Nl("noneditable_regexp"), uc = Nl("preserve_cdata"), mc = Nl("highlight_on_focus"), fc = Nl("xss_sanitization"), gc = Nl("init_content_sync"), pc = (e2) => Pt.explode(e2.options.get("images_file_types")), hc = Nl("table_tab_navigation"), bc = Nl("details_initial_state"), vc = Nl("details_serialized_state"), yc = Nl("force_hex_color"), Cc = Nl("sandbox_iframes"), wc = qo, xc = er, Ec = (e2) => {
        const t2 = e2.parentNode;
        t2 && t2.removeChild(e2);
      }, _c = (e2) => {
        const t2 = Dr(e2);
        return { count: e2.length - t2.length, text: t2 };
      }, Sc = (e2) => {
        let t2;
        for (; -1 !== (t2 = e2.data.lastIndexOf(Br)); ) e2.deleteData(t2, 1);
      }, kc = (e2, t2) => (Rc(e2), t2), Nc = (e2, t2) => Vi.isTextPosition(t2) ? ((e3, t3) => xc(e3) && t3.container() === e3 ? ((e4, t4) => {
        const n2 = _c(e4.data.substr(0, t4.offset())), o2 = _c(e4.data.substr(t4.offset()));
        return (n2.text + o2.text).length > 0 ? (Sc(e4), Vi(e4, t4.offset() - n2.count)) : t4;
      })(e3, t3) : kc(e3, t3))(e2, t2) : ((e3, t3) => t3.container() === e3.parentNode ? ((e4, t4) => {
        const n2 = t4.container(), o2 = ((e5, t5) => {
          const n3 = j(e5, t5);
          return -1 === n3 ? I.none() : I.some(n3);
        })(ce(n2.childNodes), e4).map((e5) => e5 < t4.offset() ? Vi(n2, t4.offset() - 1) : t4).getOr(t4);
        return Rc(e4), o2;
      })(e3, t3) : kc(e3, t3))(e2, t2), Rc = (e2) => {
        wc(e2) && Ur(e2) && (zr(e2) ? e2.removeAttribute("data-mce-caret") : Ec(e2)), xc(e2) && (Sc(e2), 0 === e2.data.length && Ec(e2));
      }, Ac = dr, Tc = mr, Oc = cr, Bc = (e2, t2, n2) => {
        const o2 = yi(t2.getBoundingClientRect(), n2);
        let r2, s2;
        if ("BODY" === e2.tagName) {
          const t3 = e2.ownerDocument.documentElement;
          r2 = e2.scrollLeft || t3.scrollLeft, s2 = e2.scrollTop || t3.scrollTop;
        } else {
          const t3 = e2.getBoundingClientRect();
          r2 = e2.scrollLeft - t3.left, s2 = e2.scrollTop - t3.top;
        }
        o2.left += r2, o2.right += r2, o2.top += s2, o2.bottom += s2, o2.width = 1;
        let a2 = t2.offsetWidth - t2.clientWidth;
        return a2 > 0 && (n2 && (a2 *= -1), o2.left += a2, o2.right += a2), o2;
      }, Pc = (e2, t2, n2, o2) => {
        const r2 = Xa();
        let s2, a2;
        const i2 = Il(e2), l2 = e2.dom, d2 = () => {
          ((e3) => {
            var t3, n3;
            const o3 = Uo(yn(e3), "*[contentEditable=false],video,audio,embed,object");
            for (let e4 = 0; e4 < o3.length; e4++) {
              const r3 = o3[e4].dom;
              let s3 = r3.previousSibling;
              if (qr(s3)) {
                const e5 = s3.data;
                1 === e5.length ? null === (t3 = s3.parentNode) || void 0 === t3 || t3.removeChild(s3) : s3.deleteData(e5.length - 1, 1);
              }
              s3 = r3.nextSibling, $r(s3) && (1 === s3.data.length ? null === (n3 = s3.parentNode) || void 0 === n3 || n3.removeChild(s3) : s3.deleteData(0, 1));
            }
          })(t2), a2 && (Rc(a2), a2 = null), r2.on((e3) => {
            l2.remove(e3.caret), r2.clear();
          }), s2 && (clearInterval(s2), s2 = void 0);
        };
        return { show: (e3, c2) => {
          let u2;
          if (d2(), Oc(c2)) return null;
          if (!n2(c2)) return a2 = ((e4, t3) => {
            var n3;
            const o3 = (null !== (n3 = e4.ownerDocument) && void 0 !== n3 ? n3 : document).createTextNode(Br), r3 = e4.parentNode;
            if (t3) {
              const t4 = e4.previousSibling;
              if (Mr(t4)) {
                if (Ur(t4)) return t4;
                if (qr(t4)) return t4.splitText(t4.data.length - 1);
              }
              null == r3 || r3.insertBefore(o3, e4);
            } else {
              const t4 = e4.nextSibling;
              if (Mr(t4)) {
                if (Ur(t4)) return t4;
                if ($r(t4)) return t4.splitText(1), t4;
              }
              e4.nextSibling ? null == r3 || r3.insertBefore(o3, e4.nextSibling) : null == r3 || r3.appendChild(o3);
            }
            return o3;
          })(c2, e3), u2 = c2.ownerDocument.createRange(), Lc(a2.nextSibling) ? (u2.setStart(a2, 0), u2.setEnd(a2, 0)) : (u2.setStart(a2, 1), u2.setEnd(a2, 1)), u2;
          {
            const n3 = ((e4, t3, n4) => {
              var o3;
              const r3 = (null !== (o3 = t3.ownerDocument) && void 0 !== o3 ? o3 : document).createElement(e4);
              r3.setAttribute("data-mce-caret", n4 ? "before" : "after"), r3.setAttribute("data-mce-bogus", "all"), r3.appendChild(Tr().dom);
              const s3 = t3.parentNode;
              return n4 ? null == s3 || s3.insertBefore(r3, t3) : t3.nextSibling ? null == s3 || s3.insertBefore(r3, t3.nextSibling) : null == s3 || s3.appendChild(r3), r3;
            })(i2, c2, e3), d3 = Bc(t2, c2, e3);
            l2.setStyle(n3, "top", d3.top), a2 = n3;
            const m2 = l2.create("div", { class: "mce-visual-caret", "data-mce-bogus": "all" });
            l2.setStyles(m2, { ...d3 }), l2.add(t2, m2), r2.set({ caret: m2, element: c2, before: e3 }), e3 && l2.addClass(m2, "mce-visual-caret-before"), s2 = setInterval(() => {
              r2.on((e4) => {
                o2() ? l2.toggleClass(e4.caret, "mce-visual-caret-hidden") : l2.addClass(e4.caret, "mce-visual-caret-hidden");
              });
            }, 500), u2 = c2.ownerDocument.createRange(), u2.setStart(n3, 0), u2.setEnd(n3, 0);
          }
          return u2;
        }, hide: d2, getCss: () => ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}", reposition: () => {
          r2.on((e3) => {
            const n3 = Bc(t2, e3.element, e3.before);
            l2.setStyles(e3.caret, { ...n3 });
          });
        }, destroy: () => clearInterval(s2) };
      }, Dc = () => At.browser.isFirefox(), Lc = (e2) => Ac(e2) || Tc(e2), Mc = (e2) => (Lc(e2) || Qo(e2) && Dc()) && Tn(yn(e2)).exists(oo), Ic = lr, Fc = dr, Uc = mr, zc = Yo("display", "block table table-cell table-caption list-item"), jc = Ur, Hc = Ir, $c = qo, qc = er, Vc = ts, Wc = (e2) => e2 > 0, Kc = (e2) => e2 < 0, Yc = (e2, t2) => {
        let n2;
        for (; n2 = e2(t2); ) if (!Hc(n2)) return n2;
        return null;
      }, Gc = (e2, t2, n2, o2, r2) => {
        const s2 = new jo(e2, o2), a2 = Fc(e2) || Hc(e2);
        let i2;
        if (Kc(t2)) {
          if (a2 && (i2 = Yc(s2.prev.bind(s2), true), n2(i2))) return i2;
          for (; i2 = Yc(s2.prev.bind(s2), r2); ) if (n2(i2)) return i2;
        }
        if (Wc(t2)) {
          if (a2 && (i2 = Yc(s2.next.bind(s2), true), n2(i2))) return i2;
          for (; i2 = Yc(s2.next.bind(s2), r2); ) if (n2(i2)) return i2;
        }
        return null;
      }, Xc = (e2, t2) => {
        for (; e2 && e2 !== t2; ) {
          if (zc(e2)) return e2;
          e2 = e2.parentNode;
        }
        return null;
      }, Qc = (e2, t2, n2) => Xc(e2.container(), n2) === Xc(t2.container(), n2), Jc = (e2, t2) => {
        if (!t2) return I.none();
        const n2 = t2.container(), o2 = t2.offset();
        return $c(n2) ? I.from(n2.childNodes[o2 + e2]) : I.none();
      }, Zc = (e2, t2) => {
        var n2;
        const o2 = (null !== (n2 = t2.ownerDocument) && void 0 !== n2 ? n2 : document).createRange();
        return e2 ? (o2.setStartBefore(t2), o2.setEndBefore(t2)) : (o2.setStartAfter(t2), o2.setEndAfter(t2)), o2;
      }, eu = (e2, t2, n2) => Xc(t2, e2) === Xc(n2, e2), tu = (e2, t2, n2) => {
        const o2 = e2 ? "previousSibling" : "nextSibling";
        let r2 = n2;
        for (; r2 && r2 !== t2; ) {
          let e3 = r2[o2];
          if (e3 && jc(e3) && (e3 = e3[o2]), Fc(e3) || Uc(e3)) {
            if (eu(t2, e3, r2)) return e3;
            break;
          }
          if (Vc(e3)) break;
          r2 = r2.parentNode;
        }
        return null;
      }, nu = T(Zc, true), ou = T(Zc, false), ru = (e2, t2, n2) => {
        let o2;
        const r2 = T(tu, true, t2), s2 = T(tu, false, t2), a2 = n2.startContainer, i2 = n2.startOffset;
        if (Ir(a2)) {
          const e3 = qc(a2) ? a2.parentNode : a2, t3 = e3.getAttribute("data-mce-caret");
          if ("before" === t3 && (o2 = e3.nextSibling, Mc(o2))) return nu(o2);
          if ("after" === t3 && (o2 = e3.previousSibling, Mc(o2))) return ou(o2);
        }
        if (!n2.collapsed) return n2;
        if (er(a2)) {
          if (jc(a2)) {
            if (1 === e2) {
              if (o2 = s2(a2), o2) return nu(o2);
              if (o2 = r2(a2), o2) return ou(o2);
            }
            if (-1 === e2) {
              if (o2 = r2(a2), o2) return ou(o2);
              if (o2 = s2(a2), o2) return nu(o2);
            }
            return n2;
          }
          if (qr(a2) && i2 >= a2.data.length - 1) return 1 === e2 && (o2 = s2(a2), o2) ? nu(o2) : n2;
          if ($r(a2) && i2 <= 1) return -1 === e2 && (o2 = r2(a2), o2) ? ou(o2) : n2;
          if (i2 === a2.data.length) return o2 = s2(a2), o2 ? nu(o2) : n2;
          if (0 === i2) return o2 = r2(a2), o2 ? ou(o2) : n2;
        }
        return n2;
      }, su = (e2, t2) => Jc(e2 ? 0 : -1, t2).filter(Fc), au = (e2, t2, n2) => {
        const o2 = ru(e2, t2, n2);
        return -1 === e2 ? Vi.fromRangeStart(o2) : Vi.fromRangeEnd(o2);
      }, iu = (e2) => I.from(e2.getNode()).map(yn), lu = (e2, t2) => {
        let n2 = t2;
        for (; n2 = e2(n2); ) if (n2.isVisible()) return n2;
        return n2;
      }, du = (e2, t2) => {
        const n2 = Qc(e2, t2);
        return !(n2 || !ar(e2.getNode())) || n2;
      };
      var cu;
      !function(e2) {
        e2[e2.Backwards = -1] = "Backwards", e2[e2.Forwards = 1] = "Forwards";
      }(cu || (cu = {}));
      const uu = dr, mu = er, fu = qo, gu = ar, pu = ts, hu = (e2) => Jr(e2) || ((e3) => !!ns(e3) && !X(ce(e3.getElementsByTagName("*")), (e4, t2) => e4 || Kr(t2), false))(e2), bu = os, vu = (e2, t2) => e2.hasChildNodes() && t2 < e2.childNodes.length ? e2.childNodes[t2] : null, yu = (e2, t2) => {
        if (Wc(e2)) {
          if (pu(t2.previousSibling) && !mu(t2.previousSibling)) return Vi.before(t2);
          if (mu(t2)) return Vi(t2, 0);
        }
        if (Kc(e2)) {
          if (pu(t2.nextSibling) && !mu(t2.nextSibling)) return Vi.after(t2);
          if (mu(t2)) return Vi(t2, t2.data.length);
        }
        return Kc(e2) ? gu(t2) ? Vi.before(t2) : Vi.after(t2) : Vi.before(t2);
      }, Cu = (e2, t2, n2) => {
        let o2, r2, s2, a2;
        if (!fu(n2) || !t2) return null;
        if (t2.isEqual(Vi.after(n2)) && n2.lastChild) {
          if (a2 = Vi.after(n2.lastChild), Kc(e2) && pu(n2.lastChild) && fu(n2.lastChild)) return gu(n2.lastChild) ? Vi.before(n2.lastChild) : a2;
        } else a2 = t2;
        const i2 = a2.container();
        let l2 = a2.offset();
        if (mu(i2)) {
          if (Kc(e2) && l2 > 0) return Vi(i2, --l2);
          if (Wc(e2) && l2 < i2.length) return Vi(i2, ++l2);
          o2 = i2;
        } else {
          if (Kc(e2) && l2 > 0 && (r2 = vu(i2, l2 - 1), pu(r2))) return !hu(r2) && (s2 = Gc(r2, e2, bu, r2), s2) ? mu(s2) ? Vi(s2, s2.data.length) : Vi.after(s2) : mu(r2) ? Vi(r2, r2.data.length) : Vi.before(r2);
          if (Wc(e2) && l2 < i2.childNodes.length && (r2 = vu(i2, l2), pu(r2))) return gu(r2) ? ((e3, t3) => {
            const n3 = t3.nextSibling;
            return n3 && pu(n3) ? mu(n3) ? Vi(n3, 0) : Vi.before(n3) : Cu(cu.Forwards, Vi.after(t3), e3);
          })(n2, r2) : !hu(r2) && (s2 = Gc(r2, e2, bu, r2), s2) ? mu(s2) ? Vi(s2, 0) : Vi.before(s2) : mu(r2) ? Vi(r2, 0) : Vi.after(r2);
          o2 = r2 || a2.getNode();
        }
        if (o2 && (Wc(e2) && a2.isAtEnd() || Kc(e2) && a2.isAtStart()) && (o2 = Gc(o2, e2, M, n2, true), bu(o2, n2))) return yu(e2, o2);
        r2 = o2 ? Gc(o2, e2, bu, n2) : o2;
        const d2 = Pe(Y(((e3, t3) => {
          const n3 = [];
          let o3 = e3;
          for (; o3 && o3 !== t3; ) n3.push(o3), o3 = o3.parentNode;
          return n3;
        })(i2, n2), uu));
        return !d2 || r2 && d2.contains(r2) ? r2 ? yu(e2, r2) : null : (a2 = Wc(e2) ? Vi.after(d2) : Vi.before(d2), a2);
      }, wu = (e2) => ({ next: (t2) => Cu(cu.Forwards, t2, e2), prev: (t2) => Cu(cu.Backwards, t2, e2) }), xu = (e2) => Vi.isTextPosition(e2) ? 0 === e2.offset() : ts(e2.getNode()), Eu = (e2) => {
        if (Vi.isTextPosition(e2)) {
          const t2 = e2.container();
          return e2.offset() === t2.data.length;
        }
        return ts(e2.getNode(true));
      }, _u = (e2, t2) => !Vi.isTextPosition(e2) && !Vi.isTextPosition(t2) && e2.getNode() === t2.getNode(true), Su = (e2, t2, n2) => {
        const o2 = wu(t2);
        return I.from(e2 ? o2.next(n2) : o2.prev(n2));
      }, ku = (e2, t2, n2) => Su(e2, t2, n2).bind((o2) => Qc(n2, o2, t2) && ((e3, t3, n3) => {
        return e3 ? !_u(t3, n3) && (o3 = t3, !(!Vi.isTextPosition(o3) && ar(o3.getNode()))) && Eu(t3) && xu(n3) : !_u(n3, t3) && xu(t3) && Eu(n3);
        var o3;
      })(e2, n2, o2) ? Su(e2, t2, o2) : I.some(o2)), Nu = (e2, t2, n2, o2) => ku(e2, t2, n2).bind((n3) => o2(n3) ? Nu(e2, t2, n3, o2) : I.some(n3)), Ru = (e2, t2) => {
        const n2 = e2 ? t2.firstChild : t2.lastChild;
        return er(n2) ? I.some(Vi(n2, e2 ? 0 : n2.data.length)) : n2 ? ts(n2) ? I.some(e2 ? Vi.before(n2) : ar(o2 = n2) ? Vi.before(o2) : Vi.after(o2)) : ((e3, t3, n3) => {
          const o3 = e3 ? Vi.before(n3) : Vi.after(n3);
          return Su(e3, t3, o3);
        })(e2, t2, n2) : I.none();
        var o2;
      }, Au = T(Su, true), Tu = T(Su, false), Ou = T(Ru, true), Bu = T(Ru, false), Pu = "_mce_caret", Du = (e2) => qo(e2) && e2.id === Pu, Lu = (e2, t2) => {
        let n2 = t2;
        for (; n2 && n2 !== e2; ) {
          if (Du(n2)) return n2;
          n2 = n2.parentNode;
        }
        return null;
      }, Mu = (e2) => Ee(e2, "name"), Iu = (e2) => Pt.isArray(e2.start), Fu = (e2) => !(!Mu(e2) && b(e2.forward)) || e2.forward, Uu = (e2, t2) => (qo(t2) && e2.isBlock(t2) && !t2.innerHTML && (t2.innerHTML = '<br data-mce-bogus="1" />'), t2), zu = (e2, t2) => Bu(e2).fold(L, (e3) => (t2.setStart(e3.container(), e3.offset()), t2.setEnd(e3.container(), e3.offset()), true)), ju = (e2, t2, n2) => !(!((e3) => !e3.hasChildNodes())(t2) || !Lu(e2, t2) || (((e3, t3) => {
        var n3;
        const o2 = (null !== (n3 = e3.ownerDocument) && void 0 !== n3 ? n3 : document).createTextNode(Br);
        e3.appendChild(o2), t3.setStart(o2, 0), t3.setEnd(o2, 0);
      })(t2, n2), 0)), Hu = (e2, t2, n2, o2) => {
        const r2 = n2[t2 ? "start" : "end"], s2 = e2.getRoot();
        if (r2) {
          let e3 = s2, n3 = r2[0];
          for (let t3 = r2.length - 1; e3 && t3 >= 1; t3--) {
            const n4 = e3.childNodes;
            if (ju(s2, e3, o2)) return true;
            if (r2[t3] > n4.length - 1) return !!ju(s2, e3, o2) || zu(e3, o2);
            e3 = n4[r2[t3]];
          }
          er(e3) && (n3 = Math.min(r2[0], e3.data.length)), qo(e3) && (n3 = Math.min(r2[0], e3.childNodes.length)), t2 ? o2.setStart(e3, n3) : o2.setEnd(e3, n3);
        }
        return true;
      }, $u = (e2) => er(e2) && e2.data.length > 0, qu = (e2, t2, n2) => {
        const o2 = e2.get(n2.id + "_" + t2), r2 = null == o2 ? void 0 : o2.parentNode, s2 = n2.keep;
        if (o2 && r2) {
          let a2, i2;
          if ("start" === t2 ? s2 ? o2.hasChildNodes() ? (a2 = o2.firstChild, i2 = 1) : $u(o2.nextSibling) ? (a2 = o2.nextSibling, i2 = 0) : $u(o2.previousSibling) ? (a2 = o2.previousSibling, i2 = o2.previousSibling.data.length) : (a2 = r2, i2 = e2.nodeIndex(o2) + 1) : (a2 = r2, i2 = e2.nodeIndex(o2)) : s2 ? o2.hasChildNodes() ? (a2 = o2.firstChild, i2 = 1) : $u(o2.previousSibling) ? (a2 = o2.previousSibling, i2 = o2.previousSibling.data.length) : (a2 = r2, i2 = e2.nodeIndex(o2)) : (a2 = r2, i2 = e2.nodeIndex(o2)), !s2) {
            const r3 = o2.previousSibling, s3 = o2.nextSibling;
            let l2;
            for (Pt.each(Pt.grep(o2.childNodes), (e3) => {
              er(e3) && (e3.data = e3.data.replace(/\uFEFF/g, ""));
            }); l2 = e2.get(n2.id + "_" + t2); ) e2.remove(l2, true);
            if (er(s3) && er(r3) && !At.browser.isOpera()) {
              const t3 = r3.data.length;
              r3.appendData(s3.data), e2.remove(s3), a2 = r3, i2 = t3;
            }
          }
          return I.some(Vi(a2, i2));
        }
        return I.none();
      }, Vu = (e2, t2, n2) => ((e3, t3, n3 = false) => 2 === t3 ? dl(Dr, n3, e3) : 3 === t3 ? ((e4) => {
        const t4 = e4.getRng();
        return { start: tl(e4.dom.getRoot(), Vi.fromRangeStart(t4)), end: tl(e4.dom.getRoot(), Vi.fromRangeEnd(t4)), forward: e4.isForward() };
      })(e3) : t3 ? ((e4) => ({ rng: e4.getRng(), forward: e4.isForward() }))(e3) : ul(e3, false))(e2, t2, n2), Wu = (e2, t2) => {
        ((e3, t3) => {
          const n2 = e3.dom;
          if (t3) {
            if (Iu(t3)) return ((e4, t4) => {
              const n3 = e4.createRng();
              return Hu(e4, true, t4, n3) && Hu(e4, false, t4, n3) ? I.some({ range: n3, forward: Fu(t4) }) : I.none();
            })(n2, t3);
            if (((e4) => m(e4.start))(t3)) return ((e4, t4) => {
              const n3 = I.from(nl(e4.getRoot(), t4.start)), o2 = I.from(nl(e4.getRoot(), t4.end));
              return Mt(n3, o2, (n4, o3) => {
                const r2 = e4.createRng();
                return r2.setStart(n4.container(), n4.offset()), r2.setEnd(o3.container(), o3.offset()), { range: r2, forward: Fu(t4) };
              });
            })(n2, t3);
            if (((e4) => Ee(e4, "id"))(t3)) return ((e4, t4) => {
              const n3 = qu(e4, "start", t4), o2 = qu(e4, "end", t4);
              return Mt(n3, o2.or(n3), (n4, o3) => {
                const r2 = e4.createRng();
                return r2.setStart(Uu(e4, n4.container()), n4.offset()), r2.setEnd(Uu(e4, o3.container()), o3.offset()), { range: r2, forward: Fu(t4) };
              });
            })(n2, t3);
            if (Mu(t3)) return ((e4, t4) => I.from(e4.select(t4.name)[t4.index]).map((t5) => {
              const n3 = e4.createRng();
              return n3.selectNode(t5), { range: n3, forward: true };
            }))(n2, t3);
            if (((e4) => Ee(e4, "rng"))(t3)) return I.some({ range: t3.rng, forward: Fu(t3) });
          }
          return I.none();
        })(e2, t2).each(({ range: t3, forward: n2 }) => {
          e2.setRng(t3, n2);
        });
      }, Ku = (e2) => qo(e2) && "SPAN" === e2.tagName && "bookmark" === e2.getAttribute("data-mce-type"), Yu = (Gu = br, (e2) => Gu === e2);
      var Gu;
      const Xu = (e2) => "" !== e2 && -1 !== " \f\n\r	\v".indexOf(e2), Qu = (e2) => !Xu(e2) && !Yu(e2) && !vr(e2), Ju = (e2) => {
        const t2 = [];
        if (e2) for (let n2 = 0; n2 < e2.rangeCount; n2++) t2.push(e2.getRangeAt(n2));
        return t2;
      }, Zu = (e2, t2) => {
        const n2 = Uo(t2, "td[data-mce-selected],th[data-mce-selected]");
        return n2.length > 0 ? n2 : ((e3) => Y(((e4) => te(e4, (e5) => {
          const t3 = _i(e5);
          return t3 ? [yn(t3)] : [];
        }))(e3), Rr))(e2);
      }, em = (e2) => Zu(Ju(e2.selection.getSel()), yn(e2.getBody())), tm = (e2, t2) => eo(e2, "table", t2), nm = (e2) => Fn(e2).fold(N([e2]), (t2) => [e2].concat(nm(t2))), om = (e2) => Un(e2).fold(N([e2]), (t2) => "br" === Ht(t2) ? Bn(t2).map((t3) => [e2].concat(om(t3))).getOr([]) : [e2].concat(om(t2))), rm = (e2, t2) => Mt(((e3) => {
        const t3 = e3.startContainer, n2 = e3.startOffset;
        return er(t3) ? 0 === n2 ? I.some(yn(t3)) : I.none() : I.from(t3.childNodes[n2]).map(yn);
      })(t2), ((e3) => {
        const t3 = e3.endContainer, n2 = e3.endOffset;
        return er(t3) ? n2 === t3.data.length ? I.some(yn(t3)) : I.none() : I.from(t3.childNodes[n2 - 1]).map(yn);
      })(t2), (t3, n2) => {
        const o2 = J(nm(e2), T(_n, t3)), r2 = J(om(e2), T(_n, n2));
        return o2.isSome() && r2.isSome();
      }).getOr(false), sm = (e2, t2, n2, o2) => {
        const r2 = n2, s2 = new jo(n2, r2), a2 = ye(e2.schema.getMoveCaretBeforeOnEnterElements(), (e3, t3) => !H(["td", "th", "table"], t3.toLowerCase()));
        let i2 = n2;
        do {
          if (er(i2) && 0 !== Pt.trim(i2.data).length) return void (o2 ? t2.setStart(i2, 0) : t2.setEnd(i2, i2.data.length));
          if (a2[i2.nodeName]) return void (o2 ? t2.setStartBefore(i2) : "BR" === i2.nodeName ? t2.setEndBefore(i2) : t2.setEndAfter(i2));
        } while (i2 = o2 ? s2.next() : s2.prev());
        "BODY" === r2.nodeName && (o2 ? t2.setStart(r2, 0) : t2.setEnd(r2, r2.childNodes.length));
      }, am = (e2) => {
        const t2 = e2.selection.getSel();
        return C(t2) && t2.rangeCount > 0;
      }, im = (e2, t2) => {
        const n2 = em(e2);
        n2.length > 0 ? V(n2, (n3) => {
          const o2 = n3.dom, r2 = e2.dom.createRng();
          r2.setStartBefore(o2), r2.setEndAfter(o2), t2(r2, true);
        }) : t2(e2.selection.getRng(), false);
      }, lm = (e2, t2, n2) => {
        const o2 = ul(e2, t2);
        n2(o2), e2.moveToBookmark(o2);
      }, dm = (e2) => x(null == e2 ? void 0 : e2.nodeType), cm = (e2) => qo(e2) && !Ku(e2) && !Du(e2) && !Xo(e2), um = (e2, t2, n2) => {
        const { selection: o2, dom: r2 } = e2, s2 = o2.getNode(), a2 = dr(s2);
        lm(o2, true, () => {
          t2();
        }), a2 && dr(s2) && r2.isChildOf(s2, e2.getBody()) ? e2.selection.select(s2) : n2(o2.getStart()) && mm(r2, o2);
      }, mm = (e2, t2) => {
        var n2, o2;
        const r2 = t2.getRng(), { startContainer: s2, startOffset: a2 } = r2;
        if (!((e3, t3) => {
          if (cm(t3) && !/^(TD|TH)$/.test(t3.nodeName)) {
            const n3 = e3.getAttrib(t3, "data-mce-selected"), o3 = parseInt(n3, 10);
            return !isNaN(o3) && o3 > 0;
          }
          return false;
        })(e2, t2.getNode()) && qo(s2)) {
          const i2 = s2.childNodes, l2 = e2.getRoot();
          let d2;
          if (a2 < i2.length) {
            const t3 = i2[a2];
            d2 = new jo(t3, null !== (n2 = e2.getParent(t3, e2.isBlock)) && void 0 !== n2 ? n2 : l2);
          } else {
            const t3 = i2[i2.length - 1];
            d2 = new jo(t3, null !== (o2 = e2.getParent(t3, e2.isBlock)) && void 0 !== o2 ? o2 : l2), d2.next(true);
          }
          for (let n3 = d2.current(); n3; n3 = d2.next()) {
            if ("false" === e2.getContentEditable(n3)) return;
            if (er(n3) && !hm(n3)) return r2.setStart(n3, 0), void t2.setRng(r2);
          }
        }
      }, fm = (e2, t2, n2) => {
        if (e2) {
          const o2 = t2 ? "nextSibling" : "previousSibling";
          for (e2 = n2 ? e2 : e2[o2]; e2; e2 = e2[o2]) if (qo(e2) || !hm(e2)) return e2;
        }
      }, gm = (e2, t2) => !!e2.getTextBlockElements()[t2.nodeName.toLowerCase()] || Ts(e2, t2), pm = (e2, t2, n2) => e2.schema.isValidChild(t2, n2), hm = (e2, t2 = false) => {
        if (C(e2) && er(e2)) {
          const n2 = t2 ? e2.data.replace(/ /g, " ") : e2.data;
          return ss(n2);
        }
        return false;
      }, bm = (e2, t2) => {
        const n2 = e2.dom;
        return cm(t2) && "false" === n2.getContentEditable(t2) && ((e3, t3) => {
          const n3 = "[data-mce-cef-wrappable]", o2 = Ed(e3), r2 = Ge(o2) ? n3 : `${n3},${o2}`;
          return xn(yn(t3), r2);
        })(e2, t2) && 0 === n2.select('[contenteditable="true"]', t2).length;
      }, vm = (e2, t2) => w(e2) ? e2(t2) : (C(t2) && (e2 = e2.replace(/%(\w+)/g, (e3, n2) => t2[n2] || e3)), e2), ym = (e2, t2) => (t2 = t2 || "", e2 = "" + ((e2 = e2 || "").nodeName || e2), t2 = "" + (t2.nodeName || t2), e2.toLowerCase() === t2.toLowerCase()), Cm = (e2, t2) => {
        if (y(e2)) return null;
        {
          let n2 = String(e2);
          return "color" !== t2 && "backgroundColor" !== t2 || (n2 = Ca(n2)), "fontWeight" === t2 && 700 === e2 && (n2 = "bold"), "fontFamily" === t2 && (n2 = n2.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), n2;
        }
      }, wm = (e2, t2, n2) => {
        const o2 = e2.getStyle(t2, n2);
        return Cm(o2, n2);
      }, xm = (e2, t2) => {
        let n2;
        return e2.getParent(t2, (t3) => !!qo(t3) && (n2 = e2.getStyle(t3, "text-decoration"), !!n2 && "none" !== n2)), n2;
      }, Em = (e2, t2, n2) => e2.getParents(t2, n2, e2.getRoot()), _m = (e2, t2, n2) => {
        const o2 = e2.formatter.get(t2);
        return C(o2) && $(o2, n2);
      }, Sm = (e2) => _e(e2, "block"), km = (e2) => _e(e2, "selector"), Nm = (e2) => _e(e2, "inline"), Rm = (e2) => km(e2) && false !== e2.expand && !Nm(e2), Am = (e2) => ((e3) => {
        const t2 = [];
        let n2 = e3;
        for (; n2; ) {
          if (er(n2) && n2.data !== Br || n2.childNodes.length > 1) return [];
          qo(n2) && t2.push(n2), n2 = n2.firstChild;
        }
        return t2;
      })(e2).length > 0, Tm = (e2) => Du(e2.dom) && Am(e2.dom), Om = Ku, Bm = Em, Pm = hm, Dm = gm, Lm = (e2, t2) => {
        let n2 = t2;
        for (; n2; ) {
          if (qo(n2) && e2.getContentEditable(n2)) return "false" === e2.getContentEditable(n2) ? n2 : t2;
          n2 = n2.parentNode;
        }
        return t2;
      }, Mm = (e2, t2, n2, o2) => {
        const r2 = t2.data;
        if (e2) {
          for (let e3 = n2; e3 > 0; e3--) if (o2(r2.charAt(e3 - 1))) return e3;
        } else for (let e3 = n2; e3 < r2.length; e3++) if (o2(r2.charAt(e3))) return e3;
        return -1;
      }, Im = (e2, t2, n2) => Mm(e2, t2, n2, (e3) => Yu(e3) || Xu(e3)), Fm = (e2, t2, n2) => Mm(e2, t2, n2, Qu), Um = (e2, t2, n2, o2, r2, s2) => {
        let a2;
        const i2 = e2.getParent(n2, e2.isBlock) || t2, l2 = (t3, n3, o3) => {
          const s3 = hi(e2), l3 = r2 ? s3.backwards : s3.forwards;
          return I.from(l3(t3, n3, (e3, t4) => Om(e3.parentNode) ? -1 : (a2 = e3, o3(r2, e3, t4)), i2));
        };
        return l2(n2, o2, Im).bind((e3) => s2 ? l2(e3.container, e3.offset + (r2 ? -1 : 0), Fm) : I.some(e3)).orThunk(() => a2 ? I.some({ container: a2, offset: r2 ? 0 : a2.length }) : I.none());
      }, zm = (e2, t2, n2, o2, r2) => {
        const s2 = o2[r2];
        er(o2) && Ge(o2.data) && s2 && (o2 = s2);
        const a2 = Bm(e2, o2);
        for (let o3 = 0; o3 < a2.length; o3++) for (let r3 = 0; r3 < t2.length; r3++) {
          const s3 = t2[r3];
          if ((!C(s3.collapsed) || s3.collapsed === n2.collapsed) && km(s3) && e2.is(a2[o3], s3.selector)) return a2[o3];
        }
        return o2;
      }, jm = (e2, t2, n2, o2) => {
        var r2;
        let s2 = n2;
        const a2 = e2.getRoot(), i2 = t2[0];
        if (Sm(i2) && (s2 = i2.wrapper ? null : e2.getParent(n2, i2.block, a2)), !s2) {
          const t3 = null !== (r2 = e2.getParent(n2, "LI,TD,TH,SUMMARY")) && void 0 !== r2 ? r2 : a2;
          s2 = e2.getParent(er(n2) ? n2.parentNode : n2, (t4) => t4 !== a2 && Dm(e2.schema, t4), t3);
        }
        if (s2 && Sm(i2) && i2.wrapper && (s2 = Bm(e2, s2, "ul,ol").reverse()[0] || s2), !s2) for (s2 = n2; s2 && s2[o2] && !e2.isBlock(s2[o2]) && (s2 = s2[o2], !ym(s2, "br")); ) ;
        return s2 || n2;
      }, Hm = (e2, t2, n2, o2) => {
        const r2 = n2.parentNode;
        return !C(n2[o2]) && (!(r2 !== t2 && !y(r2) && !e2.isBlock(r2)) || Hm(e2, t2, r2, o2));
      }, $m = (e2, t2, n2, o2, r2) => {
        let s2 = n2;
        const a2 = r2 ? "previousSibling" : "nextSibling", i2 = e2.getRoot();
        if (er(n2) && !Pm(n2) && (r2 ? o2 > 0 : o2 < n2.data.length)) return n2;
        for (; s2; ) {
          if (!t2[0].block_expand && e2.isBlock(s2)) return s2;
          for (let t3 = s2[a2]; t3; t3 = t3[a2]) {
            const n3 = er(t3) && !Hm(e2, i2, t3, a2);
            if (!Om(t3) && (!ar(l2 = t3) || !l2.getAttribute("data-mce-bogus") || l2.nextSibling) && !Pm(t3, n3)) return s2;
          }
          if (s2 === i2 || s2.parentNode === i2) {
            n2 = s2;
            break;
          }
          s2 = s2.parentNode;
        }
        var l2;
        return n2;
      }, qm = (e2) => Om(e2.parentNode) || Om(e2), Vm = (e2, t2, n2, o2 = false) => {
        let { startContainer: r2, startOffset: s2, endContainer: a2, endOffset: i2 } = t2;
        const l2 = n2[0];
        return qo(r2) && r2.hasChildNodes() && (r2 = Si(r2, s2), er(r2) && (s2 = 0)), qo(a2) && a2.hasChildNodes() && (a2 = Si(a2, t2.collapsed ? i2 : i2 - 1), er(a2) && (i2 = a2.data.length)), r2 = Lm(e2, r2), a2 = Lm(e2, a2), qm(r2) && (r2 = Om(r2) ? r2 : r2.parentNode, r2 = t2.collapsed ? r2.previousSibling || r2 : r2.nextSibling || r2, er(r2) && (s2 = t2.collapsed ? r2.length : 0)), qm(a2) && (a2 = Om(a2) ? a2 : a2.parentNode, a2 = t2.collapsed ? a2.nextSibling || a2 : a2.previousSibling || a2, er(a2) && (i2 = t2.collapsed ? 0 : a2.length)), t2.collapsed && (Um(e2, e2.getRoot(), r2, s2, true, o2).each(({ container: e3, offset: t3 }) => {
          r2 = e3, s2 = t3;
        }), Um(e2, e2.getRoot(), a2, i2, false, o2).each(({ container: e3, offset: t3 }) => {
          a2 = e3, i2 = t3;
        })), (Nm(l2) || l2.block_expand) && (Nm(l2) && er(r2) && 0 !== s2 || (r2 = $m(e2, n2, r2, s2, true)), Nm(l2) && er(a2) && i2 !== a2.data.length || (a2 = $m(e2, n2, a2, i2, false))), Rm(l2) && (r2 = zm(e2, n2, t2, r2, "previousSibling"), a2 = zm(e2, n2, t2, a2, "nextSibling")), (Sm(l2) || km(l2)) && (r2 = jm(e2, n2, r2, "previousSibling"), a2 = jm(e2, n2, a2, "nextSibling"), Sm(l2) && (e2.isBlock(r2) || (r2 = $m(e2, n2, r2, s2, true)), e2.isBlock(a2) || (a2 = $m(e2, n2, a2, i2, false)))), qo(r2) && r2.parentNode && (s2 = e2.nodeIndex(r2), r2 = r2.parentNode), qo(a2) && a2.parentNode && (i2 = e2.nodeIndex(a2) + 1, a2 = a2.parentNode), { startContainer: r2, startOffset: s2, endContainer: a2, endOffset: i2 };
      }, Wm = (e2, t2, n2) => {
        var o2;
        const r2 = t2.startOffset, s2 = Si(t2.startContainer, r2), a2 = t2.endOffset, i2 = Si(t2.endContainer, a2 - 1), l2 = (e3) => {
          const t3 = e3[0];
          er(t3) && t3 === s2 && r2 >= t3.data.length && e3.splice(0, 1);
          const n3 = e3[e3.length - 1];
          return 0 === a2 && e3.length > 0 && n3 === i2 && er(n3) && e3.splice(e3.length - 1, 1), e3;
        }, d2 = (e3, t3, n3) => {
          const o3 = [];
          for (; e3 && e3 !== n3; e3 = e3[t3]) o3.push(e3);
          return o3;
        }, c2 = (t3, n3) => e2.getParent(t3, (e3) => e3.parentNode === n3, n3), u2 = (e3, t3, o3) => {
          const r3 = o3 ? "nextSibling" : "previousSibling";
          for (let s3 = e3, a3 = s3.parentNode; s3 && s3 !== t3; s3 = a3) {
            a3 = s3.parentNode;
            const t4 = d2(s3 === e3 ? s3 : s3[r3], r3);
            t4.length && (o3 || t4.reverse(), n2(l2(t4)));
          }
        };
        if (s2 === i2) return n2(l2([s2]));
        const m2 = null !== (o2 = e2.findCommonAncestor(s2, i2)) && void 0 !== o2 ? o2 : e2.getRoot();
        if (e2.isChildOf(s2, i2)) return u2(s2, m2, true);
        if (e2.isChildOf(i2, s2)) return u2(i2, m2);
        const f2 = c2(s2, m2) || s2, g2 = c2(i2, m2) || i2;
        u2(s2, f2, true);
        const p2 = d2(f2 === s2 ? f2 : f2.nextSibling, "nextSibling", g2 === i2 ? g2.nextSibling : g2);
        p2.length && n2(l2(p2)), u2(i2, g2);
      }, Km = ['pre[class*=language-][contenteditable="false"]', "figure.image", "div[data-ephox-embed-iri]", "div.tiny-pageembed", "div.mce-toc", "div[data-mce-toc]"], Ym = (e2, t2, n2, o2, r2, s2) => {
        const { uid: a2 = t2, ...i2 } = n2;
        un(e2, Za()), Jt(e2, `${ti()}`, a2), Jt(e2, `${ei()}`, o2);
        const { attributes: l2 = {}, classes: d2 = [] } = r2(a2, i2);
        if (Zt(e2, l2), ((e3, t3) => {
          V(t3, (t4) => {
            un(e3, t4);
          });
        })(e2, d2), s2) {
          d2.length > 0 && Jt(e2, `${oi()}`, d2.join(","));
          const t3 = me(l2);
          t3.length > 0 && Jt(e2, `${ri()}`, t3.join(","));
        }
      }, Gm = (e2, t2, n2, o2, r2) => {
        const s2 = bn("span", e2);
        return Ym(s2, t2, n2, o2, r2, false), s2;
      }, Xm = (e2, t2, n2, o2, r2, s2) => {
        const a2 = [], i2 = Gm(e2.getDoc(), n2, s2, o2, r2), l2 = Xa(), d2 = () => {
          l2.clear();
        }, c2 = (e3) => {
          V(e3, u2);
        }, u2 = (t3) => {
          switch (((e3, t4, n3, o3) => An(t4).fold(() => "skipping", (r3) => "br" === o3 || ((e4) => Kt(e4) && Cr(e4) === Br)(t4) ? "valid" : ((e4) => Wt(e4) && gn(e4, Za()))(t4) ? "existing" : Du(t4.dom) ? "caret" : $(Km, (e4) => xn(t4, e4)) ? "valid-block" : pm(e3, n3, o3) && pm(e3, Ht(r3), n3) ? "valid" : "invalid-child"))(e2, t3, "span", Ht(t3))) {
            case "invalid-child": {
              d2();
              const e3 = Mn(t3);
              c2(e3), d2();
              break;
            }
            case "valid-block":
              d2(), Ym(t3, n2, s2, o2, r2, true);
              break;
            case "valid": {
              const e3 = l2.get().getOrThunk(() => {
                const e4 = fi(i2);
                return a2.push(e4), l2.set(e4), e4;
              });
              yo(t3, e3);
              break;
            }
          }
        };
        return Wm(e2.dom, t2, (e3) => {
          d2(), ((e4) => {
            const t3 = q(e4, yn);
            c2(t3);
          })(e3);
        }), a2;
      }, Qm = (e2) => {
        const t2 = /* @__PURE__ */ (() => {
          const e3 = {};
          return { register: (t3, n3) => {
            e3[t3] = { name: t3, settings: n3 };
          }, lookup: (t3) => xe(e3, t3).map((e4) => e4.settings), getNames: () => me(e3) };
        })();
        ((e3, t3) => {
          const n3 = ei(), o3 = (e4) => I.from(e4.attr(n3)).bind(t3.lookup), r3 = (e4) => {
            var t4, n4;
            e4.attr(ti(), null), e4.attr(ei(), null), e4.attr(ni(), null);
            const o4 = I.from(e4.attr(ri())).map((e5) => e5.split(",")).getOr([]), r4 = I.from(e4.attr(oi())).map((e5) => e5.split(",")).getOr([]);
            V(o4, (t5) => e4.attr(t5, null));
            const s2 = null !== (n4 = null === (t4 = e4.attr("class")) || void 0 === t4 ? void 0 : t4.split(" ")) && void 0 !== n4 ? n4 : [], a2 = re(s2, [Za()].concat(r4));
            e4.attr("class", a2.length > 0 ? a2.join(" ") : null), e4.attr(oi(), null), e4.attr(ri(), null);
          };
          e3.serializer.addTempAttr(ni()), e3.serializer.addAttributeFilter(n3, (e4) => {
            for (const t4 of e4) o3(t4).each((e5) => {
              false === e5.persistent && ("span" === t4.name ? t4.unwrap() : r3(t4));
            });
          });
        })(e2, t2);
        const n2 = ((e3, t3) => {
          const n3 = $a({}), o3 = () => ({ listeners: [], previous: Xa() }), r3 = (e4, t4) => {
            s2(e4, (e5) => (t4(e5), e5));
          }, s2 = (e4, t4) => {
            const r4 = n3.get(), s3 = t4(xe(r4, e4).getOrThunk(o3));
            r4[e4] = s3, n3.set(r4);
          }, a2 = (t4, n4) => {
            V(li(e3, t4), (e4) => {
              n4 ? Jt(e4, ni(), "true") : on(e4, ni());
            });
          }, i2 = Ja(() => {
            const n4 = ae(t3.getNames());
            V(n4, (t4) => {
              s2(t4, (n5) => {
                const o4 = n5.previous.get();
                return ai(e3, I.some(t4)).fold(() => {
                  o4.each((e4) => {
                    ((e5) => {
                      r3(e5, (t5) => {
                        V(t5.listeners, (t6) => t6(false, e5));
                      });
                    })(t4), n5.previous.clear(), a2(e4, false);
                  });
                }, ({ uid: e4, name: t5, elements: s3 }) => {
                  Dt(o4, e4) || (o4.each((e5) => a2(e5, false)), ((e5, t6, n6) => {
                    r3(e5, (o5) => {
                      V(o5.listeners, (o6) => o6(true, e5, { uid: t6, nodes: q(n6, (e6) => e6.dom) }));
                    });
                  })(t5, e4, s3), n5.previous.set(e4), a2(e4, true));
                }), { previous: n5.previous, listeners: n5.listeners };
              });
            });
          }, 30);
          return e3.on("remove", () => {
            i2.cancel();
          }), e3.on("NodeChange", () => {
            i2.throttle();
          }), { addListener: (e4, t4) => {
            s2(e4, (e5) => ({ previous: e5.previous, listeners: e5.listeners.concat([t4]) }));
          } };
        })(e2, t2), o2 = Xt("span"), r2 = (e3) => {
          V(e3, (e4) => {
            o2(e4) ? Eo(e4) : ((e5) => {
              fn(e5, Za()), on(e5, `${ti()}`), on(e5, `${ei()}`), on(e5, `${ni()}`);
              const t3 = tn(e5, `${ri()}`).map((e6) => e6.split(",")).getOr([]), n3 = tn(e5, `${oi()}`).map((e6) => e6.split(",")).getOr([]);
              var o3;
              V(t3, (t4) => on(e5, t4)), o3 = e5, V(n3, (e6) => {
                fn(o3, e6);
              }), on(e5, `${oi()}`), on(e5, `${ri()}`);
            })(e4);
          });
        };
        return { register: (e3, n3) => {
          t2.register(e3, n3);
        }, annotate: (n3, o3) => {
          t2.lookup(n3).each((t3) => {
            ((e3, t4, n4, o4) => {
              e3.undoManager.transact(() => {
                const r3 = e3.selection, s2 = r3.getRng(), a2 = em(e3).length > 0, i2 = ui("mce-annotation");
                if (s2.collapsed && !a2 && ((e4, t5) => {
                  const n5 = Vm(e4.dom, t5, [{ inline: "span" }]);
                  t5.setStart(n5.startContainer, n5.startOffset), t5.setEnd(n5.endContainer, n5.endOffset), e4.selection.setRng(t5);
                })(e3, s2), r3.getRng().collapsed && !a2) {
                  const s3 = Gm(e3.getDoc(), i2, o4, t4, n4.decorate);
                  ko(s3, br), r3.getRng().insertNode(s3.dom), r3.select(s3.dom);
                } else lm(r3, false, () => {
                  im(e3, (r4) => {
                    Xm(e3, r4, i2, t4, n4.decorate, o4);
                  });
                });
              });
            })(e2, n3, t3, o3);
          });
        }, annotationChanged: (e3, t3) => {
          n2.addListener(e3, t3);
        }, remove: (t3) => {
          ai(e2, I.some(t3)).each(({ elements: t4 }) => {
            const n3 = e2.selection.getBookmark();
            r2(t4), e2.selection.moveToBookmark(n3);
          });
        }, removeAll: (t3) => {
          const n3 = e2.selection.getBookmark();
          ge(di(e2, t3), (e3, t4) => {
            r2(e3);
          }), e2.selection.moveToBookmark(n3);
        }, getAll: (t3) => {
          const n3 = di(e2, t3);
          return pe(n3, (e3) => q(e3, (e4) => e4.dom));
        } };
      }, Jm = (e2) => ({ getBookmark: T(Vu, e2), moveToBookmark: T(Wu, e2) });
      Jm.isBookmarkNode = Ku;
      const Zm = (e2, t2, n2) => !n2.collapsed && $(n2.getClientRects(), (n3) => ((e3, t3, n4) => t3 >= e3.left && t3 <= e3.right && n4 >= e3.top && n4 <= e3.bottom)(n3, e2, t2)), ef = (e2, t2, n2) => {
        e2.dispatch(t2, n2);
      }, tf = (e2, t2, n2, o2) => {
        e2.dispatch("FormatApply", { format: t2, node: n2, vars: o2 });
      }, nf = (e2, t2, n2, o2) => {
        e2.dispatch("FormatRemove", { format: t2, node: n2, vars: o2 });
      }, of = (e2, t2) => e2.dispatch("SetContent", t2), rf = (e2, t2) => e2.dispatch("GetContent", t2), sf = (e2, t2) => e2.dispatch("PastePlainTextToggle", { state: t2 }), af = { BACKSPACE: 8, DELETE: 46, DOWN: 40, ENTER: 13, ESC: 27, LEFT: 37, RIGHT: 39, SPACEBAR: 32, TAB: 9, UP: 38, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, modifierPressed: (e2) => e2.shiftKey || e2.ctrlKey || e2.altKey || af.metaKeyPressed(e2), metaKeyPressed: (e2) => At.os.isMacOS() || At.os.isiOS() ? e2.metaKey : e2.ctrlKey && !e2.altKey }, lf = "data-mce-selected", df = Math.abs, cf = Math.round, uf = { nw: [0, 0, -1, -1], ne: [1, 0, 1, -1], se: [1, 1, 1, 1], sw: [0, 1, -1, 1] }, mf = (e2, t2) => {
        const n2 = t2.dom, o2 = t2.getDoc(), r2 = document, s2 = t2.getBody();
        let a2, i2, l2, d2, c2, u2, m2, f2, g2, p2, h2, b2, v2, y2, w2;
        const x2 = (e3) => C(e3) && (ir(e3) || n2.is(e3, "figure.image")), E2 = (e3) => mr(e3) || n2.hasClass(e3, "mce-preview-object"), _2 = (e3) => {
          const n3 = e3.target;
          ((e4, t3) => {
            if (((e5) => "longpress" === e5.type || 0 === e5.type.indexOf("touch"))(e4)) {
              const n4 = e4.touches[0];
              return x2(e4.target) && !Zm(n4.clientX, n4.clientY, t3);
            }
            return x2(e4.target) && !Zm(e4.clientX, e4.clientY, t3);
          })(e3, t2.selection.getRng()) && !e3.isDefaultPrevented() && t2.selection.select(n3);
        }, S2 = (e3) => n2.hasClass(e3, "mce-preview-object") && C(e3.firstElementChild) ? [e3, e3.firstElementChild] : n2.is(e3, "figure.image") ? [e3.querySelector("img")] : [e3], k2 = (e3) => {
          const o3 = cd(t2);
          return !!o3 && "false" !== e3.getAttribute("data-mce-resize") && e3 !== t2.getBody() && (n2.hasClass(e3, "mce-preview-object") && C(e3.firstElementChild) ? xn(yn(e3.firstElementChild), o3) : xn(yn(e3), o3));
        }, N2 = (e3, o3, r3) => {
          if (C(r3)) {
            const s3 = S2(e3);
            V(s3, (e4) => {
              e4.style[o3] || !t2.schema.isValid(e4.nodeName.toLowerCase(), o3) ? n2.setStyle(e4, o3, r3) : n2.setAttrib(e4, o3, "" + r3);
            });
          }
        }, R2 = (e3, t3, n3) => {
          N2(e3, "width", t3), N2(e3, "height", n3);
        }, A2 = (e3) => {
          let o3, r3, c3, C2, _3;
          o3 = e3.screenX - u2, r3 = e3.screenY - m2, b2 = o3 * d2[2] + f2, v2 = r3 * d2[3] + g2, b2 = b2 < 5 ? 5 : b2, v2 = v2 < 5 ? 5 : v2, c3 = (x2(a2) || E2(a2)) && false !== ud(t2) ? !af.modifierPressed(e3) : af.modifierPressed(e3), c3 && (df(o3) > df(r3) ? (v2 = cf(b2 * p2), b2 = cf(v2 / p2)) : (b2 = cf(v2 / p2), v2 = cf(b2 * p2))), R2(i2, b2, v2), C2 = d2.startPos.x + o3, _3 = d2.startPos.y + r3, C2 = C2 > 0 ? C2 : 0, _3 = _3 > 0 ? _3 : 0, n2.setStyles(l2, { left: C2, top: _3, display: "block" }), l2.innerHTML = b2 + " &times; " + v2, d2[2] < 0 && i2.clientWidth <= b2 && n2.setStyle(i2, "left", void 0 + (f2 - b2)), d2[3] < 0 && i2.clientHeight <= v2 && n2.setStyle(i2, "top", void 0 + (g2 - v2)), o3 = s2.scrollWidth - y2, r3 = s2.scrollHeight - w2, o3 + r3 !== 0 && n2.setStyles(l2, { left: C2 - o3, top: _3 - r3 }), h2 || (((e4, t3, n3, o4, r4) => {
            e4.dispatch("ObjectResizeStart", { target: t3, width: n3, height: o4, origin: r4 });
          })(t2, a2, f2, g2, "corner-" + d2.name), h2 = true);
        }, T2 = () => {
          const e3 = h2;
          h2 = false, e3 && (N2(a2, "width", b2), N2(a2, "height", v2)), n2.unbind(o2, "mousemove", A2), n2.unbind(o2, "mouseup", T2), r2 !== o2 && (n2.unbind(r2, "mousemove", A2), n2.unbind(r2, "mouseup", T2)), n2.remove(i2), n2.remove(l2), n2.remove(c2), O2(a2), e3 && (((e4, t3, n3, o3, r3) => {
            e4.dispatch("ObjectResized", { target: t3, width: n3, height: o3, origin: r3 });
          })(t2, a2, b2, v2, "corner-" + d2.name), n2.setAttrib(a2, "style", n2.getAttrib(a2, "style"))), t2.nodeChanged();
        }, O2 = (e3) => {
          M2();
          const h3 = n2.getPos(e3, s2), C2 = h3.x, x3 = h3.y, _3 = e3.getBoundingClientRect(), N3 = _3.width || _3.right - _3.left, O3 = _3.height || _3.bottom - _3.top;
          a2 !== e3 && (P2(), a2 = e3, b2 = v2 = 0);
          const B3 = t2.dispatch("ObjectSelected", { target: e3 });
          k2(e3) && !B3.isDefaultPrevented() ? ge(uf, (e4, t3) => {
            let h4 = n2.get("mceResizeHandle" + t3);
            h4 && n2.remove(h4), h4 = n2.add(s2, "div", { id: "mceResizeHandle" + t3, "data-mce-bogus": "all", class: "mce-resizehandle", unselectable: true, style: "cursor:" + t3 + "-resize; margin:0; padding:0" }), n2.bind(h4, "mousedown", (h5) => {
              h5.stopImmediatePropagation(), h5.preventDefault(), ((h6) => {
                const b3 = S2(a2)[0];
                var v3;
                u2 = h6.screenX, m2 = h6.screenY, f2 = b3.clientWidth, g2 = b3.clientHeight, p2 = g2 / f2, d2 = e4, d2.name = t3, d2.startPos = { x: N3 * e4[0] + C2, y: O3 * e4[1] + x3 }, y2 = s2.scrollWidth, w2 = s2.scrollHeight, c2 = n2.add(s2, "div", { class: "mce-resize-backdrop", "data-mce-bogus": "all" }), n2.setStyles(c2, { position: "fixed", left: "0", top: "0", width: "100%", height: "100%" }), i2 = E2(v3 = a2) ? n2.create("img", { src: At.transparentSrc }) : v3.cloneNode(true), n2.addClass(i2, "mce-clonedresizable"), n2.setAttrib(i2, "data-mce-bogus", "all"), i2.contentEditable = "false", n2.setStyles(i2, { left: C2, top: x3, margin: 0 }), R2(i2, N3, O3), i2.removeAttribute(lf), s2.appendChild(i2), n2.bind(o2, "mousemove", A2), n2.bind(o2, "mouseup", T2), r2 !== o2 && (n2.bind(r2, "mousemove", A2), n2.bind(r2, "mouseup", T2)), l2 = n2.add(s2, "div", { class: "mce-resize-helper", "data-mce-bogus": "all" }, f2 + " &times; " + g2);
              })(h5);
            }), e4.elm = h4, n2.setStyles(h4, { left: N3 * e4[0] + C2 - h4.offsetWidth / 2, top: O3 * e4[1] + x3 - h4.offsetHeight / 2 });
          }) : P2(false);
        }, B2 = Qa(O2, 0), P2 = (e3 = true) => {
          B2.cancel(), M2(), a2 && e3 && a2.removeAttribute(lf), ge(uf, (e4, t3) => {
            const o3 = n2.get("mceResizeHandle" + t3);
            o3 && (n2.unbind(o3), n2.remove(o3));
          });
        }, D2 = (e3, t3) => n2.isChildOf(e3, t3), L2 = (o3) => {
          if (h2 || t2.removed || t2.composing) return;
          const r3 = "mousedown" === o3.type ? o3.target : e2.getNode(), a3 = no(yn(r3), "table,img,figure.image,hr,video,span.mce-preview-object,details").map((e3) => e3.dom).filter((e3) => n2.isEditable(e3.parentElement) || "IMG" === e3.nodeName && n2.isEditable(e3)).getOrUndefined(), i3 = C(a3) ? n2.getAttrib(a3, lf, "1") : "1";
          if (V(n2.select(`img[${lf}],hr[${lf}]`), (e3) => {
            e3.removeAttribute(lf);
          }), C(a3) && D2(a3, s2) && t2.hasFocus()) {
            I2();
            const t3 = e2.getStart(true);
            if (D2(t3, a3) && D2(e2.getEnd(true), a3)) return n2.setAttrib(a3, lf, i3), void B2.throttle(a3);
          }
          P2();
        }, M2 = () => {
          ge(uf, (e3) => {
            e3.elm && (n2.unbind(e3.elm), delete e3.elm);
          });
        }, I2 = () => {
          try {
            t2.getDoc().execCommand("enableObjectResizing", false, "false");
          } catch (e3) {
          }
        };
        return t2.on("init", () => {
          I2(), t2.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop", L2), t2.on("keyup compositionend", (e3) => {
            a2 && "TABLE" === a2.nodeName && L2(e3);
          }), t2.on("hide blur", P2), t2.on("contextmenu longpress", _2, true);
        }), t2.on("remove", M2), { isResizable: k2, showResizeRect: O2, hideResizeRect: P2, updateResizeRect: L2, destroy: () => {
          B2.cancel(), a2 = i2 = c2 = null;
        } };
      }, ff = (e2, t2, n2) => {
        const o2 = e2.document.createRange();
        var r2;
        return r2 = o2, t2.fold((e3) => {
          r2.setStartBefore(e3.dom);
        }, (e3, t3) => {
          r2.setStart(e3.dom, t3);
        }, (e3) => {
          r2.setStartAfter(e3.dom);
        }), ((e3, t3) => {
          t3.fold((t4) => {
            e3.setEndBefore(t4.dom);
          }, (t4, n3) => {
            e3.setEnd(t4.dom, n3);
          }, (t4) => {
            e3.setEndAfter(t4.dom);
          });
        })(o2, n2), o2;
      }, gf = (e2, t2, n2, o2, r2) => {
        const s2 = e2.document.createRange();
        return s2.setStart(t2.dom, n2), s2.setEnd(o2.dom, r2), s2;
      }, pf = hl([{ ltr: ["start", "soffset", "finish", "foffset"] }, { rtl: ["start", "soffset", "finish", "foffset"] }]), hf = (e2, t2, n2) => t2(yn(n2.startContainer), n2.startOffset, yn(n2.endContainer), n2.endOffset);
      pf.ltr, pf.rtl;
      const bf = (e2, t2, n2, o2) => ({ start: e2, soffset: t2, finish: n2, foffset: o2 }), vf = document.caretPositionFromPoint ? (e2, t2, n2) => {
        var o2, r2;
        return I.from(null === (r2 = (o2 = e2.dom).caretPositionFromPoint) || void 0 === r2 ? void 0 : r2.call(o2, t2, n2)).bind((t3) => {
          if (null === t3.offsetNode) return I.none();
          const n3 = e2.dom.createRange();
          return n3.setStart(t3.offsetNode, t3.offset), n3.collapse(), I.some(n3);
        });
      } : document.caretRangeFromPoint ? (e2, t2, n2) => {
        var o2, r2;
        return I.from(null === (r2 = (o2 = e2.dom).caretRangeFromPoint) || void 0 === r2 ? void 0 : r2.call(o2, t2, n2));
      } : I.none, yf = hl([{ before: ["element"] }, { on: ["element", "offset"] }, { after: ["element"] }]), Cf = { before: yf.before, on: yf.on, after: yf.after, cata: (e2, t2, n2, o2) => e2.fold(t2, n2, o2), getStart: (e2) => e2.fold(R, R, R) }, wf = hl([{ domRange: ["rng"] }, { relative: ["startSitu", "finishSitu"] }, { exact: ["start", "soffset", "finish", "foffset"] }]), xf = { domRange: wf.domRange, relative: wf.relative, exact: wf.exact, exactFromRange: (e2) => wf.exact(e2.start, e2.soffset, e2.finish, e2.foffset), getWin: (e2) => {
        const t2 = ((e3) => e3.match({ domRange: (e4) => yn(e4.startContainer), relative: (e4, t3) => Cf.getStart(e4), exact: (e4, t3, n2, o2) => e4 }))(e2);
        return Rn(t2);
      }, range: bf }, Ef = (e2, t2) => {
        const n2 = Ht(e2);
        return "input" === n2 ? Cf.after(e2) : H(["br", "img"], n2) ? 0 === t2 ? Cf.before(e2) : Cf.after(e2) : Cf.on(e2, t2);
      }, _f = (e2, t2) => {
        const n2 = e2.fold(Cf.before, Ef, Cf.after), o2 = t2.fold(Cf.before, Ef, Cf.after);
        return xf.relative(n2, o2);
      }, Sf = (e2, t2, n2, o2) => {
        const r2 = Ef(e2, t2), s2 = Ef(n2, o2);
        return xf.relative(r2, s2);
      }, kf = (e2, t2) => {
        const n2 = (t2 || document).createDocumentFragment();
        return V(e2, (e3) => {
          n2.appendChild(e3.dom);
        }), yn(n2);
      }, Nf = (e2) => {
        const t2 = xf.getWin(e2).dom, n2 = (e3, n3, o3, r2) => gf(t2, e3, n3, o3, r2), o2 = ((e3) => e3.match({ domRange: (e4) => {
          const t3 = yn(e4.startContainer), n3 = yn(e4.endContainer);
          return Sf(t3, e4.startOffset, n3, e4.endOffset);
        }, relative: _f, exact: Sf }))(e2);
        return ((e3, t3) => {
          const n3 = ((e4, t4) => t4.match({ domRange: (e5) => ({ ltr: N(e5), rtl: I.none }), relative: (t5, n4) => ({ ltr: De(() => ff(e4, t5, n4)), rtl: De(() => I.some(ff(e4, n4, t5))) }), exact: (t5, n4, o3, r2) => ({ ltr: De(() => gf(e4, t5, n4, o3, r2)), rtl: De(() => I.some(gf(e4, o3, r2, t5, n4))) }) }))(e3, t3);
          return ((e4, t4) => {
            const n4 = t4.ltr();
            return n4.collapsed ? t4.rtl().filter((e5) => false === e5.collapsed).map((e5) => pf.rtl(yn(e5.endContainer), e5.endOffset, yn(e5.startContainer), e5.startOffset)).getOrThunk(() => hf(0, pf.ltr, n4)) : hf(0, pf.ltr, n4);
          })(0, n3);
        })(t2, o2).match({ ltr: n2, rtl: n2 });
      }, Rf = (e2, t2, n2) => ((e3, t3, n3) => ((e4, t4, n4) => {
        const o2 = yn(e4.document);
        return vf(o2, t4, n4).map((e5) => bf(yn(e5.startContainer), e5.startOffset, yn(e5.endContainer), e5.endOffset));
      })(e3, t3, n3))(Rn(yn(n2)).dom, e2, t2).map((e3) => {
        const t3 = n2.createRange();
        return t3.setStart(e3.start.dom, e3.soffset), t3.setEnd(e3.finish.dom, e3.foffset), t3;
      }).getOrUndefined(), Af = (e2, t2) => C(e2) && C(t2) && e2.startContainer === t2.startContainer && e2.startOffset === t2.startOffset && e2.endContainer === t2.endContainer && e2.endOffset === t2.endOffset, Tf = (e2, t2, n2) => null !== ((e3, t3, n3) => {
        let o2 = e3;
        for (; o2 && o2 !== t3; ) {
          if (n3(o2)) return o2;
          o2 = o2.parentNode;
        }
        return null;
      })(e2, t2, n2), Of = (e2, t2, n2) => Tf(e2, t2, (e3) => e3.nodeName === n2), Bf = (e2, t2) => Ur(e2) && !Tf(e2, t2, Du), Pf = (e2, t2, n2) => {
        const o2 = t2.parentNode;
        if (o2) {
          const r2 = new jo(t2, e2.getParent(o2, e2.isBlock) || e2.getRoot());
          let s2;
          for (; s2 = r2[n2 ? "prev" : "next"](); ) if (ar(s2)) return true;
        }
        return false;
      }, Df = (e2, t2, n2, o2, r2) => {
        const s2 = e2.getRoot(), a2 = e2.schema.getNonEmptyElements(), i2 = r2.parentNode;
        let l2, d2;
        if (!i2) return I.none();
        const c2 = e2.getParent(i2, e2.isBlock) || s2;
        if (o2 && ar(r2) && t2 && e2.isEmpty(c2)) return I.some(Vi(i2, e2.nodeIndex(r2)));
        const u2 = new jo(r2, c2);
        for (; d2 = u2[o2 ? "prev" : "next"](); ) {
          if ("false" === e2.getContentEditableParent(d2) || Bf(d2, s2)) return I.none();
          if (er(d2) && d2.data.length > 0) return Of(d2, s2, "A") ? I.none() : I.some(Vi(d2, o2 ? d2.data.length : 0));
          if (e2.isBlock(d2) || a2[d2.nodeName.toLowerCase()]) return I.none();
          l2 = d2;
        }
        return or(l2) ? I.none() : n2 && l2 ? I.some(Vi(l2, 0)) : I.none();
      }, Lf = (e2, t2, n2, o2) => {
        const r2 = e2.getRoot();
        let s2, a2 = false, i2 = n2 ? o2.startContainer : o2.endContainer, l2 = n2 ? o2.startOffset : o2.endOffset;
        const d2 = qo(i2) && l2 === i2.childNodes.length, c2 = e2.schema.getNonEmptyElements();
        let u2 = n2;
        if (Ur(i2)) return I.none();
        if (qo(i2) && l2 > i2.childNodes.length - 1 && (u2 = false), rr(i2) && (i2 = r2, l2 = 0), i2 === r2) {
          if (u2 && (s2 = i2.childNodes[l2 > 0 ? l2 - 1 : 0], s2)) {
            if (Ur(s2)) return I.none();
            if (c2[s2.nodeName] || Qo(s2)) return I.none();
          }
          if (i2.hasChildNodes()) {
            if (l2 = Math.min(!u2 && l2 > 0 ? l2 - 1 : l2, i2.childNodes.length - 1), i2 = i2.childNodes[l2], l2 = er(i2) && d2 ? i2.data.length : 0, !t2 && i2 === r2.lastChild && Qo(i2)) return I.none();
            if (((e3, t3) => {
              let n3 = t3;
              for (; n3 && n3 !== e3; ) {
                if (dr(n3)) return true;
                n3 = n3.parentNode;
              }
              return false;
            })(r2, i2) || Ur(i2)) return I.none();
            if (gr(i2)) return I.none();
            if (i2.hasChildNodes() && !Qo(i2)) {
              s2 = i2;
              const t3 = new jo(i2, r2);
              do {
                if (dr(s2) || Ur(s2)) {
                  a2 = false;
                  break;
                }
                if (er(s2) && s2.data.length > 0) {
                  l2 = u2 ? 0 : s2.data.length, i2 = s2, a2 = true;
                  break;
                }
                if (c2[s2.nodeName.toLowerCase()] && !ur(s2)) {
                  l2 = e2.nodeIndex(s2), i2 = s2.parentNode, u2 || l2++, a2 = true;
                  break;
                }
              } while (s2 = u2 ? t3.next() : t3.prev());
            }
          }
        }
        return t2 && (er(i2) && 0 === l2 && Df(e2, d2, t2, true, i2).each((e3) => {
          i2 = e3.container(), l2 = e3.offset(), a2 = true;
        }), qo(i2) && (s2 = i2.childNodes[l2], s2 || (s2 = i2.childNodes[l2 - 1]), !s2 || !ar(s2) || ((e3, t3) => {
          var n3;
          return "A" === (null === (n3 = e3.previousSibling) || void 0 === n3 ? void 0 : n3.nodeName);
        })(s2) || Pf(e2, s2, false) || Pf(e2, s2, true) || Df(e2, d2, t2, true, s2).each((e3) => {
          i2 = e3.container(), l2 = e3.offset(), a2 = true;
        }))), u2 && !t2 && er(i2) && l2 === i2.data.length && Df(e2, d2, t2, false, i2).each((e3) => {
          i2 = e3.container(), l2 = e3.offset(), a2 = true;
        }), a2 && i2 ? I.some(Vi(i2, l2)) : I.none();
      }, Mf = (e2, t2) => {
        const n2 = t2.collapsed, o2 = t2.cloneRange(), r2 = Vi.fromRangeStart(t2);
        return Lf(e2, n2, true, o2).each((e3) => {
          n2 && Vi.isAbove(r2, e3) || o2.setStart(e3.container(), e3.offset());
        }), n2 || Lf(e2, n2, false, o2).each((e3) => {
          o2.setEnd(e3.container(), e3.offset());
        }), n2 && o2.collapse(true), Af(t2, o2) ? I.none() : I.some(o2);
      }, If = (e2, t2) => e2.splitText(t2), Ff = (e2) => {
        let t2 = e2.startContainer, n2 = e2.startOffset, o2 = e2.endContainer, r2 = e2.endOffset;
        if (t2 === o2 && er(t2)) {
          if (n2 > 0 && n2 < t2.data.length) if (o2 = If(t2, n2), t2 = o2.previousSibling, r2 > n2) {
            r2 -= n2;
            const e3 = If(o2, r2).previousSibling;
            t2 = o2 = e3, r2 = e3.data.length, n2 = 0;
          } else r2 = 0;
        } else if (er(t2) && n2 > 0 && n2 < t2.data.length && (t2 = If(t2, n2), n2 = 0), er(o2) && r2 > 0 && r2 < o2.data.length) {
          const e3 = If(o2, r2).previousSibling;
          o2 = e3, r2 = e3.data.length;
        }
        return { startContainer: t2, startOffset: n2, endContainer: o2, endOffset: r2 };
      }, Uf = (e2) => ({ walk: (t2, n2) => Wm(e2, t2, n2), split: Ff, expand: (t2, n2 = { type: "word" }) => {
        if ("word" === n2.type) {
          const n3 = Vm(e2, t2, [{ inline: "span" }]), o2 = e2.createRng();
          return o2.setStart(n3.startContainer, n3.startOffset), o2.setEnd(n3.endContainer, n3.endOffset), o2;
        }
        return t2;
      }, normalize: (t2) => Mf(e2, t2).fold(L, (e3) => (t2.setStart(e3.startContainer, e3.startOffset), t2.setEnd(e3.endContainer, e3.endOffset), true)) });
      Uf.compareRanges = Af, Uf.getCaretRangeFromPoint = Rf, Uf.getSelectedNode = _i, Uf.getNode = Si;
      const zf = /* @__PURE__ */ ((e2, t2) => {
        const n2 = (t3) => {
          const n3 = ((e3) => {
            const t4 = e3.dom;
            return Gn(e3) ? t4.getBoundingClientRect().height : t4.offsetHeight;
          })(t3);
          if (n3 <= 0 || null === n3) {
            const n4 = co(t3, e2);
            return parseFloat(n4) || 0;
          }
          return n3;
        }, o2 = (e3, t3) => X(t3, (t4, n3) => {
          const o3 = co(e3, n3), r2 = void 0 === o3 ? 0 : parseInt(o3, 10);
          return isNaN(r2) ? t4 : t4 + r2;
        }, 0);
        return { set: (t3, n3) => {
          if (!x(n3) && !n3.match(/^[0-9]+$/)) throw new Error(e2 + ".set accepts only positive integer values. Value was " + n3);
          const o3 = t3.dom;
          so(o3) && (o3.style[e2] = n3 + "px");
        }, get: n2, getOuter: n2, aggregate: o2, max: (e3, t3, n3) => {
          const r2 = o2(e3, n3);
          return t3 > r2 ? t3 - r2 : 0;
        } };
      })("height"), jf = () => yn(document), Hf = (e2, t2) => e2.view(t2).fold(N([]), (t3) => {
        const n2 = e2.owner(t3), o2 = Hf(e2, n2);
        return [t3].concat(o2);
      });
      var $f = Object.freeze({ __proto__: null, view: (e2) => {
        var t2;
        return (e2.dom === document ? I.none() : I.from(null === (t2 = e2.dom.defaultView) || void 0 === t2 ? void 0 : t2.frameElement)).map(yn);
      }, owner: (e2) => Nn(e2) });
      const qf = (e2) => "textarea" === Ht(e2), Vf = (e2, t2) => {
        const n2 = ((e3) => {
          const t3 = e3.dom.ownerDocument, n3 = t3.body, o3 = t3.defaultView, r2 = t3.documentElement;
          if (n3 === e3.dom) return To(n3.offsetLeft, n3.offsetTop);
          const s2 = Oo(null == o3 ? void 0 : o3.pageYOffset, r2.scrollTop), a2 = Oo(null == o3 ? void 0 : o3.pageXOffset, r2.scrollLeft), i2 = Oo(r2.clientTop, n3.clientTop), l2 = Oo(r2.clientLeft, n3.clientLeft);
          return Bo(e3).translate(a2 - l2, s2 - i2);
        })(e2), o2 = ((e3) => zf.get(e3))(e2);
        return { element: e2, bottom: n2.top + o2, height: o2, pos: n2, cleanup: t2 };
      }, Wf = (e2, t2, n2, o2) => {
        Xf(e2, (r2, s2) => Yf(e2, t2, n2, o2), n2);
      }, Kf = (e2, t2, n2, o2, r2) => {
        const s2 = { elm: o2.element.dom, alignToTop: r2 };
        ((e3, t3) => e3.dispatch("ScrollIntoView", t3).isDefaultPrevented())(e2, s2) || (n2(e2, t2, Po(t2).top, o2, r2), ((e3, t3) => {
          e3.dispatch("AfterScrollIntoView", t3);
        })(e2, s2));
      }, Yf = (e2, t2, n2, o2) => {
        const r2 = yn(e2.getBody()), s2 = yn(e2.getDoc());
        r2.dom.offsetWidth;
        const a2 = ((e3, t3) => {
          const n3 = ((e4, t4) => {
            const n4 = Mn(e4);
            if (0 === n4.length || qf(e4)) return { element: e4, offset: t4 };
            if (t4 < n4.length && !qf(n4[t4])) return { element: n4[t4], offset: 0 };
            {
              const o4 = n4[n4.length - 1];
              return qf(o4) ? { element: e4, offset: t4 } : "img" === Ht(o4) ? { element: o4, offset: 1 } : Kt(o4) ? { element: o4, offset: Cr(o4).length } : { element: o4, offset: Mn(o4).length };
            }
          })(e3, t3), o3 = hn('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');
          return po(n3.element, o3), Vf(o3, () => xo(o3));
        })(yn(n2.startContainer), n2.startOffset);
        Kf(e2, s2, t2, a2, o2), a2.cleanup();
      }, Gf = (e2, t2, n2, o2) => {
        const r2 = yn(e2.getDoc());
        Kf(e2, r2, n2, ((e3) => Vf(yn(e3), _))(t2), o2);
      }, Xf = (e2, t2, n2) => {
        const o2 = n2.startContainer, r2 = n2.startOffset, s2 = n2.endContainer, a2 = n2.endOffset;
        t2(yn(o2), yn(s2));
        const i2 = e2.dom.createRng();
        i2.setStart(o2, r2), i2.setEnd(s2, a2), e2.selection.setRng(n2);
      }, Qf = (e2, t2, n2, o2, r2) => {
        const s2 = t2.pos;
        if (o2) Do(s2.left, s2.top, r2);
        else {
          const o3 = s2.top - n2 + t2.height;
          Do(-e2.getBody().getBoundingClientRect().left, o3, r2);
        }
      }, Jf = (e2, t2, n2, o2, r2, s2) => {
        const a2 = o2 + n2, i2 = r2.pos.top, l2 = r2.bottom, d2 = l2 - i2 >= o2;
        i2 < n2 ? Qf(e2, r2, o2, false !== s2, t2) : i2 > a2 ? Qf(e2, r2, o2, d2 ? false !== s2 : true === s2, t2) : l2 > a2 && !d2 && Qf(e2, r2, o2, true === s2, t2);
      }, Zf = (e2, t2, n2, o2, r2) => {
        const s2 = Rn(t2).dom.innerHeight;
        Jf(e2, t2, n2, s2, o2, r2);
      }, eg = (e2, t2, n2, o2, r2) => {
        const s2 = Rn(t2).dom.innerHeight;
        Jf(e2, t2, n2, s2, o2, r2);
        const a2 = ((e3) => {
          const t3 = jf(), n3 = Po(t3), o3 = ((e4, t4) => {
            const n4 = t4.owner(e4);
            return Hf(t4, n4);
          })(e3, $f), r3 = Bo(e3), s3 = G(o3, (e4, t4) => {
            const n4 = Bo(t4);
            return { left: e4.left + n4.left, top: e4.top + n4.top };
          }, { left: 0, top: 0 });
          return To(s3.left + r3.left + n3.left, s3.top + r3.top + n3.top);
        })(o2.element), i2 = Io(window);
        a2.top < i2.y ? Lo(o2.element, false !== r2) : a2.top > i2.bottom && Lo(o2.element, true === r2);
      }, tg = (e2, t2, n2) => Wf(e2, Zf, t2, n2), ng = (e2, t2, n2) => Gf(e2, t2, Zf, n2), og = (e2, t2, n2) => Wf(e2, eg, t2, n2), rg = (e2, t2, n2) => Gf(e2, t2, eg, n2), sg = (e2, t2, n2) => {
        (e2.inline ? tg : og)(e2, t2, n2);
      }, ag = (e2, t2 = false) => e2.dom.focus({ preventScroll: t2 }), ig = (e2) => {
        const t2 = qn(e2).dom;
        return e2.dom === t2.activeElement;
      }, lg = (e2 = jf()) => I.from(e2.dom.activeElement).map(yn), dg = (e2, t2) => {
        const n2 = Kt(t2) ? Cr(t2).length : Mn(t2).length + 1;
        return e2 > n2 ? n2 : e2 < 0 ? 0 : e2;
      }, cg = (e2) => xf.range(e2.start, dg(e2.soffset, e2.start), e2.finish, dg(e2.foffset, e2.finish)), ug = (e2, t2) => !$o(t2.dom) && (Sn(e2, t2) || _n(e2, t2)), mg = (e2) => (t2) => ug(e2, t2.start) && ug(e2, t2.finish), fg = (e2) => xf.range(yn(e2.startContainer), e2.startOffset, yn(e2.endContainer), e2.endOffset), gg = (e2) => {
        const t2 = document.createRange();
        try {
          return t2.setStart(e2.start.dom, e2.soffset), t2.setEnd(e2.finish.dom, e2.foffset), I.some(t2);
        } catch (e3) {
          return I.none();
        }
      }, pg = (e2) => {
        const t2 = ((e3) => e3.inline || At.browser.isFirefox())(e2) ? (n2 = yn(e2.getBody()), ((e3) => {
          const t3 = e3.getSelection();
          return (t3 && 0 !== t3.rangeCount ? I.from(t3.getRangeAt(0)) : I.none()).map(fg);
        })(Rn(n2).dom).filter(mg(n2))) : I.none();
        var n2;
        e2.bookmark = t2.isSome() ? t2 : e2.bookmark;
      }, hg = (e2) => (e2.bookmark ? e2.bookmark : I.none()).bind((t2) => {
        return n2 = yn(e2.getBody()), o2 = t2, I.from(o2).filter(mg(n2)).map(cg);
        var n2, o2;
      }).bind(gg), bg = { isEditorUIElement: (e2) => {
        const t2 = e2.className.toString();
        return -1 !== t2.indexOf("tox-") || -1 !== t2.indexOf("mce-");
      } }, vg = { setEditorTimeout: (e2, t2, n2) => ((e3, t3) => (x(t3) || (t3 = 0), setTimeout(e3, t3)))(() => {
        e2.removed || t2();
      }, n2), setEditorInterval: (e2, t2, n2) => {
        const o2 = ((e3, t3) => (x(t3) || (t3 = 0), setInterval(e3, t3)))(() => {
          e2.removed ? clearInterval(o2) : t2();
        }, n2);
        return o2;
      } };
      let yg;
      const Cg = za.DOM, wg = (e2) => {
        const t2 = e2.classList;
        return void 0 !== t2 && (t2.contains("tox-edit-area") || t2.contains("tox-edit-area__iframe") || t2.contains("mce-content-body"));
      }, xg = (e2, t2) => {
        const n2 = _d(e2), o2 = Cg.getParent(t2, (t3) => ((e3) => qo(e3) && bg.isEditorUIElement(e3))(t3) || !!n2 && e2.dom.is(t3, n2));
        return null !== o2;
      }, Eg = (e2) => {
        try {
          const t2 = qn(yn(e2.getElement()));
          return lg(t2).fold(() => document.body, (e3) => e3.dom);
        } catch (e3) {
          return document.body;
        }
      }, _g = (e2, t2) => {
        const n2 = t2.editor;
        ((e3) => {
          const t3 = Qa(() => {
            pg(e3);
          }, 0);
          e3.on("init", () => {
            e3.inline && ((e4, t4) => {
              const n3 = () => {
                t4.throttle();
              };
              za.DOM.bind(document, "mouseup", n3), e4.on("remove", () => {
                za.DOM.unbind(document, "mouseup", n3);
              });
            })(e3, t3), ((e4, t4) => {
              ((e5, t5) => {
                e5.on("mouseup touchend", (e6) => {
                  t5.throttle();
                });
              })(e4, t4), e4.on("keyup NodeChange AfterSetSelectionRange", (t5) => {
                ((e5) => "nodechange" === e5.type && e5.selectionChange)(t5) || pg(e4);
              });
            })(e3, t3);
          }), e3.on("remove", () => {
            t3.cancel();
          });
        })(n2);
        const o2 = (e3, t3) => {
          mc(e3) && true !== e3.inline && t3(yn(e3.getContainer()), "tox-edit-focus");
        };
        n2.on("focusin", () => {
          const t3 = e2.focusedEditor;
          wg(Eg(n2)) && o2(n2, un), t3 !== n2 && (t3 && t3.dispatch("blur", { focusedEditor: n2 }), e2.setActive(n2), e2.focusedEditor = n2, n2.dispatch("focus", { blurredEditor: t3 }), n2.focus(true));
        }), n2.on("focusout", () => {
          vg.setEditorTimeout(n2, () => {
            const t3 = e2.focusedEditor;
            wg(Eg(n2)) && t3 === n2 || o2(n2, fn), xg(n2, Eg(n2)) || t3 !== n2 || (n2.dispatch("blur", { focusedEditor: null }), e2.focusedEditor = null);
          });
        }), yg || (yg = (t3) => {
          const n3 = e2.activeEditor;
          n3 && Kn(t3).each((t4) => {
            const o3 = t4;
            o3.ownerDocument === document && (o3 === document.body || xg(n3, o3) || e2.focusedEditor !== n3 || (n3.dispatch("blur", { focusedEditor: null }), e2.focusedEditor = null));
          });
        }, Cg.bind(document, "focusin", yg));
      }, Sg = (e2, t2) => {
        e2.focusedEditor === t2.editor && (e2.focusedEditor = null), !e2.activeEditor && yg && (Cg.unbind(document, "focusin", yg), yg = null);
      }, kg = (e2, t2) => {
        ((e3, t3) => ((e4) => e4.collapsed ? I.from(Si(e4.startContainer, e4.startOffset)).map(yn) : I.none())(t3).bind((t4) => Nr(t4) ? I.some(t4) : Sn(e3, t4) ? I.none() : I.some(e3)))(yn(e2.getBody()), t2).bind((e3) => Ou(e3.dom)).fold(() => {
          e2.selection.normalize();
        }, (t3) => e2.selection.setRng(t3.toRange()));
      }, Ng = (e2) => {
        if (e2.setActive) try {
          e2.setActive();
        } catch (t2) {
          e2.focus();
        }
        else e2.focus();
      }, Rg = (e2) => e2.inline ? ((e3) => {
        const t2 = e3.getBody();
        return t2 && (n2 = yn(t2), ig(n2) || (o2 = n2, lg(qn(o2)).filter((e4) => o2.dom.contains(e4.dom))).isSome());
        var n2, o2;
      })(e2) : ((e3) => C(e3.iframeElement) && ig(yn(e3.iframeElement)))(e2), Ag = (e2) => Rg(e2) || ((e3) => {
        const t2 = qn(yn(e3.getElement()));
        return lg(t2).filter((t3) => !wg(t3.dom) && xg(e3, t3.dom)).isSome();
      })(e2), Tg = (e2) => e2.editorManager.setActive(e2), Og = (e2, t2) => t2.collapsed ? e2.isEditable(t2.startContainer) : e2.isEditable(t2.startContainer) && e2.isEditable(t2.endContainer), Bg = (e2, t2, n2, o2, r2) => {
        const s2 = n2 ? t2.startContainer : t2.endContainer, a2 = n2 ? t2.startOffset : t2.endOffset;
        return I.from(s2).map(yn).map((e3) => o2 && t2.collapsed ? e3 : In(e3, r2(e3, a2)).getOr(e3)).bind((e3) => Wt(e3) ? I.some(e3) : An(e3).filter(Wt)).map((e3) => e3.dom).getOr(e2);
      }, Pg = (e2, t2, n2 = false) => Bg(e2, t2, true, n2, (e3, t3) => Math.min(zn(e3), t3)), Dg = (e2, t2, n2 = false) => Bg(e2, t2, false, n2, (e3, t3) => t3 > 0 ? t3 - 1 : t3), Lg = (e2, t2) => {
        const n2 = e2;
        for (; e2 && er(e2) && 0 === e2.length; ) e2 = t2 ? e2.nextSibling : e2.previousSibling;
        return e2 || n2;
      }, Mg = (e2, t2) => q(t2, (t3) => {
        const n2 = e2.dispatch("GetSelectionRange", { range: t3 });
        return n2.range !== t3 ? n2.range : t3;
      }), Ig = ["img", "br"], Fg = (e2) => {
        const t2 = wr(e2).filter((e3) => 0 !== e3.trim().length || e3.indexOf(br) > -1).isSome();
        return t2 || H(Ig, Ht(e2)) || ((e3) => Vt(e3) && "false" === en(e3, "contenteditable"))(e2);
      }, Ug = "[data-mce-autocompleter]", zg = (e2, t2) => {
        if (jg(yn(e2.getBody())).isNone()) {
          const o2 = hn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>', e2.getDoc());
          vo(o2, yn(t2.extractContents())), t2.insertNode(o2.dom), An(o2).each((e3) => e3.dom.normalize()), (n2 = o2, ((e3, t3) => {
            const n3 = (e4) => {
              const o3 = Mn(e4);
              for (let e5 = o3.length - 1; e5 >= 0; e5--) {
                const r2 = o3[e5];
                if (t3(r2)) return I.some(r2);
                const s2 = n3(r2);
                if (s2.isSome()) return s2;
              }
              return I.none();
            };
            return n3(e3);
          })(n2, Fg)).map((t3) => {
            e2.selection.setCursorLocation(t3.dom, ((e3) => "img" === Ht(e3) ? 1 : wr(e3).fold(() => Mn(e3).length, (e4) => e4.length))(t3));
          });
        }
        var n2;
      }, jg = (e2) => to(e2, Ug), Hg = { "#text": 3, "#comment": 8, "#cdata": 4, "#pi": 7, "#doctype": 10, "#document-fragment": 11 }, $g = (e2, t2, n2) => {
        const o2 = n2 ? "lastChild" : "firstChild", r2 = n2 ? "prev" : "next";
        if (e2[o2]) return e2[o2];
        if (e2 !== t2) {
          let n3 = e2[r2];
          if (n3) return n3;
          for (let o3 = e2.parent; o3 && o3 !== t2; o3 = o3.parent) if (n3 = o3[r2], n3) return n3;
        }
      }, qg = (e2) => {
        var t2;
        const n2 = null !== (t2 = e2.value) && void 0 !== t2 ? t2 : "";
        if (!ss(n2)) return false;
        const o2 = e2.parent;
        return !o2 || "span" === o2.name && !o2.attr("style") || !/^[ ]+$/.test(n2);
      }, Vg = (e2) => {
        const t2 = "a" === e2.name && !e2.attr("href") && e2.attr("id");
        return e2.attr("name") || e2.attr("id") && !e2.firstChild || e2.attr("data-mce-bookmark") || t2;
      };
      class Wg {
        static create(e2, t2) {
          const n2 = new Wg(e2, Hg[e2] || 1);
          return t2 && ge(t2, (e3, t3) => {
            n2.attr(t3, e3);
          }), n2;
        }
        constructor(e2, t2) {
          this.name = e2, this.type = t2, 1 === t2 && (this.attributes = [], this.attributes.map = {});
        }
        replace(e2) {
          const t2 = this;
          return e2.parent && e2.remove(), t2.insert(e2, t2), t2.remove(), t2;
        }
        attr(e2, t2) {
          const n2 = this;
          if (!m(e2)) return C(e2) && ge(e2, (e3, t3) => {
            n2.attr(t3, e3);
          }), n2;
          const o2 = n2.attributes;
          if (o2) {
            if (void 0 !== t2) {
              if (null === t2) {
                if (e2 in o2.map) {
                  delete o2.map[e2];
                  let t3 = o2.length;
                  for (; t3--; ) if (o2[t3].name === e2) return o2.splice(t3, 1), n2;
                }
                return n2;
              }
              if (e2 in o2.map) {
                let n3 = o2.length;
                for (; n3--; ) if (o2[n3].name === e2) {
                  o2[n3].value = t2;
                  break;
                }
              } else o2.push({ name: e2, value: t2 });
              return o2.map[e2] = t2, n2;
            }
            return o2.map[e2];
          }
        }
        clone() {
          const e2 = this, t2 = new Wg(e2.name, e2.type), n2 = e2.attributes;
          if (n2) {
            const e3 = [];
            e3.map = {};
            for (let t3 = 0, o2 = n2.length; t3 < o2; t3++) {
              const o3 = n2[t3];
              "id" !== o3.name && (e3[e3.length] = { name: o3.name, value: o3.value }, e3.map[o3.name] = o3.value);
            }
            t2.attributes = e3;
          }
          return t2.value = e2.value, t2;
        }
        wrap(e2) {
          const t2 = this;
          return t2.parent && (t2.parent.insert(e2, t2), e2.append(t2)), t2;
        }
        unwrap() {
          const e2 = this;
          for (let t2 = e2.firstChild; t2; ) {
            const n2 = t2.next;
            e2.insert(t2, e2, true), t2 = n2;
          }
          e2.remove();
        }
        remove() {
          const e2 = this, t2 = e2.parent, n2 = e2.next, o2 = e2.prev;
          return t2 && (t2.firstChild === e2 ? (t2.firstChild = n2, n2 && (n2.prev = null)) : o2 && (o2.next = n2), t2.lastChild === e2 ? (t2.lastChild = o2, o2 && (o2.next = null)) : n2 && (n2.prev = o2), e2.parent = e2.next = e2.prev = null), e2;
        }
        append(e2) {
          const t2 = this;
          e2.parent && e2.remove();
          const n2 = t2.lastChild;
          return n2 ? (n2.next = e2, e2.prev = n2, t2.lastChild = e2) : t2.lastChild = t2.firstChild = e2, e2.parent = t2, e2;
        }
        insert(e2, t2, n2) {
          e2.parent && e2.remove();
          const o2 = t2.parent || this;
          return n2 ? (t2 === o2.firstChild ? o2.firstChild = e2 : t2.prev && (t2.prev.next = e2), e2.prev = t2.prev, e2.next = t2, t2.prev = e2) : (t2 === o2.lastChild ? o2.lastChild = e2 : t2.next && (t2.next.prev = e2), e2.next = t2.next, e2.prev = t2, t2.next = e2), e2.parent = o2, e2;
        }
        getAll(e2) {
          const t2 = this, n2 = [];
          for (let o2 = t2.firstChild; o2; o2 = $g(o2, t2)) o2.name === e2 && n2.push(o2);
          return n2;
        }
        children() {
          const e2 = [];
          for (let t2 = this.firstChild; t2; t2 = t2.next) e2.push(t2);
          return e2;
        }
        empty() {
          const e2 = this;
          if (e2.firstChild) {
            const t2 = [];
            for (let n3 = e2.firstChild; n3; n3 = $g(n3, e2)) t2.push(n3);
            let n2 = t2.length;
            for (; n2--; ) {
              const e3 = t2[n2];
              e3.parent = e3.firstChild = e3.lastChild = e3.next = e3.prev = null;
            }
          }
          return e2.firstChild = e2.lastChild = null, e2;
        }
        isEmpty(e2, t2 = {}, n2) {
          var o2;
          const r2 = this;
          let s2 = r2.firstChild;
          if (Vg(r2)) return false;
          if (s2) do {
            if (1 === s2.type) {
              if (s2.attr("data-mce-bogus")) continue;
              if (e2[s2.name]) return false;
              if (Vg(s2)) return false;
            }
            if (8 === s2.type) return false;
            if (3 === s2.type && !qg(s2)) return false;
            if (3 === s2.type && s2.parent && t2[s2.parent.name] && ss(null !== (o2 = s2.value) && void 0 !== o2 ? o2 : "")) return false;
            if (n2 && n2(s2)) return false;
          } while (s2 = $g(s2, r2));
          return true;
        }
        walk(e2) {
          return $g(this, null, e2);
        }
      }
      const Kg = Pt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT", " "), Yg = (e2) => m(e2.nodeValue) && e2.nodeValue.includes(Br), Gg = (e2) => (0 === e2.length ? "" : `${q(e2, (e3) => `[${e3}]`).join(",")},`) + '[data-mce-bogus="all"]', Xg = (e2) => document.createTreeWalker(e2, NodeFilter.SHOW_COMMENT, (e3) => Yg(e3) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP), Qg = (e2) => document.createTreeWalker(e2, NodeFilter.SHOW_TEXT, (e3) => {
        if (Yg(e3)) {
          const t2 = e3.parentNode;
          return t2 && Ee(Kg, t2.nodeName) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;
        }
        return NodeFilter.FILTER_SKIP;
      }), Jg = (e2) => null !== Xg(e2).nextNode(), Zg = (e2) => null !== Qg(e2).nextNode(), ep = (e2, t2) => null !== t2.querySelector(Gg(e2)), tp = (e2, t2) => {
        V(((e3, t3) => t3.querySelectorAll(Gg(e3)))(e2, t2), (t3) => {
          const n2 = yn(t3);
          "all" === en(n2, "data-mce-bogus") ? xo(n2) : V(e2, (e3) => {
            nn(n2, e3) && on(n2, e3);
          });
        });
      }, np = (e2) => {
        let t2 = e2.nextNode();
        for (; null !== t2; ) t2.nodeValue = null, t2 = e2.nextNode();
      }, op = S(np, Xg), rp = S(np, Qg), sp = (e2, t2) => {
        const n2 = [{ condition: T(ep, t2), action: T(tp, t2) }, { condition: Jg, action: op }, { condition: Zg, action: rp }];
        let o2 = e2, r2 = false;
        return V(n2, ({ condition: t3, action: n3 }) => {
          t3(o2) && (r2 || (o2 = e2.cloneNode(true), r2 = true), n3(o2));
        }), o2;
      }, ap = (e2) => {
        const t2 = Uo(e2, "[data-mce-bogus]");
        V(t2, (e3) => {
          "all" === en(e3, "data-mce-bogus") ? xo(e3) : Er(e3) ? (po(e3, vn(hr)), xo(e3)) : Eo(e3);
        });
      }, ip = (e2) => {
        const t2 = Uo(e2, "input");
        V(t2, (e3) => {
          on(e3, "name");
        });
      }, lp = (e2, t2, n2) => {
        let o2;
        return o2 = "raw" === t2.format ? Pt.trim(Dr(sp(n2, e2.serializer.getTempAttrs()).innerHTML)) : "text" === t2.format ? ((e3, t3) => {
          const n3 = e3.getDoc(), o3 = qn(yn(e3.getBody())), r2 = bn("div", n3);
          Jt(r2, "data-mce-bogus", "all"), lo(r2, { position: "fixed", left: "-9999999px", top: "0" }), ko(r2, t3.innerHTML), ap(r2), ip(r2);
          const s2 = ((e4) => jn(e4) ? e4 : yn(Nn(e4).dom.body))(o3);
          vo(s2, r2);
          const a2 = Dr(r2.dom.innerText);
          return xo(r2), a2;
        })(e2, n2) : "tree" === t2.format ? e2.serializer.serialize(n2, t2) : ((e3, t3) => {
          const n3 = Il(e3), o3 = new RegExp(`^(<${n3}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n3}>[\r
]*|<br \\/>[\r
]*)$`);
          return t3.replace(o3, "");
        })(e2, e2.serializer.serialize(n2, t2)), "text" !== t2.format && !Ar(yn(n2)) && m(o2) ? Pt.trim(o2) : o2;
      }, dp = Pt.makeMap, cp = (e2) => {
        const t2 = [], n2 = (e2 = e2 || {}).indent, o2 = dp(e2.indent_before || ""), r2 = dp(e2.indent_after || ""), s2 = ea.getEncodeFunc(e2.entity_encoding || "raw", e2.entities), a2 = "xhtml" !== e2.element_format;
        return { start: (e3, i2, l2) => {
          if (n2 && o2[e3] && t2.length > 0) {
            const e4 = t2[t2.length - 1];
            e4.length > 0 && "\n" !== e4 && t2.push("\n");
          }
          if (t2.push("<", e3), i2) for (let e4 = 0, n3 = i2.length; e4 < n3; e4++) {
            const n4 = i2[e4];
            t2.push(" ", n4.name, '="', s2(n4.value, true), '"');
          }
          if (t2[t2.length] = !l2 || a2 ? ">" : " />", l2 && n2 && r2[e3] && t2.length > 0) {
            const e4 = t2[t2.length - 1];
            e4.length > 0 && "\n" !== e4 && t2.push("\n");
          }
        }, end: (e3) => {
          let o3;
          t2.push("</", e3, ">"), n2 && r2[e3] && t2.length > 0 && (o3 = t2[t2.length - 1], o3.length > 0 && "\n" !== o3 && t2.push("\n"));
        }, text: (e3, n3) => {
          e3.length > 0 && (t2[t2.length] = n3 ? e3 : s2(e3));
        }, cdata: (e3) => {
          t2.push("<![CDATA[", e3, "]]>");
        }, comment: (e3) => {
          t2.push("<!--", e3, "-->");
        }, pi: (e3, o3) => {
          o3 ? t2.push("<?", e3, " ", s2(o3), "?>") : t2.push("<?", e3, "?>"), n2 && t2.push("\n");
        }, doctype: (e3) => {
          t2.push("<!DOCTYPE", e3, ">", n2 ? "\n" : "");
        }, reset: () => {
          t2.length = 0;
        }, getContent: () => t2.join("").replace(/\n$/, "") };
      }, up = (e2 = {}, t2 = ua()) => {
        const n2 = cp(e2);
        return e2.validate = !("validate" in e2) || e2.validate, { serialize: (o2) => {
          const r2 = e2.validate, s2 = { 3: (e3) => {
            var t3;
            n2.text(null !== (t3 = e3.value) && void 0 !== t3 ? t3 : "", e3.raw);
          }, 8: (e3) => {
            var t3;
            n2.comment(null !== (t3 = e3.value) && void 0 !== t3 ? t3 : "");
          }, 7: (e3) => {
            n2.pi(e3.name, e3.value);
          }, 10: (e3) => {
            var t3;
            n2.doctype(null !== (t3 = e3.value) && void 0 !== t3 ? t3 : "");
          }, 4: (e3) => {
            var t3;
            n2.cdata(null !== (t3 = e3.value) && void 0 !== t3 ? t3 : "");
          }, 11: (e3) => {
            let t3 = e3;
            if (t3 = t3.firstChild) do {
              a2(t3);
            } while (t3 = t3.next);
          } };
          n2.reset();
          const a2 = (e3) => {
            var o3;
            const i2 = s2[e3.type];
            if (i2) i2(e3);
            else {
              const s3 = e3.name, i3 = s3 in t2.getVoidElements();
              let l2 = e3.attributes;
              if (r2 && l2 && l2.length > 1) {
                const n3 = [];
                n3.map = {};
                const o4 = t2.getElementRule(e3.name);
                if (o4) {
                  for (let e4 = 0, t3 = o4.attributesOrder.length; e4 < t3; e4++) {
                    const t4 = o4.attributesOrder[e4];
                    if (t4 in l2.map) {
                      const e5 = l2.map[t4];
                      n3.map[t4] = e5, n3.push({ name: t4, value: e5 });
                    }
                  }
                  for (let e4 = 0, t3 = l2.length; e4 < t3; e4++) {
                    const t4 = l2[e4].name;
                    if (!(t4 in n3.map)) {
                      const e5 = l2.map[t4];
                      n3.map[t4] = e5, n3.push({ name: t4, value: e5 });
                    }
                  }
                  l2 = n3;
                }
              }
              if (n2.start(s3, l2, i3), ps(s3)) m(e3.value) && n2.text(e3.value, true), n2.end(s3);
              else if (!i3) {
                let t3 = e3.firstChild;
                if (t3) {
                  "pre" !== s3 && "textarea" !== s3 || 3 !== t3.type || "\n" !== (null === (o3 = t3.value) || void 0 === o3 ? void 0 : o3[0]) || n2.text("\n", true);
                  do {
                    a2(t3);
                  } while (t3 = t3.next);
                }
                n2.end(s3);
              }
            }
          };
          return 1 !== o2.type || e2.inner ? 3 === o2.type ? s2[3](o2) : s2[11](o2) : a2(o2), n2.getContent();
        } };
      }, mp = /* @__PURE__ */ new Set();
      V(["margin", "margin-left", "margin-right", "margin-top", "margin-bottom", "padding", "padding-left", "padding-right", "padding-top", "padding-bottom", "border", "border-width", "border-style", "border-color", "background", "background-attachment", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-repeat", "background-size", "float", "position", "left", "right", "top", "bottom", "z-index", "display", "transform", "width", "max-width", "min-width", "height", "max-height", "min-height", "overflow", "overflow-x", "overflow-y", "text-overflow", "vertical-align", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function"], (e2) => {
        mp.add(e2);
      });
      const fp = ["font", "text-decoration", "text-emphasis"], gp = (e2, t2) => me(e2.parseStyle(e2.getAttrib(t2, "style"))), pp = (e2, t2, n2) => {
        const o2 = gp(e2, t2), r2 = gp(e2, n2), s2 = (o3) => {
          var r3, s3;
          const a2 = null !== (r3 = e2.getStyle(t2, o3)) && void 0 !== r3 ? r3 : "", i2 = null !== (s3 = e2.getStyle(n2, o3)) && void 0 !== s3 ? s3 : "";
          return Ye(a2) && Ye(i2) && a2 !== i2;
        };
        return $(o2, (e3) => {
          const t3 = (t4) => $(t4, (t5) => t5 === e3);
          if (!t3(r2) && t3(fp)) {
            const e4 = Y(r2, (e5) => $(fp, (t4) => He(e5, t4)));
            return $(e4, s2);
          }
          return s2(e3);
        });
      }, hp = (e2, t2, n2) => I.from(n2.container()).filter(er).exists((o2) => {
        const r2 = e2 ? 0 : -1;
        return t2(o2.data.charAt(n2.offset() + r2));
      }), bp = T(hp, true, Xu), vp = T(hp, false, Xu), yp = (e2) => {
        const t2 = e2.container();
        return er(t2) && (0 === t2.data.length || Pr(t2.data) && Jm.isBookmarkNode(t2.parentNode));
      }, Cp = (e2, t2) => (n2) => Jc(e2 ? 0 : -1, n2).filter(t2).isSome(), wp = (e2) => ir(e2) && "block" === co(yn(e2), "display"), xp = (e2) => dr(e2) && !((e3) => qo(e3) && "all" === e3.getAttribute("data-mce-bogus"))(e2), Ep = Cp(true, wp), _p = Cp(false, wp), Sp = Cp(true, mr), kp = Cp(false, mr), Np = Cp(true, Qo), Rp = Cp(false, Qo), Ap = Cp(true, xp), Tp = Cp(false, xp), Op = (e2, t2) => ((e3, t3, n2) => Sn(t3, e3) ? On(e3, (e4) => n2(e4) || _n(e4, t3)).slice(0, -1) : [])(e2, t2, L), Bp = (e2, t2) => [e2].concat(Op(e2, t2)), Pp = (e2, t2, n2) => Nu(e2, t2, n2, yp), Dp = (e2, t2, n2) => J(Bp(yn(t2.container()), e2), /* @__PURE__ */ ((e3) => (t3) => e3.isBlock(Ht(t3)))(n2)), Lp = (e2, t2, n2, o2) => Pp(e2, t2.dom, n2).forall((e3) => Dp(t2, n2, o2).fold(() => !Qc(e3, n2, t2.dom), (o3) => !Qc(e3, n2, t2.dom) && Sn(o3, yn(e3.container())))), Mp = (e2, t2, n2, o2) => Dp(t2, n2, o2).fold(() => Pp(e2, t2.dom, n2).forall((e3) => !Qc(e3, n2, t2.dom)), (t3) => Pp(e2, t3.dom, n2).isNone()), Ip = T(Mp, false), Fp = T(Mp, true), Up = T(Lp, false), zp = T(Lp, true), jp = (e2) => iu(e2).exists(Er), Hp = (e2, t2, n2, o2) => {
        const r2 = Y(Bp(yn(n2.container()), t2), (e3) => o2.isBlock(Ht(e3))), s2 = le(r2).getOr(t2);
        return Su(e2, s2.dom, n2).filter(jp);
      }, $p = (e2, t2, n2) => iu(t2).exists(Er) || Hp(true, e2, t2, n2).isSome(), qp = (e2, t2, n2) => ((e3) => I.from(e3.getNode(true)).map(yn))(t2).exists(Er) || Hp(false, e2, t2, n2).isSome(), Vp = T(Hp, false), Wp = T(Hp, true), Kp = (e2) => Vi.isTextPosition(e2) && !e2.isAtStart() && !e2.isAtEnd(), Yp = (e2, t2, n2) => {
        const o2 = Y(Bp(yn(t2.container()), e2), (e3) => n2.isBlock(Ht(e3)));
        return le(o2).getOr(e2);
      }, Gp = (e2, t2, n2) => Kp(t2) ? vp(t2) : vp(t2) || Tu(Yp(e2, t2, n2).dom, t2).exists(vp), Xp = (e2, t2, n2) => Kp(t2) ? bp(t2) : bp(t2) || Au(Yp(e2, t2, n2).dom, t2).exists(bp), Qp = (e2) => iu(e2).bind((e3) => Jn(e3, Wt)).exists((e3) => ((e4) => H(["pre", "pre-wrap"], e4))(co(e3, "white-space"))), Jp = (e2, t2) => (n2) => {
        return o2 = new jo(n2, e2)[t2](), C(o2) && dr(o2) && zc(o2);
        var o2;
      }, Zp = (e2, t2, n2) => !Qp(t2) && (((e3, t3, n3) => ((e4, t4) => Tu(e4.dom, t4).isNone())(e3, t3) || ((e4, t4) => Au(e4.dom, t4).isNone())(e3, t3) || Ip(e3, t3, n3) || Fp(e3, t3, n3) || qp(e3, t3, n3) || $p(e3, t3, n3))(e2, t2, n2) || Gp(e2, t2, n2) || Xp(e2, t2, n2)), eh = (e2, t2, n2) => !Qp(t2) && (Ip(e2, t2, n2) || Up(e2, t2, n2) || qp(e2, t2, n2) || Gp(e2, t2, n2) || ((e3, t3) => {
        const n3 = Tu(e3.dom, t3).getOr(t3), o2 = Jp(e3.dom, "prev");
        return t3.isAtStart() && (o2(t3.container()) || o2(n3.container()));
      })(e2, t2)), th = (e2, t2, n2) => !Qp(t2) && (Fp(e2, t2, n2) || zp(e2, t2, n2) || $p(e2, t2, n2) || Xp(e2, t2, n2) || ((e3, t3) => {
        const n3 = Au(e3.dom, t3).getOr(t3), o2 = Jp(e3.dom, "next");
        return t3.isAtEnd() && (o2(t3.container()) || o2(n3.container()));
      })(e2, t2)), nh = (e2, t2, n2) => eh(e2, t2, n2) || th(e2, ((e3) => {
        const t3 = e3.container(), n3 = e3.offset();
        return er(t3) && n3 < t3.data.length ? Vi(t3, n3 + 1) : e3;
      })(t2), n2), oh = (e2, t2) => Yu(e2.charAt(t2)), rh = (e2, t2) => Xu(e2.charAt(t2)), sh = (e2, t2, n2, o2) => {
        const r2 = t2.data, s2 = Vi(t2, 0);
        return n2 || !oh(r2, 0) || nh(e2, s2, o2) ? !!(n2 && rh(r2, 0) && eh(e2, s2, o2)) && (t2.data = br + r2.slice(1), true) : (t2.data = " " + r2.slice(1), true);
      }, ah = (e2, t2, n2, o2) => {
        const r2 = t2.data, s2 = Vi(t2, r2.length - 1);
        return n2 || !oh(r2, r2.length - 1) || nh(e2, s2, o2) ? !!(n2 && rh(r2, r2.length - 1) && th(e2, s2, o2)) && (t2.data = r2.slice(0, -1) + br, true) : (t2.data = r2.slice(0, -1) + " ", true);
      }, ih = (e2, t2, n2) => {
        const o2 = t2.container();
        if (!er(o2)) return I.none();
        if (((e3) => {
          const t3 = e3.container();
          return er(t3) && je(t3.data, br);
        })(t2)) {
          const r2 = sh(e2, o2, false, n2) || ((e3) => {
            const t3 = e3.data, n3 = ((e4) => {
              const t4 = e4.split("");
              return q(t4, (e5, n4) => Yu(e5) && n4 > 0 && n4 < t4.length - 1 && Qu(t4[n4 - 1]) && Qu(t4[n4 + 1]) ? " " : e5).join("");
            })(t3);
            return n3 !== t3 && (e3.data = n3, true);
          })(o2) || ah(e2, o2, false, n2);
          return It(r2, t2);
        }
        if (nh(e2, t2, n2)) {
          const r2 = sh(e2, o2, true, n2) || ah(e2, o2, true, n2);
          return It(r2, t2);
        }
        return I.none();
      }, lh = (e2, t2, n2, o2) => {
        if (0 === n2) return;
        const r2 = yn(e2), s2 = Qn(r2, (e3) => o2.isBlock(Ht(e3))).getOr(r2), a2 = e2.data.slice(t2, t2 + n2), i2 = t2 + n2 >= e2.data.length && th(s2, Vi(e2, e2.data.length), o2), l2 = 0 === t2 && eh(s2, Vi(e2, 0), o2);
        e2.replaceData(t2, n2, ls(a2, 4, l2, i2));
      }, dh = (e2, t2, n2) => {
        const o2 = e2.data.slice(t2), r2 = o2.length - We(o2).length;
        lh(e2, t2, r2, n2);
      }, ch = (e2, t2, n2) => {
        const o2 = e2.data.slice(0, t2), r2 = o2.length - Ke(o2).length;
        lh(e2, t2 - r2, r2, n2);
      }, uh = (e2, t2, n2, o2, r2 = true) => {
        const s2 = Ke(e2.data).length, a2 = r2 ? e2 : t2, i2 = r2 ? t2 : e2;
        return r2 ? a2.appendData(i2.data) : a2.insertData(0, i2.data), xo(yn(i2)), o2 && dh(a2, s2, n2), a2;
      }, mh = (e2, t2) => ((e3, t3) => {
        const n2 = e3.container(), o2 = e3.offset();
        return !Vi.isTextPosition(e3) && n2 === t3.parentNode && o2 > Vi.before(t3).offset();
      })(t2, e2) ? Vi(t2.container(), t2.offset() - 1) : t2, fh = (e2) => {
        return ts(e2.previousSibling) ? I.some((t2 = e2.previousSibling, er(t2) ? Vi(t2, t2.data.length) : Vi.after(t2))) : e2.previousSibling ? Bu(e2.previousSibling) : I.none();
        var t2;
      }, gh = (e2) => {
        return ts(e2.nextSibling) ? I.some((t2 = e2.nextSibling, er(t2) ? Vi(t2, 0) : Vi.before(t2))) : e2.nextSibling ? Ou(e2.nextSibling) : I.none();
        var t2;
      }, ph = (e2, t2, n2) => ((e3, t3, n3) => e3 ? ((e4, t4) => gh(t4).orThunk(() => fh(t4)).orThunk(() => ((e5, t5) => Au(e5, Vi.after(t5)).orThunk(() => Tu(e5, Vi.before(t5))))(e4, t4)))(t3, n3) : ((e4, t4) => fh(t4).orThunk(() => gh(t4)).orThunk(() => ((e5, t5) => I.from(t5.previousSibling ? t5.previousSibling : t5.parentNode).bind((t6) => Tu(e5, Vi.before(t6))).orThunk(() => Au(e5, Vi.after(t5))))(e4, t4)))(t3, n3))(e2, t2, n2).map(T(mh, n2)), hh = (e2, t2, n2) => {
        n2.fold(() => {
          e2.focus();
        }, (n3) => {
          e2.selection.setRng(n3.toRange(), t2);
        });
      }, bh = (e2, t2) => t2 && Ee(e2.schema.getBlockElements(), Ht(t2)), vh = (e2, t2, n2, o2 = true, r2 = false) => {
        const s2 = ph(t2, e2.getBody(), n2.dom), a2 = Qn(n2, T(bh, e2), (i2 = e2.getBody(), (e3) => e3.dom === i2));
        var i2;
        const l2 = ((e3, t3, n3, o3) => {
          const r3 = Bn(e3).filter(Kt), s3 = Pn(e3).filter(Kt);
          return xo(e3), (a3 = r3, i3 = s3, l3 = t3, d2 = (e4, t4, r4) => {
            const s4 = e4.dom, a4 = t4.dom, i4 = s4.data.length;
            return uh(s4, a4, n3, o3), r4.container() === a4 ? Vi(s4, i4) : r4;
          }, a3.isSome() && i3.isSome() && l3.isSome() ? I.some(d2(a3.getOrDie(), i3.getOrDie(), l3.getOrDie())) : I.none()).orThunk(() => (o3 && (r3.each((e4) => ch(e4.dom, e4.dom.length, n3)), s3.each((e4) => dh(e4.dom, 0, n3))), t3));
          var a3, i3, l3, d2;
        })(n2, s2, e2.schema, ((e3, t3) => Ee(e3.schema.getTextInlineElements(), Ht(t3)))(e2, n2));
        e2.dom.isEmpty(e2.getBody()) ? (e2.setContent(""), e2.selection.setCursorLocation()) : a2.bind((e3) => ((e4, t3) => {
          if (gs(e4)) {
            const n3 = hn('<br data-mce-bogus="1">');
            return t3 ? V(Mn(e4), (e5) => {
              Tm(e5) || xo(e5);
            }) : wo(e4), vo(e4, n3), I.some(Vi.before(n3.dom));
          }
          return I.none();
        })(e3, r2)).fold(() => {
          o2 && hh(e2, t2, l2);
        }, (n3) => {
          o2 && hh(e2, t2, I.some(n3));
        });
      }, yh = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/, Ch = (e2, t2) => xn(yn(t2), dd(e2)) && !Ts(e2.schema, t2) && e2.dom.isEditable(t2), wh = (e2) => {
        var t2;
        return "rtl" === za.DOM.getStyle(e2, "direction", true) || ((e3) => yh.test(e3))(null !== (t2 = e2.textContent) && void 0 !== t2 ? t2 : "");
      }, xh = (e2, t2, n2) => {
        const o2 = ((e3, t3, n3) => Y(za.DOM.getParents(n3.container(), "*", t3), e3))(e2, t2, n2);
        return I.from(o2[o2.length - 1]);
      }, Eh = (e2, t2) => {
        const n2 = t2.container(), o2 = t2.offset();
        return e2 ? Fr(n2) ? er(n2.nextSibling) ? Vi(n2.nextSibling, 0) : Vi.after(n2) : jr(t2) ? Vi(n2, o2 + 1) : t2 : Fr(n2) ? er(n2.previousSibling) ? Vi(n2.previousSibling, n2.previousSibling.data.length) : Vi.before(n2) : Hr(t2) ? Vi(n2, o2 - 1) : t2;
      }, _h = T(Eh, true), Sh = T(Eh, false), kh = (e2, t2) => {
        const n2 = (e3) => e3.stopImmediatePropagation();
        e2.on("beforeinput input", n2, true), e2.getDoc().execCommand(t2), e2.off("beforeinput input", n2);
      }, Nh = (e2) => kh(e2, "Delete"), Rh = (e2) => _r(e2) || kr(e2), Ah = (e2, t2) => Sn(e2, t2) ? Jn(t2, Rh, /* @__PURE__ */ ((e3) => (t3) => Dt(An(t3), e3, _n))(e2)) : I.none(), Th = (e2, t2 = true) => {
        e2.dom.isEmpty(e2.getBody()) && e2.setContent("", { no_selection: !t2 });
      }, Oh = (e2, t2, n2) => Mt(Ou(n2), Bu(n2), (o2, r2) => {
        const s2 = Eh(true, o2), a2 = Eh(false, r2), i2 = Eh(false, t2);
        return e2 ? Au(n2, i2).exists((e3) => e3.isEqual(a2) && t2.isEqual(s2)) : Tu(n2, i2).exists((e3) => e3.isEqual(s2) && t2.isEqual(a2));
      }).getOr(true), Bh = (e2) => {
        var t2;
        return (8 === $t(t2 = e2) || "#comment" === Ht(t2) ? Bn(e2) : Un(e2)).bind(Bh).orThunk(() => I.some(e2));
      }, Ph = (e2, t2, n2, o2 = true) => {
        var r2;
        t2.deleteContents();
        const s2 = Bh(n2).getOr(n2), a2 = yn(null !== (r2 = e2.dom.getParent(s2.dom, e2.dom.isBlock)) && void 0 !== r2 ? r2 : n2.dom);
        if (a2.dom === e2.getBody() ? Th(e2, o2) : gs(a2) && (Or(a2), o2 && e2.selection.setCursorLocation(a2.dom, 0)), !_n(n2, a2)) {
          const e3 = Dt(An(a2), n2) ? [] : An(i2 = a2).map(Mn).map((e4) => Y(e4, (e5) => !_n(i2, e5))).getOr([]);
          V(e3.concat(Mn(n2)), (e4) => {
            _n(e4, a2) || Sn(e4, a2) || !gs(e4) || xo(e4);
          });
        }
        var i2;
      }, Dh = (e2, t2) => ((e3, t3) => {
        const n2 = e3.dom;
        return n2.parentNode ? ((e4, t4) => J(e4.dom.childNodes, (e5) => t4(yn(e5))).map(yn))(yn(n2.parentNode), (n3) => !_n(e3, n3) && t3(n3)) : I.none();
      })(e2, t2).isSome(), Lh = (e2, t2) => Zn(e2, t2).isSome(), Mh = (e2) => Uo(e2, "td,th"), Ih = (e2, t2) => tm(yn(e2), t2), Fh = (e2, t2) => ({ start: e2, end: t2 }), Uh = hl([{ singleCellTable: ["rng", "cell"] }, { fullTable: ["table"] }, { partialTable: ["cells", "outsideDetails"] }, { multiTable: ["startTableCells", "endTableCells", "betweenRng"] }]), zh = (e2, t2) => no(yn(e2), "td,th", t2), jh = (e2) => !_n(e2.start, e2.end), Hh = (e2, t2) => tm(e2.start, t2).bind((n2) => tm(e2.end, t2).bind((e3) => It(_n(n2, e3), n2))), $h = (e2) => (t2) => Hh(t2, e2).map((e3) => /* @__PURE__ */ ((e4, t3, n2) => ({ rng: e4, table: t3, cells: n2 }))(t2, e3, Mh(e3))), qh = (e2, t2, n2, o2) => {
        if (n2.collapsed || !e2.forall(jh)) return I.none();
        if (t2.isSameTable) {
          const t3 = e2.bind($h(o2));
          return I.some({ start: t3, end: t3 });
        }
        {
          const e3 = zh(n2.startContainer, o2), t3 = zh(n2.endContainer, o2), r2 = e3.bind(/* @__PURE__ */ ((e4) => (t4) => tm(t4, e4).bind((e5) => de(Mh(e5)).map((e6) => Fh(t4, e6))))(o2)).bind($h(o2)), s2 = t3.bind(/* @__PURE__ */ ((e4) => (t4) => tm(t4, e4).bind((e5) => le(Mh(e5)).map((e6) => Fh(e6, t4))))(o2)).bind($h(o2));
          return I.some({ start: r2, end: s2 });
        }
      }, Vh = (e2, t2) => Z(e2, (e3) => _n(e3, t2)), Wh = (e2) => Mt(Vh(e2.cells, e2.rng.start), Vh(e2.cells, e2.rng.end), (t2, n2) => e2.cells.slice(t2, n2 + 1)), Kh = (e2, t2) => {
        const { startTable: n2, endTable: o2 } = t2, r2 = e2.cloneRange();
        return n2.each((e3) => r2.setStartAfter(e3.dom)), o2.each((e3) => r2.setEndBefore(e3.dom)), r2;
      }, Yh = (e2, t2) => {
        const n2 = /* @__PURE__ */ ((e3) => (t3) => _n(e3, t3))(e2), o2 = ((e3, t3) => {
          const n3 = zh(e3.startContainer, t3), o3 = zh(e3.endContainer, t3);
          return Mt(n3, o3, Fh);
        })(t2, n2), r2 = ((e3, t3) => {
          const n3 = Ih(e3.startContainer, t3), o3 = Ih(e3.endContainer, t3), r3 = n3.isSome(), s2 = o3.isSome(), a2 = Mt(n3, o3, _n).getOr(false);
          return ((e4) => Mt(e4.startTable, e4.endTable, (t4, n4) => {
            const o4 = Lh(t4, (e5) => _n(e5, n4)), r4 = Lh(n4, (e5) => _n(e5, t4));
            return o4 || r4 ? { ...e4, startTable: o4 ? I.none() : e4.startTable, endTable: r4 ? I.none() : e4.endTable, isSameTable: false, isMultiTable: false } : e4;
          }).getOr(e4))({ startTable: n3, endTable: o3, isStartInTable: r3, isEndInTable: s2, isSameTable: a2, isMultiTable: !a2 && r3 && s2 });
        })(t2, n2);
        return ((e3, t3, n3) => e3.exists((e4) => ((e5, t4) => !jh(e5) && Hh(e5, t4).exists((e6) => {
          const t5 = e6.dom.rows;
          return 1 === t5.length && 1 === t5[0].cells.length;
        }))(e4, n3) && rm(e4.start, t3)))(o2, t2, n2) ? o2.map((e3) => Uh.singleCellTable(t2, e3.start)) : r2.isMultiTable ? ((e3, t3, n3, o3) => qh(e3, t3, n3, o3).bind(({ start: e4, end: o4 }) => {
          const r3 = e4.bind(Wh).getOr([]), s2 = o4.bind(Wh).getOr([]);
          if (r3.length > 0 && s2.length > 0) {
            const e5 = Kh(n3, t3);
            return I.some(Uh.multiTable(r3, s2, e5));
          }
          return I.none();
        }))(o2, r2, t2, n2) : ((e3, t3, n3, o3) => qh(e3, t3, n3, o3).bind(({ start: e4, end: t4 }) => e4.or(t4)).bind((e4) => {
          const { isSameTable: o4 } = t3, r3 = Wh(e4).getOr([]);
          if (o4 && e4.cells.length === r3.length) return I.some(Uh.fullTable(e4.table));
          if (r3.length > 0) {
            if (o4) return I.some(Uh.partialTable(r3, I.none()));
            {
              const e5 = Kh(n3, t3);
              return I.some(Uh.partialTable(r3, I.some({ ...t3, rng: e5 })));
            }
          }
          return I.none();
        }))(o2, r2, t2, n2);
      }, Gh = (e2) => V(e2, (e3) => {
        on(e3, "contenteditable"), Or(e3);
      }), Xh = (e2, t2, n2, o2) => {
        const r2 = n2.cloneRange();
        o2 ? (r2.setStart(n2.startContainer, n2.startOffset), r2.setEndAfter(t2.dom.lastChild)) : (r2.setStartBefore(t2.dom.firstChild), r2.setEnd(n2.endContainer, n2.endOffset)), eb(e2, r2, t2, false).each((e3) => e3());
      }, Qh = (e2) => {
        const t2 = em(e2), n2 = yn(e2.selection.getNode());
        cr(n2.dom) && gs(n2) ? e2.selection.setCursorLocation(n2.dom, 0) : e2.selection.collapse(true), t2.length > 1 && $(t2, (e3) => _n(e3, n2)) && Jt(n2, "data-mce-selected", "1");
      }, Jh = (e2, t2, n2) => I.some(() => {
        const o2 = e2.selection.getRng(), r2 = n2.bind(({ rng: n3, isStartInTable: r3 }) => {
          const s2 = ((e3, t3) => I.from(e3.dom.getParent(t3, e3.dom.isBlock)).map(yn))(e2, r3 ? n3.endContainer : n3.startContainer);
          n3.deleteContents(), ((e3, t3, n4) => {
            n4.each((n5) => {
              t3 ? xo(n5) : (Or(n5), e3.selection.setCursorLocation(n5.dom, 0));
            });
          })(e2, r3, s2.filter(gs));
          const a2 = r3 ? t2[0] : t2[t2.length - 1];
          return Xh(e2, a2, o2, r3), gs(a2) ? I.none() : I.some(r3 ? t2.slice(1) : t2.slice(0, -1));
        }).getOr(t2);
        Gh(r2), Qh(e2);
      }), Zh = (e2, t2, n2, o2) => I.some(() => {
        const r2 = e2.selection.getRng(), s2 = t2[0], a2 = n2[n2.length - 1];
        Xh(e2, s2, r2, true), Xh(e2, a2, r2, false);
        const i2 = gs(s2) ? t2 : t2.slice(1), l2 = gs(a2) ? n2 : n2.slice(0, -1);
        Gh(i2.concat(l2)), o2.deleteContents(), Qh(e2);
      }), eb = (e2, t2, n2, o2 = true) => I.some(() => {
        Ph(e2, t2, n2, o2);
      }), tb = (e2, t2) => I.some(() => vh(e2, false, t2)), nb = (e2, t2) => J(Bp(t2, e2), Rr), ob = (e2, t2) => J(Bp(t2, e2), Xt("caption")), rb = (e2, t2) => I.some(() => {
        Or(t2), e2.selection.setCursorLocation(t2.dom, 0);
      }), sb = (e2, t2) => e2 ? Np(t2) : Rp(t2), ab = (e2, t2, n2) => {
        const o2 = yn(e2.getBody());
        return ob(o2, n2).fold(() => ((e3, t3, n3, o3) => {
          const r2 = Vi.fromRangeStart(e3.selection.getRng());
          return nb(n3, o3).bind((o4) => gs(o4) ? rb(e3, o4) : ((e4, t4, n4, o5, r3) => ku(n4, e4.getBody(), r3).bind((e5) => nb(t4, yn(e5.getNode())).bind((e6) => _n(e6, o5) ? I.none() : I.some(_))))(e3, n3, t3, o4, r2));
        })(e2, t2, o2, n2).orThunk(() => It(((e3, t3) => {
          const n3 = Vi.fromRangeStart(e3.selection.getRng());
          return sb(t3, n3) || Su(t3, e3.getBody(), n3).exists((e4) => sb(t3, e4));
        })(e2, t2), _)), (n3) => ((e3, t3, n4, o3) => {
          const r2 = Vi.fromRangeStart(e3.selection.getRng());
          return gs(o3) ? rb(e3, o3) : ((e4, t4, n5, o4, r3) => ku(n5, e4.getBody(), r3).fold(() => I.some(_), (s2) => ((e5, t5, n6, o5) => Ou(e5.dom).bind((r4) => Bu(e5.dom).map((e6) => t5 ? n6.isEqual(r4) && o5.isEqual(e6) : n6.isEqual(e6) && o5.isEqual(r4))).getOr(true))(o4, n5, r3, s2) ? ((e5, t5) => rb(e5, t5))(e4, o4) : ((e5, t5, n6) => ob(e5, yn(n6.getNode())).fold(() => I.some(_), (e6) => It(!_n(e6, t5), _)))(t4, o4, s2)))(e3, n4, t3, o3, r2);
        })(e2, t2, o2, n3));
      }, ib = (e2, t2) => {
        const n2 = yn(e2.selection.getStart(true)), o2 = em(e2);
        return e2.selection.isCollapsed() && 0 === o2.length ? ab(e2, t2, n2) : ((e3, t3, n3) => {
          const o3 = yn(e3.getBody()), r2 = e3.selection.getRng();
          return 0 !== n3.length ? Jh(e3, n3, I.none()) : ((e4, t4, n4, o4) => ob(t4, o4).fold(() => ((e5, t5, n5) => Yh(t5, n5).bind((t6) => t6.fold(T(eb, e5), T(tb, e5), T(Jh, e5), T(Zh, e5))))(e4, t4, n4), (t5) => ((e5, t6) => rb(e5, t6))(e4, t5)))(e3, o3, r2, t3);
        })(e2, n2, o2);
      }, lb = (e2, t2) => {
        let n2 = t2;
        for (; n2 && n2 !== e2; ) {
          if (lr(n2) || dr(n2)) return n2;
          n2 = n2.parentNode;
        }
        return null;
      }, db = ["data-ephox-", "data-mce-", "data-alloy-", "data-snooker-", "_"], cb = Pt.each, ub = (e2) => {
        const t2 = e2.dom, n2 = new Set(e2.serializer.getTempAttrs()), o2 = (e3) => $(db, (t3) => He(e3, t3)) || n2.has(e3);
        return { compare: (e3, n3) => {
          if (e3.nodeName !== n3.nodeName || e3.nodeType !== n3.nodeType) return false;
          const r2 = (e4) => {
            const n4 = {};
            return cb(t2.getAttribs(e4), (r3) => {
              const s3 = r3.nodeName.toLowerCase();
              "style" === s3 || o2(s3) || (n4[s3] = t2.getAttrib(e4, s3));
            }), n4;
          }, s2 = (e4, t3) => {
            for (const n4 in e4) if (Ee(e4, n4)) {
              const o3 = t3[n4];
              if (v(o3)) return false;
              if (e4[n4] !== o3) return false;
              delete t3[n4];
            }
            for (const e5 in t3) if (Ee(t3, e5)) return false;
            return true;
          };
          if (qo(e3) && qo(n3)) {
            if (!s2(r2(e3), r2(n3))) return false;
            if (!s2(t2.parseStyle(t2.getAttrib(e3, "style")), t2.parseStyle(t2.getAttrib(n3, "style")))) return false;
          }
          return !Ku(e3) && !Ku(n3);
        }, isAttributeInternal: o2 };
      }, mb = (e2) => ["h1", "h2", "h3", "h4", "h5", "h6"].includes(e2.name), fb = (e2, t2, n2, o2) => {
        const r2 = n2.name;
        for (let t3 = 0, s2 = e2.length; t3 < s2; t3++) {
          const s3 = e2[t3];
          if (s3.name === r2) {
            const e3 = o2.nodes[r2];
            e3 ? e3.nodes.push(n2) : o2.nodes[r2] = { filter: s3, nodes: [n2] };
          }
        }
        if (n2.attributes) for (let e3 = 0, r3 = t2.length; e3 < r3; e3++) {
          const r4 = t2[e3], s2 = r4.name;
          if (s2 in n2.attributes.map) {
            const e4 = o2.attributes[s2];
            e4 ? e4.nodes.push(n2) : o2.attributes[s2] = { filter: r4, nodes: [n2] };
          }
        }
      }, gb = (e2, t2) => {
        const n2 = (e3, n3) => {
          ge(e3, (e4) => {
            const o2 = ce(e4.nodes);
            V(e4.filter.callbacks, (r2) => {
              for (let t3 = o2.length - 1; t3 >= 0; t3--) {
                const r3 = o2[t3];
                (n3 ? void 0 !== r3.attr(e4.filter.name) : r3.name === e4.filter.name) && !y(r3.parent) || o2.splice(t3, 1);
              }
              o2.length > 0 && r2(o2, e4.filter.name, t2);
            });
          });
        };
        n2(e2.nodes, false), n2(e2.attributes, true);
      }, pb = (e2, t2, n2, o2 = {}) => {
        const r2 = ((e3, t3, n3) => {
          const o3 = { nodes: {}, attributes: {} };
          return n3.firstChild && ((n4, r3) => {
            let s2 = n4;
            for (; s2 = s2.walk(); ) fb(e3, t3, s2, o3);
          })(n3), o3;
        })(e2, t2, n2);
        gb(r2, o2);
      }, hb = (e2, t2, n2, o2) => {
        if ((e2.pad_empty_with_br || t2.insert) && n2(o2)) {
          const e3 = new Wg("br", 1);
          t2.insert && e3.attr("data-mce-bogus", "1"), o2.empty().append(e3);
        } else o2.empty().append(new Wg("#text", 3)).value = br;
      }, bb = (e2, t2) => {
        const n2 = null == e2 ? void 0 : e2.firstChild;
        return C(n2) && n2 === e2.lastChild && n2.name === t2;
      }, vb = (e2, t2, n2, o2) => o2.isEmpty(t2, n2, (t3) => ((e3, t4) => {
        const n3 = e3.getElementRule(t4.name);
        return true === (null == n3 ? void 0 : n3.paddEmpty);
      })(e2, t3)), yb = (e2) => {
        let t2;
        for (let n2 = e2; n2; n2 = n2.parent) {
          const e3 = n2.attr("contenteditable");
          if ("false" === e3) break;
          "true" === e3 && (t2 = n2);
        }
        return I.from(t2);
      }, Cb = (e2, t2, n2 = e2.parent) => {
        if (t2.getSpecialElements()[e2.name]) e2.empty().remove();
        else {
          const o2 = e2.children();
          for (const e3 of o2) n2 && !t2.isValidChild(n2.name, e3.name) && Cb(e3, t2, n2);
          e2.unwrap();
        }
      }, wb = (e2, t2, n2, o2 = _) => {
        const r2 = t2.getTextBlockElements(), s2 = t2.getNonEmptyElements(), a2 = t2.getWhitespaceElements(), i2 = Pt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"), l2 = /* @__PURE__ */ new Set(), d2 = (e3) => e3 !== n2 && !i2[e3.name];
        for (let n3 = 0; n3 < e2.length; n3++) {
          const i3 = e2[n3];
          let c2, u2, m2;
          if (!i3.parent || l2.has(i3)) continue;
          if (r2[i3.name] && "li" === i3.parent.name) {
            let e3 = i3.next;
            for (; e3 && r2[e3.name]; ) e3.name = "li", l2.add(e3), i3.parent.insert(e3, i3.parent), e3 = e3.next;
            i3.unwrap();
            continue;
          }
          const f2 = [i3];
          for (c2 = i3.parent; c2 && !t2.isValidChild(c2.name, i3.name) && d2(c2); c2 = c2.parent) f2.push(c2);
          if (c2 && f2.length > 1) if (xb(t2, i3, c2)) Cb(i3, t2);
          else {
            f2.reverse(), u2 = f2[0].clone(), o2(u2);
            let e3 = u2;
            for (let n4 = 0; n4 < f2.length - 1; n4++) {
              t2.isValidChild(e3.name, f2[n4].name) && n4 > 0 ? (m2 = f2[n4].clone(), o2(m2), e3.append(m2)) : m2 = e3;
              for (let e4 = f2[n4].firstChild; e4 && e4 !== f2[n4 + 1]; ) {
                const t3 = e4.next;
                m2.append(e4), e4 = t3;
              }
              e3 = m2;
            }
            vb(t2, s2, a2, u2) ? c2.insert(i3, f2[0], true) : (c2.insert(u2, f2[0], true), c2.insert(i3, u2)), c2 = f2[0], (vb(t2, s2, a2, c2) || bb(c2, "br")) && c2.empty().remove();
          }
          else if (i3.parent) {
            if ("li" === i3.name) {
              let e3 = i3.prev;
              if (e3 && ("ul" === e3.name || "ol" === e3.name)) {
                e3.append(i3);
                continue;
              }
              if (e3 = i3.next, e3 && ("ul" === e3.name || "ol" === e3.name) && e3.firstChild) {
                e3.insert(i3, e3.firstChild, true);
                continue;
              }
              const t3 = new Wg("ul", 1);
              o2(t3), i3.wrap(t3);
              continue;
            }
            if (t2.isValidChild(i3.parent.name, "div") && t2.isValidChild("div", i3.name)) {
              const e3 = new Wg("div", 1);
              o2(e3), i3.wrap(e3);
            } else Cb(i3, t2);
          }
        }
      }, xb = (e2, t2, n2 = t2.parent) => !(!n2 || (!e2.children[t2.name] || e2.isValidChild(n2.name, t2.name)) && ("a" !== t2.name || !((e3, t3) => {
        let n3 = e3;
        for (; n3; ) {
          if ("a" === n3.name) return true;
          n3 = n3.parent;
        }
        return false;
      })(n2)) && (!((e3) => "summary" === e3.name)(n2) || !mb(t2) || (null == n2 ? void 0 : n2.firstChild) === t2 && (null == n2 ? void 0 : n2.lastChild) === t2)), Eb = (e2) => e2.collapsed ? e2 : ((e3) => {
        const t2 = Vi.fromRangeStart(e3), n2 = Vi.fromRangeEnd(e3), o2 = e3.commonAncestorContainer;
        return Su(false, o2, n2).map((r2) => !Qc(t2, n2, o2) && Qc(t2, r2, o2) ? ((e4, t3, n3, o3) => {
          const r3 = document.createRange();
          return r3.setStart(e4, t3), r3.setEnd(n3, o3), r3;
        })(t2.container(), t2.offset(), r2.container(), r2.offset()) : e3).getOr(e3);
      })(e2), _b = (e2, t2) => {
        let n2 = t2.firstChild, o2 = t2.lastChild;
        return n2 && "meta" === n2.name && (n2 = n2.next), o2 && "mce_marker" === o2.attr("id") && (o2 = o2.prev), ((e3, t3) => {
          const n3 = e3.getNonEmptyElements();
          return C(t3) && (t3.isEmpty(n3) || ((e4, t4) => e4.getBlockElements()[t4.name] && ((e5) => C(e5.firstChild) && e5.firstChild === e5.lastChild)(t4) && ((e5) => "br" === e5.name || e5.value === br)(t4.firstChild))(e3, t3));
        })(e2, o2) && (o2 = null == o2 ? void 0 : o2.prev), !(!n2 || n2 !== o2 || "ul" !== n2.name && "ol" !== n2.name);
      }, Sb = (e2) => {
        return e2.length > 0 && (!(n2 = e2[e2.length - 1]).firstChild || C(null == (t2 = n2) ? void 0 : t2.firstChild) && t2.firstChild === t2.lastChild && ((e3) => e3.data === br || ar(e3))(t2.firstChild)) ? e2.slice(0, -1) : e2;
        var t2, n2;
      }, kb = (e2, t2) => {
        const n2 = e2.getParent(t2, e2.isBlock);
        return n2 && "LI" === n2.nodeName ? n2 : null;
      }, Nb = (e2, t2) => {
        const n2 = Vi.after(e2), o2 = wu(t2).prev(n2);
        return o2 ? o2.toRange() : null;
      }, Rb = (e2, t2, n2, o2) => {
        const r2 = ((e3, t3, n3) => {
          const o3 = t3.serialize(n3);
          return ((e4) => {
            var t4, n4;
            const o4 = e4.firstChild, r3 = e4.lastChild;
            return o4 && "META" === o4.nodeName && (null === (t4 = o4.parentNode) || void 0 === t4 || t4.removeChild(o4)), r3 && "mce_marker" === r3.id && (null === (n4 = r3.parentNode) || void 0 === n4 || n4.removeChild(r3)), e4;
          })(e3.createFragment(o3));
        })(t2, e2, o2), s2 = kb(t2, n2.startContainer), a2 = Sb((i2 = r2.firstChild, Y(null !== (l2 = null == i2 ? void 0 : i2.childNodes) && void 0 !== l2 ? l2 : [], (e3) => "LI" === e3.nodeName)));
        var i2, l2;
        const d2 = t2.getRoot(), c2 = (e3) => {
          const o3 = Vi.fromRangeStart(n2), r3 = wu(t2.getRoot()), a3 = 1 === e3 ? r3.prev(o3) : r3.next(o3), i3 = null == a3 ? void 0 : a3.getNode();
          return !i3 || kb(t2, i3) !== s2;
        };
        return s2 ? c2(1) ? ((e3, t3, n3) => {
          const o3 = e3.parentNode;
          return o3 && Pt.each(t3, (t4) => {
            o3.insertBefore(t4, e3);
          }), ((e4, t4) => {
            const n4 = Vi.before(e4), o4 = wu(t4).next(n4);
            return o4 ? o4.toRange() : null;
          })(e3, n3);
        })(s2, a2, d2) : c2(2) ? ((e3, t3, n3, o3) => (o3.insertAfter(t3.reverse(), e3), Nb(t3[0], n3)))(s2, a2, d2, t2) : ((e3, t3, n3, o3) => {
          const r3 = ((e4, t4) => {
            const n4 = t4.cloneRange(), o4 = t4.cloneRange();
            return n4.setStartBefore(e4), o4.setEndAfter(e4), [n4.cloneContents(), o4.cloneContents()];
          })(e3, o3), s3 = e3.parentNode;
          return s3 && (s3.insertBefore(r3[0], e3), Pt.each(t3, (t4) => {
            s3.insertBefore(t4, e3);
          }), s3.insertBefore(r3[1], e3), s3.removeChild(e3)), Nb(t3[t3.length - 1], n3);
        })(s2, a2, d2, n2) : null;
      }, Ab = ["pre"], Tb = cr, Ob = (e2, t2, n2) => {
        var o2, r2;
        const s2 = e2.selection, a2 = e2.dom, i2 = e2.parser, l2 = n2.merge, d2 = up({ validate: true }, e2.schema), c2 = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';
        n2.preserve_zwsp || (t2 = Dr(t2)), -1 === t2.indexOf("{$caret}") && (t2 += "{$caret}"), t2 = t2.replace(/\{\$caret\}/, c2);
        let u2 = s2.getRng();
        const m2 = u2.startContainer, f2 = e2.getBody();
        m2 === f2 && s2.isCollapsed() && a2.isBlock(f2.firstChild) && ((e3, t3) => C(t3) && !e3.schema.getVoidElements()[t3.nodeName])(e2, f2.firstChild) && a2.isEmpty(f2.firstChild) && (u2 = a2.createRng(), u2.setStart(f2.firstChild, 0), u2.setEnd(f2.firstChild, 0), s2.setRng(u2)), s2.isCollapsed() || ((e3) => {
          const t3 = e3.dom, n3 = Eb(e3.selection.getRng());
          e3.selection.setRng(n3);
          const o3 = t3.getParent(n3.startContainer, Tb);
          ((e4, t4, n4) => !!C(n4) && n4 === e4.getParent(t4.endContainer, Tb) && rm(yn(n4), t4))(t3, n3, o3) ? eb(e3, n3, yn(o3)) : n3.startContainer === n3.endContainer && n3.endOffset - n3.startOffset == 1 && er(n3.startContainer.childNodes[n3.startOffset]) ? n3.deleteContents() : e3.getDoc().execCommand("Delete", false);
        })(e2);
        const g2 = s2.getNode(), p2 = { context: g2.nodeName.toLowerCase(), data: n2.data, insert: true }, h2 = i2.parse(t2, p2);
        if (true === n2.paste && _b(e2.schema, h2) && ((e3, t3) => !!kb(e3, t3))(a2, g2)) return u2 = Rb(d2, a2, s2.getRng(), h2), u2 && s2.setRng(u2), t2;
        true === n2.paste && ((e3, t3, n3, o3) => {
          var r3;
          const s3 = t3.firstChild, a3 = t3.lastChild, i3 = s3 === ("bookmark" === a3.attr("data-mce-type") ? a3.prev : a3), l3 = H(Ab, s3.name);
          if (i3 && l3) {
            const t4 = "false" !== s3.attr("contenteditable"), a4 = (null === (r3 = e3.getParent(n3, e3.isBlock)) || void 0 === r3 ? void 0 : r3.nodeName.toLowerCase()) === s3.name, i4 = I.from(lb(o3, n3)).forall(lr);
            return t4 && a4 && i4;
          }
          return false;
        })(a2, h2, g2, e2.getBody()) && (null === (o2 = h2.firstChild) || void 0 === o2 || o2.unwrap()), ((e3) => {
          let t3 = e3;
          for (; t3 = t3.walk(); ) 1 === t3.type && t3.attr("data-mce-fragment", "1");
        })(h2);
        let b2 = h2.lastChild;
        if (b2 && "mce_marker" === b2.attr("id")) {
          const t3 = b2;
          for (b2 = b2.prev; b2; b2 = b2.walk(true)) if (3 === b2.type || !a2.isBlock(b2.name)) {
            b2.parent && e2.schema.isValidChild(b2.parent.name, "span") && b2.parent.insert(t3, b2, "br" === b2.name);
            break;
          }
        }
        if (e2._selectionOverrides.showBlockCaretContainer(g2), p2.invalid || ((e3, t3, n3) => {
          var o3;
          return $(n3.children(), mb) && "SUMMARY" === (null === (o3 = e3.getParent(t3, e3.isBlock)) || void 0 === o3 ? void 0 : o3.nodeName);
        })(a2, g2, h2)) {
          e2.selection.setContent(c2);
          let n3, o3 = s2.getNode();
          const l3 = e2.getBody();
          for (rr(o3) ? o3 = n3 = l3 : n3 = o3; n3 && n3 !== l3; ) o3 = n3, n3 = n3.parentNode;
          t2 = o3 === l3 ? l3.innerHTML : a2.getOuterHTML(o3);
          const u3 = i2.parse(t2), m3 = ((e3) => {
            for (let t3 = e3; t3; t3 = t3.walk()) if ("mce_marker" === t3.attr("id")) return I.some(t3);
            return I.none();
          })(u3), f3 = m3.bind(yb).getOr(u3);
          m3.each((e3) => e3.replace(h2));
          const g3 = h2.children(), p3 = null !== (r2 = h2.parent) && void 0 !== r2 ? r2 : u3;
          h2.unwrap();
          const b3 = Y(g3, (t3) => xb(e2.schema, t3, p3));
          wb(b3, e2.schema, f3), pb(i2.getNodeFilters(), i2.getAttributeFilters(), u3), t2 = d2.serialize(u3), o3 === l3 ? a2.setHTML(l3, t2) : a2.setOuterHTML(o3, t2);
        } else t2 = d2.serialize(h2), ((e3, t3, n3) => {
          var o3;
          if ("all" === n3.getAttribute("data-mce-bogus")) null === (o3 = n3.parentNode) || void 0 === o3 || o3.insertBefore(e3.dom.createFragment(t3), n3);
          else {
            const o4 = n3.firstChild, r3 = n3.lastChild;
            !o4 || o4 === r3 && "BR" === o4.nodeName ? e3.dom.setHTML(n3, t3) : e3.selection.setContent(t3, { no_events: true });
          }
        })(e2, t2, g2);
        var v2;
        return ((e3, t3) => {
          const n3 = e3.schema.getTextInlineElements(), o3 = e3.dom;
          if (t3) {
            const t4 = e3.getBody(), r3 = ub(e3);
            Pt.each(o3.select("*[data-mce-fragment]"), (e4) => {
              if (C(n3[e4.nodeName.toLowerCase()]) && ((e5, t5) => ne(gp(e5, t5), (e6) => !((e7) => mp.has(e7))(e6)))(o3, e4)) {
                for (let n4 = e4.parentElement; C(n4) && n4 !== t4 && !pp(o3, e4, n4); n4 = n4.parentElement) if (r3.compare(n4, e4)) {
                  o3.remove(e4, true);
                  break;
                }
              }
            });
          }
        })(e2, l2), ((e3, t3) => {
          var n3, o3, r3;
          let s3;
          const a3 = e3.dom, i3 = e3.selection;
          if (!t3) return;
          i3.scrollIntoView(t3);
          const l3 = lb(e3.getBody(), t3);
          if (l3 && "false" === a3.getContentEditable(l3)) return a3.remove(t3), void i3.select(l3);
          let d3 = a3.createRng();
          const c3 = t3.previousSibling;
          if (er(c3)) {
            d3.setStart(c3, null !== (o3 = null === (n3 = c3.nodeValue) || void 0 === n3 ? void 0 : n3.length) && void 0 !== o3 ? o3 : 0);
            const e4 = t3.nextSibling;
            er(e4) && (c3.appendData(e4.data), null === (r3 = e4.parentNode) || void 0 === r3 || r3.removeChild(e4));
          } else d3.setStartBefore(t3), d3.setEndBefore(t3);
          const u3 = a3.getParent(t3, a3.isBlock);
          if (a3.remove(t3), u3 && a3.isEmpty(u3)) {
            const t4 = Tb(u3);
            wo(yn(u3)), d3.setStart(u3, 0), d3.setEnd(u3, 0), t4 || ((e4) => !!e4.getAttribute("data-mce-fragment"))(u3) || !(s3 = ((t5) => {
              let n4 = Vi.fromRangeStart(t5);
              return n4 = wu(e3.getBody()).next(n4), null == n4 ? void 0 : n4.toRange();
            })(d3)) ? a3.add(u3, a3.create("br", t4 ? {} : { "data-mce-bogus": "1" })) : (d3 = s3, a3.remove(u3));
          }
          i3.setRng(d3);
        })(e2, a2.get("mce_marker")), v2 = e2.getBody(), Pt.each(v2.getElementsByTagName("*"), (e3) => {
          e3.removeAttribute("data-mce-fragment");
        }), ((e3, t3, n3) => {
          I.from(e3.getParent(t3, "td,th")).map(yn).each((e4) => ((e5, t4) => {
            Un(e5).each((n4) => {
              Bn(n4).each((o3) => {
                t4.isBlock(Ht(e5)) && Er(n4) && t4.isBlock(Ht(o3)) && xo(n4);
              });
            });
          })(e4, n3));
        })(a2, s2.getStart(), e2.schema), ((e3, t3, n3) => {
          const o3 = On(yn(n3), (e4) => _n(e4, yn(t3)));
          ie(o3, o3.length - 2).filter(Wt).fold(() => Ss(e3, t3), (t4) => Ss(e3, t4.dom));
        })(e2.schema, e2.getBody(), s2.getStart()), t2;
      }, Bb = (e2) => e2 instanceof Wg, Pb = (e2, t2, n2) => {
        e2.dom.setHTML(e2.getBody(), t2), true !== n2 && ((e3) => {
          Rg(e3) && Ou(e3.getBody()).each((t3) => {
            const n3 = t3.getNode(), o2 = Qo(n3) ? Ou(n3).getOr(t3) : t3;
            e3.selection.setRng(o2.toRange());
          });
        })(e2);
      }, Db = (e2) => w(e2) ? e2 : L, Lb = (e2, t2, n2) => {
        const o2 = t2(e2), r2 = Db(n2);
        return o2.orThunk(() => r2(e2) ? I.none() : ((e3, t3, n3) => {
          let o3 = e3.dom;
          const r3 = Db(n3);
          for (; o3.parentNode; ) {
            o3 = o3.parentNode;
            const e4 = yn(o3), n4 = t3(e4);
            if (n4.isSome()) return n4;
            if (r3(e4)) break;
          }
          return I.none();
        })(e2, t2, r2));
      }, Mb = ym, Ib = (e2, t2, n2) => {
        const o2 = e2.formatter.get(n2);
        if (o2) for (let n3 = 0; n3 < o2.length; n3++) {
          const r2 = o2[n3];
          if (km(r2) && false === r2.inherit && e2.dom.is(t2, r2.selector)) return true;
        }
        return false;
      }, Fb = (e2, t2, n2, o2, r2) => {
        const s2 = e2.dom.getRoot();
        if (t2 === s2) return false;
        const a2 = e2.dom.getParent(t2, (t3) => !!Ib(e2, t3, n2) || t3.parentNode === s2 || !!jb(e2, t3, n2, o2, true));
        return !!jb(e2, a2, n2, o2, r2);
      }, Ub = (e2, t2, n2) => !(!Nm(n2) || !Mb(t2, n2.inline)) || !(!Sm(n2) || !Mb(t2, n2.block)) || !!km(n2) && qo(t2) && e2.is(t2, n2.selector), zb = (e2, t2, n2, o2, r2, s2) => {
        const a2 = n2[o2], i2 = "attributes" === o2;
        if (w(n2.onmatch)) return n2.onmatch(t2, n2, o2);
        if (a2) {
          if (ke(a2)) {
            for (let n3 = 0; n3 < a2.length; n3++) if (i2 ? e2.getAttrib(t2, a2[n3]) : wm(e2, t2, a2[n3])) return true;
          } else for (const o3 in a2) if (Ee(a2, o3)) {
            const l2 = i2 ? e2.getAttrib(t2, o3) : wm(e2, t2, o3), d2 = vm(a2[o3], s2), c2 = y(l2) || Ge(l2);
            if (c2 && y(d2)) continue;
            if (r2 && c2 && !n2.exact) return false;
            if ((!r2 || n2.exact) && !Mb(l2, Cm(d2, o3))) return false;
          }
        }
        return true;
      }, jb = (e2, t2, n2, o2, r2) => {
        const s2 = e2.formatter.get(n2), a2 = e2.dom;
        if (s2 && qo(t2)) for (let n3 = 0; n3 < s2.length; n3++) {
          const i2 = s2[n3];
          if (Ub(e2.dom, t2, i2) && zb(a2, t2, i2, "attributes", r2, o2) && zb(a2, t2, i2, "styles", r2, o2)) {
            const n4 = i2.classes;
            if (n4) {
              for (let r3 = 0; r3 < n4.length; r3++) if (!e2.dom.hasClass(t2, vm(n4[r3], o2))) return;
            }
            return i2;
          }
        }
      }, Hb = (e2, t2, n2, o2, r2) => {
        if (o2) return Fb(e2, o2, t2, n2, r2);
        if (o2 = e2.selection.getNode(), Fb(e2, o2, t2, n2, r2)) return true;
        const s2 = e2.selection.getStart();
        return !(s2 === o2 || !Fb(e2, s2, t2, n2, r2));
      }, $b = Br, qb = (e2) => {
        if (e2) {
          const t2 = new jo(e2, e2);
          for (let e3 = t2.current(); e3; e3 = t2.next()) if (er(e3)) return e3;
        }
        return null;
      }, Vb = (e2) => {
        const t2 = bn("span");
        return Zt(t2, { id: Pu, "data-mce-bogus": "1", "data-mce-type": "format-caret" }), e2 && vo(t2, vn($b)), t2;
      }, Wb = (e2, t2, n2) => {
        const o2 = e2.dom, r2 = e2.selection;
        if (Am(t2)) vh(e2, false, yn(t2), n2, true);
        else {
          const e3 = r2.getRng(), n3 = o2.getParent(t2, o2.isBlock), s2 = e3.startContainer, a2 = e3.startOffset, i2 = e3.endContainer, l2 = e3.endOffset, d2 = ((e4) => {
            const t3 = qb(e4);
            return t3 && t3.data.charAt(0) === $b && t3.deleteData(0, 1), t3;
          })(t2);
          o2.remove(t2, true), s2 === d2 && a2 > 0 && e3.setStart(d2, a2 - 1), i2 === d2 && l2 > 0 && e3.setEnd(d2, l2 - 1), n3 && o2.isEmpty(n3) && Or(yn(n3)), r2.setRng(e3);
        }
      }, Kb = (e2, t2, n2) => {
        const o2 = e2.dom, r2 = e2.selection;
        if (t2) Wb(e2, t2, n2);
        else if (!(t2 = Lu(e2.getBody(), r2.getStart()))) for (; t2 = o2.get(Pu); ) Wb(e2, t2, n2);
      }, Yb = (e2, t2) => (e2.appendChild(t2), t2), Gb = (e2, t2) => {
        var n2;
        const o2 = G(e2, (e3, t3) => Yb(e3, t3.cloneNode(false)), t2), r2 = null !== (n2 = o2.ownerDocument) && void 0 !== n2 ? n2 : document;
        return Yb(o2, r2.createTextNode($b));
      }, Xb = (e2, t2, n2, o2) => {
        const a2 = e2.dom, i2 = e2.selection;
        let l2 = false;
        const d2 = e2.formatter.get(t2);
        if (!d2) return;
        const c2 = i2.getRng(), u2 = c2.startContainer, m2 = c2.startOffset;
        let f2 = u2;
        er(u2) && (m2 !== u2.data.length && (l2 = true), f2 = f2.parentNode);
        const g2 = [];
        let h2;
        for (; f2; ) {
          if (jb(e2, f2, t2, n2, o2)) {
            h2 = f2;
            break;
          }
          f2.nextSibling && (l2 = true), g2.push(f2), f2 = f2.parentNode;
        }
        if (h2) if (l2) {
          const r2 = i2.getBookmark();
          c2.collapse(true);
          let s2 = Vm(a2, c2, d2, true);
          s2 = Ff(s2), e2.formatter.remove(t2, n2, s2, o2), i2.moveToBookmark(r2);
        } else {
          const l3 = Lu(e2.getBody(), h2), d3 = C(l3) ? a2.getParents(h2.parentNode, M, l3) : [], c3 = Vb(false).dom;
          ((e3, t3, n3) => {
            var o3, r2;
            const s2 = e3.dom, a3 = s2.getParent(n3, T(gm, e3.schema));
            a3 && s2.isEmpty(a3) ? null === (o3 = n3.parentNode) || void 0 === o3 || o3.replaceChild(t3, n3) : (((e4) => {
              const t4 = Uo(e4, "br"), n4 = Y(((e5) => {
                const t5 = [];
                let n5 = e5.dom;
                for (; n5; ) t5.push(yn(n5)), n5 = n5.lastChild;
                return t5;
              })(e4).slice(-1), Er);
              t4.length === n4.length && V(n4, xo);
            })(yn(n3)), s2.isEmpty(n3) ? null === (r2 = n3.parentNode) || void 0 === r2 || r2.replaceChild(t3, n3) : s2.insertAfter(t3, n3));
          })(e2, c3, null != l3 ? l3 : h2);
          const u3 = ((e3, t3, n3, o3, a3, i3) => {
            const l4 = e3.formatter, d4 = e3.dom, c4 = Y(me(l4.get()), (e4) => e4 !== o3 && !je(e4, "removeformat")), u4 = ((e4, t4, n4) => X(n4, (n5, o4) => {
              const r2 = ((e5, t5) => _m(e5, t5, (e6) => {
                const t6 = (e7) => w(e7) || e7.length > 1 && "%" === e7.charAt(0);
                return $(["styles", "attributes"], (n6) => xe(e6, n6).exists((e7) => {
                  const n7 = p(e7) ? e7 : we(e7);
                  return $(n7, t6);
                }));
              }))(e4, o4);
              return e4.formatter.matchNode(t4, o4, {}, r2) ? n5.concat([o4]) : n5;
            }, []))(e3, n3, c4);
            if (Y(u4, (t4) => !((e4, t5, n4) => {
              const o4 = ["inline", "block", "selector", "attributes", "styles", "classes"], a4 = (e5) => ye(e5, (e6, t6) => $(o4, (e7) => e7 === t6));
              return _m(e4, t5, (t6) => {
                const o5 = a4(t6);
                return _m(e4, n4, (e5) => {
                  const t7 = a4(e5);
                  return ((e6, t8, n5 = s) => r(n5).eq(e6, t8))(o5, t7);
                });
              });
            })(e3, t4, o3)).length > 0) {
              const e4 = n3.cloneNode(false);
              return d4.add(t3, e4), l4.remove(o3, a3, e4, i3), d4.remove(e4), I.some(e4);
            }
            return I.none();
          })(e2, c3, h2, t2, n2, o2), m3 = Gb([...g2, ...u3.toArray(), ...d3], c3);
          l3 && Wb(e2, l3, C(l3)), i2.setCursorLocation(m3, 1), a2.isEmpty(h2) && a2.remove(h2);
        }
      }, Qb = (e2) => {
        const t2 = Vb(false), n2 = Gb(e2, t2.dom);
        return { caretContainer: t2, caretPosition: Vi(n2, 0) };
      }, Jb = (e2, t2) => {
        const { caretContainer: n2, caretPosition: o2 } = Qb(t2);
        return po(yn(e2), n2), xo(yn(e2)), o2;
      }, Zb = (e2, t2) => {
        if (Du(t2.dom)) return false;
        const n2 = e2.schema.getTextInlineElements();
        return Ee(n2, Ht(t2)) && !Du(t2.dom) && !Xo(t2.dom);
      }, ev = {}, tv = Ko(["pre"]);
      ((e2, t2) => {
        ev[e2] || (ev[e2] = []), ev[e2].push((e3) => {
          if (!e3.selection.getRng().collapsed) {
            const t3 = e3.selection.getSelectedBlocks(), n2 = Y(Y(t3, tv), /* @__PURE__ */ ((e4) => (t4) => {
              const n3 = t4.previousSibling;
              return tv(n3) && H(e4, n3);
            })(t3));
            V(n2, (e4) => {
              ((e5, t4) => {
                const n3 = yn(t4), o2 = Nn(n3).dom;
                xo(n3), Co(yn(e5), [bn("br", o2), bn("br", o2), ...Mn(n3)]);
              })(e4.previousSibling, e4);
            });
          }
        });
      })("pre");
      const nv = ["fontWeight", "fontStyle", "color", "fontSize", "fontFamily"], ov = (e2, t2) => {
        const n2 = e2.get(t2);
        return p(n2) ? J(n2, (e3) => Nm(e3) && "span" === e3.inline && ((e4) => f(e4.styles) && $(me(e4.styles), (e5) => H(nv, e5)))(e3)) : I.none();
      }, rv = (e2, t2) => Tu(t2, Vi.fromRangeStart(e2)).isNone(), sv = (e2, t2) => false === Au(t2, Vi.fromRangeEnd(e2)).exists((e3) => !ar(e3.getNode()) || Au(t2, e3).isSome()), av = (e2) => (t2) => fr(t2) && e2.isEditable(t2), iv = (e2) => Y(e2.getSelectedBlocks(), av(e2.dom)), lv = Pt.each, dv = (e2) => qo(e2) && !Ku(e2) && !Du(e2) && !Xo(e2), cv = (e2, t2) => {
        for (let n2 = e2; n2; n2 = n2[t2]) {
          if (er(n2) && Ye(n2.data)) return e2;
          if (qo(n2) && !Ku(n2)) return n2;
        }
        return e2;
      }, uv = (e2, t2, n2) => {
        const o2 = ub(e2), r2 = Vo(t2) && e2.dom.isEditable(t2), s2 = Vo(n2) && e2.dom.isEditable(n2);
        if (r2 && s2) {
          const r3 = cv(t2, "previousSibling"), s3 = cv(n2, "nextSibling");
          if (o2.compare(r3, s3)) {
            for (let e3 = r3.nextSibling; e3 && e3 !== s3; ) {
              const t3 = e3;
              e3 = e3.nextSibling, r3.appendChild(t3);
            }
            return e2.dom.remove(s3), Pt.each(Pt.grep(s3.childNodes), (e3) => {
              r3.appendChild(e3);
            }), r3;
          }
        }
        return n2;
      }, mv = (e2, t2, n2, o2) => {
        var r2;
        if (o2 && false !== t2.merge_siblings) {
          const t3 = null !== (r2 = uv(e2, fm(o2), o2)) && void 0 !== r2 ? r2 : o2;
          uv(e2, t3, fm(t3, true));
        }
      }, fv = (e2, t2, n2) => {
        lv(e2.childNodes, (e3) => {
          dv(e3) && (t2(e3) && n2(e3), e3.hasChildNodes() && fv(e3, t2, n2));
        });
      }, gv = (e2, t2) => (n2) => !(!n2 || !wm(e2, n2, t2)), pv = (e2, t2, n2) => (o2) => {
        e2.setStyle(o2, t2, n2), "" === o2.getAttribute("style") && o2.removeAttribute("style"), ((e3, t3) => {
          "SPAN" === t3.nodeName && 0 === e3.getAttribs(t3).length && e3.remove(t3, true);
        })(e2, o2);
      }, hv = hl([{ keep: [] }, { rename: ["name"] }, { removed: [] }]), bv = /^(src|href|style)$/, vv = Pt.each, yv = ym, Cv = (e2, t2, n2) => e2.isChildOf(t2, n2) && t2 !== n2 && !e2.isBlock(n2), wv = (e2, t2, n2) => {
        let o2 = t2[n2 ? "startContainer" : "endContainer"], r2 = t2[n2 ? "startOffset" : "endOffset"];
        if (qo(o2)) {
          const e3 = o2.childNodes.length - 1;
          !n2 && r2 && r2--, o2 = o2.childNodes[r2 > e3 ? e3 : r2];
        }
        return er(o2) && n2 && r2 >= o2.data.length && (o2 = new jo(o2, e2.getBody()).next() || o2), er(o2) && !n2 && 0 === r2 && (o2 = new jo(o2, e2.getBody()).prev() || o2), o2;
      }, xv = (e2, t2) => {
        const n2 = t2 ? "firstChild" : "lastChild", o2 = e2[n2];
        return ((e3) => /^(TR|TH|TD)$/.test(e3.nodeName))(e2) && o2 ? "TR" === e2.nodeName && o2[n2] || o2 : e2;
      }, Ev = (e2, t2, n2, o2) => {
        var r2;
        const s2 = e2.create(n2, o2);
        return null === (r2 = t2.parentNode) || void 0 === r2 || r2.insertBefore(s2, t2), s2.appendChild(t2), s2;
      }, _v = (e2, t2, n2, o2, r2) => {
        const s2 = yn(t2), a2 = yn(e2.create(o2, r2)), i2 = n2 ? Ln(s2) : Dn(s2);
        return Co(a2, i2), n2 ? (po(s2, a2), bo(a2, s2)) : (ho(s2, a2), vo(a2, s2)), a2.dom;
      }, Sv = (e2, t2, n2) => {
        const o2 = t2.parentNode;
        let r2;
        const s2 = e2.dom, a2 = Il(e2);
        Sm(n2) && o2 === s2.getRoot() && (n2.list_block && yv(t2, n2.list_block) || V(ce(t2.childNodes), (t3) => {
          pm(e2, a2, t3.nodeName.toLowerCase()) ? r2 ? r2.appendChild(t3) : (r2 = Ev(s2, t3, a2), s2.setAttribs(r2, Fl(e2))) : r2 = null;
        })), ((e3) => km(e3) && Nm(e3) && Dt(xe(e3, "mixed"), true))(n2) && !yv(n2.inline, t2) || s2.remove(t2, true);
      }, kv = (e2, t2, n2) => x(e2) ? { name: t2, value: null } : { name: e2, value: vm(t2, n2) }, Nv = (e2, t2) => {
        "" === e2.getAttrib(t2, "style") && (t2.removeAttribute("style"), t2.removeAttribute("data-mce-style"));
      }, Rv = (e2, t2, n2, o2, r2) => {
        let s2 = false;
        vv(n2.styles, (a2, i2) => {
          const { name: l2, value: d2 } = kv(i2, a2, o2), c2 = Cm(d2, l2);
          (n2.remove_similar || h(d2) || !qo(r2) || yv(wm(e2, r2, l2), c2)) && e2.setStyle(t2, l2, ""), s2 = true;
        }), s2 && Nv(e2, t2);
      }, Av = (e2, t2, n2, o2, r2) => {
        const s2 = e2.dom, a2 = ub(e2), i2 = e2.schema;
        if (Nm(t2) && Rs(i2, t2.inline) && Ts(i2, o2) && o2.parentElement === e2.getBody()) return Sv(e2, o2, t2), hv.removed();
        if (!t2.ceFalseOverride && o2 && "false" === s2.getContentEditableParent(o2)) return hv.keep();
        if (o2 && !Ub(s2, o2, t2) && !((e3, t3) => t3.links && "A" === e3.nodeName)(o2, t2)) return hv.keep();
        const l2 = o2, d2 = t2.preserve_attributes;
        if (Nm(t2) && "all" === t2.remove && p(d2)) {
          const e3 = Y(s2.getAttribs(l2), (e4) => H(d2, e4.name.toLowerCase()));
          if (s2.removeAllAttribs(l2), V(e3, (e4) => s2.setAttrib(l2, e4.name, e4.value)), e3.length > 0) return hv.rename("span");
        }
        if ("all" !== t2.remove) {
          Rv(s2, l2, t2, n2, r2), vv(t2.attributes, (e4, o3) => {
            const { name: a3, value: i3 } = kv(o3, e4, n2);
            if (t2.remove_similar || h(i3) || !qo(r2) || yv(s2.getAttrib(r2, a3), i3)) {
              if ("class" === a3) {
                const e5 = s2.getAttrib(l2, a3);
                if (e5) {
                  let t3 = "";
                  if (V(e5.split(/\s+/), (e6) => {
                    /mce\-\w+/.test(e6) && (t3 += (t3 ? " " : "") + e6);
                  }), t3) return void s2.setAttrib(l2, a3, t3);
                }
              }
              if (bv.test(a3) && l2.removeAttribute("data-mce-" + a3), "style" === a3 && Ko(["li"])(l2) && "none" === s2.getStyle(l2, "list-style-type")) return l2.removeAttribute(a3), void s2.setStyle(l2, "list-style-type", "none");
              "class" === a3 && l2.removeAttribute("className"), l2.removeAttribute(a3);
            }
          }), vv(t2.classes, (e4) => {
            e4 = vm(e4, n2), qo(r2) && !s2.hasClass(r2, e4) || s2.removeClass(l2, e4);
          });
          const e3 = s2.getAttribs(l2);
          for (let t3 = 0; t3 < e3.length; t3++) {
            const n3 = e3[t3].nodeName;
            if (!a2.isAttributeInternal(n3)) return hv.keep();
          }
        }
        return "none" !== t2.remove ? (Sv(e2, l2, t2), hv.removed()) : hv.keep();
      }, Tv = (e2, t2, n2, o2) => Av(e2, t2, n2, o2, o2).fold(N(o2), (t3) => (e2.dom.createFragment().appendChild(o2), e2.dom.rename(o2, t3)), N(null)), Ov = (e2, t2, n2, o2, r2) => {
        (o2 || e2.selection.isEditable()) && ((e3, t3, n3, o3, r3) => {
          const s2 = e3.formatter.get(t3), a2 = s2[0], i2 = e3.dom, l2 = e3.selection, d2 = (o4) => {
            const i3 = ((e4, t4, n4, o5, r4) => {
              let s3;
              return t4.parentNode && V(Em(e4.dom, t4.parentNode).reverse(), (t5) => {
                if (!s3 && qo(t5) && "_start" !== t5.id && "_end" !== t5.id) {
                  const a3 = jb(e4, t5, n4, o5, r4);
                  a3 && false !== a3.split && (s3 = t5);
                }
              }), s3;
            })(e3, o4, t3, n3, r3);
            return ((e4, t4, n4, o5, r4, s3, a3, i4) => {
              var l3, d3;
              let c3, u3;
              const m3 = e4.dom;
              if (n4) {
                const s4 = n4.parentNode;
                for (let n5 = o5.parentNode; n5 && n5 !== s4; n5 = n5.parentNode) {
                  let o6 = m3.clone(n5, false);
                  for (let n6 = 0; n6 < t4.length && (o6 = Tv(e4, t4[n6], i4, o6), null !== o6); n6++) ;
                  o6 && (c3 && o6.appendChild(c3), u3 || (u3 = o6), c3 = o6);
                }
                a3.mixed && m3.isBlock(n4) || (o5 = null !== (l3 = m3.split(n4, o5)) && void 0 !== l3 ? l3 : o5), c3 && u3 && (null === (d3 = r4.parentNode) || void 0 === d3 || d3.insertBefore(c3, r4), u3.appendChild(r4), Nm(a3) && mv(e4, a3, 0, c3));
              }
              return o5;
            })(e3, s2, i3, o4, o4, 0, a2, n3);
          }, c2 = (t4) => $(s2, (o4) => Bv(e3, o4, n3, t4, t4)), u2 = (t4) => {
            const n4 = ce(t4.childNodes), o4 = c2(t4) || $(s2, (e4) => Ub(i2, t4, e4)), r4 = t4.parentNode;
            if (!o4 && C(r4) && Rm(a2) && c2(r4), a2.deep && n4.length) for (let e4 = 0; e4 < n4.length; e4++) u2(n4[e4]);
            V(["underline", "line-through", "overline"], (n5) => {
              qo(t4) && e3.dom.getStyle(t4, "text-decoration") === n5 && t4.parentNode && xm(i2, t4.parentNode) === n5 && Bv(e3, { deep: false, exact: true, inline: "span", styles: { textDecoration: n5 } }, void 0, t4);
            });
          }, m2 = (e4) => {
            const t4 = i2.get(e4 ? "_start" : "_end");
            if (t4) {
              let n4 = t4[e4 ? "firstChild" : "lastChild"];
              return ((e5) => Ku(e5) && qo(e5) && ("_start" === e5.id || "_end" === e5.id))(n4) && (n4 = n4[e4 ? "firstChild" : "lastChild"]), er(n4) && 0 === n4.data.length && (n4 = e4 ? t4.previousSibling || t4.nextSibling : t4.nextSibling || t4.previousSibling), i2.remove(t4, true), n4;
            }
            return null;
          }, f2 = (t4) => {
            let n4, o4, r4 = Vm(i2, t4, s2, t4.collapsed);
            if (a2.split) {
              if (r4 = Ff(r4), n4 = wv(e3, r4, true), o4 = wv(e3, r4), n4 !== o4) {
                if (n4 = xv(n4, true), o4 = xv(o4, false), Cv(i2, n4, o4)) {
                  const e5 = I.from(n4.firstChild).getOr(n4);
                  return d2(_v(i2, e5, true, "span", { id: "_start", "data-mce-type": "bookmark" })), void m2(true);
                }
                if (Cv(i2, o4, n4)) {
                  const e5 = I.from(o4.lastChild).getOr(o4);
                  return d2(_v(i2, e5, false, "span", { id: "_end", "data-mce-type": "bookmark" })), void m2(false);
                }
                n4 = Ev(i2, n4, "span", { id: "_start", "data-mce-type": "bookmark" }), o4 = Ev(i2, o4, "span", { id: "_end", "data-mce-type": "bookmark" });
                const e4 = i2.createRng();
                e4.setStartAfter(n4), e4.setEndBefore(o4), Wm(i2, e4, (e5) => {
                  V(e5, (e6) => {
                    Ku(e6) || Ku(e6.parentNode) || d2(e6);
                  });
                }), d2(n4), d2(o4), n4 = m2(true), o4 = m2();
              } else n4 = o4 = d2(n4);
              r4.startContainer = n4.parentNode ? n4.parentNode : n4, r4.startOffset = i2.nodeIndex(n4), r4.endContainer = o4.parentNode ? o4.parentNode : o4, r4.endOffset = i2.nodeIndex(o4) + 1;
            }
            Wm(i2, r4, (e4) => {
              V(e4, u2);
            });
          };
          if (o3) {
            if (dm(o3)) {
              const e4 = i2.createRng();
              e4.setStartBefore(o3), e4.setEndAfter(o3), f2(e4);
            } else f2(o3);
            nf(e3, t3, o3, n3);
          } else l2.isCollapsed() && Nm(a2) && !em(e3).length ? Xb(e3, t3, n3, r3) : (um(e3, () => im(e3, f2), (o4) => Nm(a2) && Hb(e3, t3, n3, o4)), e3.nodeChanged()), ((e4, t4, n4) => {
            "removeformat" === t4 ? V(iv(e4.selection), (t5) => {
              V(nv, (n5) => e4.dom.setStyle(t5, n5, "")), Nv(e4.dom, t5);
            }) : ov(e4.formatter, t4).each((t5) => {
              V(iv(e4.selection), (o4) => Rv(e4.dom, o4, t5, n4, null));
            });
          })(e3, t3, n3), nf(e3, t3, o3, n3);
        })(e2, t2, n2, o2, r2);
      }, Bv = (e2, t2, n2, o2, r2) => Av(e2, t2, n2, o2, r2).fold(L, (t3) => (e2.dom.rename(o2, t3), true), M), Pv = Pt.each, Dv = Pt.each, Lv = (e2, t2, n2, o2) => {
        if (Dv(n2.styles, (n3, r2) => {
          e2.setStyle(t2, r2, vm(n3, o2));
        }), n2.styles) {
          const n3 = e2.getAttrib(t2, "style");
          n3 && e2.setAttrib(t2, "data-mce-style", n3);
        }
      }, Mv = (e2, t2, n2, o2) => {
        const r2 = e2.formatter.get(t2), s2 = r2[0], a2 = !o2 && e2.selection.isCollapsed(), i2 = e2.dom, l2 = e2.selection, d2 = (e3, t3 = s2) => {
          w(t3.onformat) && t3.onformat(e3, t3, n2, o2), Lv(i2, e3, t3, n2), Dv(t3.attributes, (t4, o3) => {
            i2.setAttrib(e3, o3, vm(t4, n2));
          }), Dv(t3.classes, (t4) => {
            const o3 = vm(t4, n2);
            i2.hasClass(e3, o3) || i2.addClass(e3, o3);
          });
        }, c2 = (e3, t3) => {
          let n3 = false;
          return Dv(e3, (e4) => !(!km(e4) || ("false" !== i2.getContentEditable(t3) || e4.ceFalseOverride) && (!C(e4.collapsed) || e4.collapsed === a2) && i2.is(t3, e4.selector) && !Du(t3) && (d2(t3, e4), n3 = true, 1))), n3;
        }, u2 = (e3) => {
          if (m(e3)) {
            const t3 = i2.create(e3);
            return d2(t3), t3;
          }
          return null;
        }, f2 = (o3, a3, i3) => {
          const l3 = [];
          let m2 = true;
          const f3 = s2.inline || s2.block, g3 = u2(f3);
          Wm(o3, a3, (a4) => {
            let u3;
            const p2 = (a5) => {
              let h2 = false, b2 = m2, v2 = false;
              const y2 = a5.parentNode, w2 = y2.nodeName.toLowerCase(), x2 = o3.getContentEditable(a5);
              C(x2) && (b2 = m2, m2 = "true" === x2, h2 = true, v2 = bm(e2, a5));
              const E2 = m2 && !h2;
              if (ar(a5) && !((e3, t3, n3, o4) => {
                if (xd(e3) && Nm(t3) && n3.parentNode) {
                  const t4 = da(e3.schema), r3 = Dh(yn(n3), (e4) => Du(e4.dom));
                  return _e(t4, o4) && gs(yn(n3.parentNode), false) && !r3;
                }
                return false;
              })(e2, s2, a5, w2)) return u3 = null, void (Sm(s2) && o3.remove(a5));
              if (((o4) => ((e3) => Sm(e3) && true === e3.wrapper)(s2) && jb(e2, o4, t2, n2))(a5)) u3 = null;
              else {
                if (((t3, n3, o4) => {
                  const r3 = ((e3) => Sm(e3) && true !== e3.wrapper)(s2) && gm(e2.schema, t3) && pm(e2, n3, f3);
                  return o4 && r3;
                })(a5, w2, E2)) {
                  const e3 = o3.rename(a5, f3);
                  return d2(e3), l3.push(e3), void (u3 = null);
                }
                if (km(s2)) {
                  let e3 = c2(r2, a5);
                  if (!e3 && C(y2) && Rm(s2) && (e3 = c2(r2, y2)), !Nm(s2) || e3) return void (u3 = null);
                }
                C(g3) && ((t3, n3, r3, a6) => {
                  const l4 = t3.nodeName.toLowerCase(), d3 = pm(e2, f3, l4) && pm(e2, n3, f3), c3 = !i3 && er(t3) && Pr(t3.data), u4 = Du(t3), m3 = !Nm(s2) || !o3.isBlock(t3);
                  return (r3 || a6) && d3 && !c3 && !u4 && m3;
                })(a5, w2, E2, v2) ? (u3 || (u3 = o3.clone(g3, false), y2.insertBefore(u3, a5), l3.push(u3)), v2 && h2 && (m2 = b2), u3.appendChild(a5)) : (u3 = null, V(ce(a5.childNodes), p2), h2 && (m2 = b2), u3 = null);
              }
            };
            V(a4, p2);
          }), true === s2.links && V(l3, (e3) => {
            const t3 = (e4) => {
              "A" === e4.nodeName && d2(e4, s2), V(ce(e4.childNodes), t3);
            };
            t3(e3);
          }), V(l3, (a4) => {
            const i4 = ((e3) => {
              let t3 = 0;
              return V(e3.childNodes, (e4) => {
                ((e5) => C(e5) && er(e5) && 0 === e5.length)(e4) || Ku(e4) || t3++;
              }), t3;
            })(a4);
            !(l3.length > 1) && o3.isBlock(a4) || 0 !== i4 ? (Nm(s2) || Sm(s2) && s2.wrapper) && (s2.exact || 1 !== i4 || (a4 = ((e3) => {
              const t3 = J(e3.childNodes, cm).filter((e4) => "false" !== o3.getContentEditable(e4) && Ub(o3, e4, s2));
              return t3.map((t4) => {
                const n3 = o3.clone(t4, false);
                return d2(n3), o3.replace(n3, e3, true), o3.remove(t4, true), n3;
              }).getOr(e3);
            })(a4)), ((e3, t3, n3, o4) => {
              Pv(t3, (t4) => {
                Nm(t4) && Pv(e3.dom.select(t4.inline, o4), (o5) => {
                  dv(o5) && Bv(e3, t4, n3, o5, t4.exact ? o5 : null);
                }), ((e4, t5, n4) => {
                  if (t5.clear_child_styles) {
                    const o5 = t5.links ? "*:not(a)" : "*";
                    lv(e4.select(o5, n4), (n5) => {
                      dv(n5) && e4.isEditable(n5) && lv(t5.styles, (t6, o6) => {
                        e4.setStyle(n5, o6, "");
                      });
                    });
                  }
                })(e3.dom, t4, o4);
              });
            })(e2, r2, n2, a4), ((e3, t3, n3, o4, r3) => {
              const s3 = r3.parentNode;
              jb(e3, s3, n3, o4) && Bv(e3, t3, o4, r3) || t3.merge_with_parents && s3 && e3.dom.getParent(s3, (s4) => !!jb(e3, s4, n3, o4) && (Bv(e3, t3, o4, r3), true));
            })(e2, s2, t2, n2, a4), ((e3, t3, n3, o4) => {
              if (t3.styles && t3.styles.backgroundColor) {
                const r3 = gv(e3, "fontSize");
                fv(o4, (t4) => r3(t4) && e3.isEditable(t4), pv(e3, "backgroundColor", vm(t3.styles.backgroundColor, n3)));
              }
            })(o3, s2, n2, a4), ((e3, t3, n3, o4) => {
              const r3 = (t4) => {
                if (Vo(t4) && qo(t4.parentNode) && e3.isEditable(t4)) {
                  const n4 = xm(e3, t4.parentNode);
                  e3.getStyle(t4, "color") && n4 ? e3.setStyle(t4, "text-decoration", n4) : e3.getStyle(t4, "text-decoration") === n4 && e3.setStyle(t4, "text-decoration", null);
                }
              };
              t3.styles && (t3.styles.color || t3.styles.textDecoration) && (Pt.walk(o4, r3, "childNodes"), r3(o4));
            })(o3, s2, 0, a4), ((e3, t3, n3, o4) => {
              if (Nm(t3) && ("sub" === t3.inline || "sup" === t3.inline)) {
                const n4 = gv(e3, "fontSize");
                fv(o4, (t4) => n4(t4) && e3.isEditable(t4), pv(e3, "fontSize", ""));
                const r3 = Y(e3.select("sup" === t3.inline ? "sub" : "sup", o4), e3.isEditable);
                e3.remove(r3, true);
              }
            })(o3, s2, 0, a4), mv(e2, s2, 0, a4)) : o3.remove(a4, true);
          });
        }, g2 = dm(o2) ? o2 : l2.getNode();
        if ("false" === i2.getContentEditable(g2) && !bm(e2, g2)) return c2(r2, o2 = g2), void tf(e2, t2, o2, n2);
        if (s2) {
          if (o2) if (dm(o2)) {
            if (!c2(r2, o2)) {
              const e3 = i2.createRng();
              e3.setStartBefore(o2), e3.setEndAfter(o2), f2(i2, Vm(i2, e3, r2), true);
            }
          } else f2(i2, o2, true);
          else a2 && Nm(s2) && !em(e2).length ? ((e3, t3, n3) => {
            let o3;
            const r3 = e3.selection, s3 = e3.formatter.get(t3);
            if (!s3) return;
            const a3 = r3.getRng();
            let i3 = a3.startOffset;
            const l3 = a3.startContainer.nodeValue;
            o3 = Lu(e3.getBody(), r3.getStart());
            const d3 = /[^\s\u00a0\u00ad\u200b\ufeff]/;
            if (l3 && i3 > 0 && i3 < l3.length && d3.test(l3.charAt(i3)) && d3.test(l3.charAt(i3 - 1))) {
              const o4 = r3.getBookmark();
              a3.collapse(true);
              let i4 = Vm(e3.dom, a3, s3);
              i4 = Ff(i4), e3.formatter.apply(t3, n3, i4), r3.moveToBookmark(o4);
            } else {
              let s4 = o3 ? qb(o3) : null;
              o3 && (null == s4 ? void 0 : s4.data) === $b || (c3 = e3.getDoc(), u3 = Vb(true).dom, o3 = c3.importNode(u3, true), s4 = o3.firstChild, a3.insertNode(o3), i3 = 1), e3.formatter.apply(t3, n3, o3), r3.setCursorLocation(s4, i3);
            }
            var c3, u3;
          })(e2, t2, n2) : (l2.setRng(Eb(l2.getRng())), um(e2, () => {
            im(e2, (e3, t3) => {
              const n3 = t3 ? e3 : Vm(i2, e3, r2);
              f2(i2, n3, false);
            });
          }, M), e2.nodeChanged()), ov(e2.formatter, t2).each((t3) => {
            V(((e3) => Y(((e4) => {
              const t4 = e4.getSelectedBlocks(), n3 = e4.getRng();
              if (e4.isCollapsed()) return [];
              if (1 === t4.length) return rv(n3, t4[0]) && sv(n3, t4[0]) ? t4 : [];
              {
                const e5 = le(t4).filter((e6) => rv(n3, e6)).toArray(), o3 = de(t4).filter((e6) => sv(n3, e6)).toArray(), r3 = t4.slice(1, -1);
                return e5.concat(r3).concat(o3);
              }
            })(e3), av(e3.dom)))(e2.selection), (e3) => Lv(i2, e3, t3, n2));
          });
          ((e3, t3) => {
            Ee(ev, e3) && V(ev[e3], (e4) => {
              e4(t3);
            });
          })(t2, e2);
        }
        tf(e2, t2, o2, n2);
      }, Iv = (e2, t2, n2, o2) => {
        (o2 || e2.selection.isEditable()) && Mv(e2, t2, n2, o2);
      }, Fv = (e2) => Ee(e2, "vars"), Uv = (e2) => e2.selection.getStart(), zv = (e2, t2, n2, o2, r2) => Q(t2, (t3) => {
        const s2 = e2.formatter.matchNode(t3, n2, null != r2 ? r2 : {}, o2);
        return !v(s2);
      }, (t3) => !!Ib(e2, t3, n2) || !o2 && C(e2.formatter.matchNode(t3, n2, r2, true))), jv = (e2, t2) => {
        const n2 = null != t2 ? t2 : Uv(e2);
        return Y(Em(e2.dom, n2), (e3) => qo(e3) && !Xo(e3));
      }, Hv = (e2, t2, n2) => {
        const o2 = jv(e2, t2);
        ge(n2, (n3, r2) => {
          const s2 = (n4) => {
            const s3 = zv(e2, o2, r2, n4.similar, Fv(n4) ? n4.vars : void 0), a2 = s3.isSome();
            if (n4.state.get() !== a2) {
              n4.state.set(a2);
              const e3 = s3.getOr(t2);
              Fv(n4) ? n4.callback(a2, { node: e3, format: r2, parents: o2 }) : V(n4.callbacks, (t3) => t3(a2, { node: e3, format: r2, parents: o2 }));
            }
          };
          V([n3.withSimilar, n3.withoutSimilar], s2), V(n3.withVars, s2);
        });
      }, $v = Pt.explode, qv = () => {
        const e2 = {};
        return { addFilter: (t2, n2) => {
          V($v(t2), (t3) => {
            Ee(e2, t3) || (e2[t3] = { name: t3, callbacks: [] }), e2[t3].callbacks.push(n2);
          });
        }, getFilters: () => we(e2), removeFilter: (t2, n2) => {
          V($v(t2), (t3) => {
            if (Ee(e2, t3)) if (C(n2)) {
              const o2 = e2[t3], r2 = Y(o2.callbacks, (e3) => e3 !== n2);
              r2.length > 0 ? o2.callbacks = r2 : delete e2[t3];
            } else delete e2[t3];
          });
        } };
      }, Vv = (e2, t2, n2) => {
        var o2;
        const r2 = wa();
        t2.convert_fonts_to_spans && ((e3, t3, n3) => {
          e3.addNodeFilter("font", (e4) => {
            V(e4, (e5) => {
              const o3 = t3.parse(e5.attr("style")), r3 = e5.attr("color"), s2 = e5.attr("face"), a2 = e5.attr("size");
              r3 && (o3.color = r3), s2 && (o3["font-family"] = s2), a2 && Xe(a2).each((e6) => {
                o3["font-size"] = n3[e6 - 1];
              }), e5.name = "span", e5.attr("style", t3.serialize(o3)), ((e6, t4) => {
                V(["color", "face", "size"], (t5) => {
                  e6.attr(t5, null);
                });
              })(e5);
            });
          });
        })(e2, r2, Pt.explode(null !== (o2 = t2.font_size_legacy_values) && void 0 !== o2 ? o2 : "")), ((e3, t3, n3) => {
          e3.addNodeFilter("strike", (e4) => {
            const o3 = "html4" !== t3.type;
            V(e4, (e5) => {
              if (o3) e5.name = "s";
              else {
                const t4 = n3.parse(e5.attr("style"));
                t4["text-decoration"] = "line-through", e5.name = "span", e5.attr("style", n3.serialize(t4));
              }
            });
          });
        })(e2, n2, r2);
      }, Wv = (e2, t2, n2) => {
        t2.addNodeFilter("br", (t3, o2, r2) => {
          const s2 = Pt.extend({}, n2.getBlockElements()), a2 = n2.getNonEmptyElements(), i2 = n2.getWhitespaceElements();
          s2.body = 1;
          const l2 = (e3) => e3.name in s2 || Bs(n2, e3);
          for (let o3 = 0, d2 = t3.length; o3 < d2; o3++) {
            let d3 = t3[o3], c2 = d3.parent;
            if (c2 && l2(c2) && d3 === c2.lastChild) {
              let t4 = d3.prev;
              for (; t4; ) {
                const e3 = t4.name;
                if ("span" !== e3 || "bookmark" !== t4.attr("data-mce-type")) {
                  "br" === e3 && (d3 = null);
                  break;
                }
                t4 = t4.prev;
              }
              if (d3 && (d3.remove(), vb(n2, a2, i2, c2))) {
                const t5 = n2.getElementRule(c2.name);
                t5 && (t5.removeEmpty ? c2.remove() : t5.paddEmpty && hb(e2, r2, l2, c2));
              }
            } else {
              let e3 = d3;
              for (; c2 && c2.firstChild === e3 && c2.lastChild === e3 && (e3 = c2, !s2[c2.name]); ) c2 = c2.parent;
              if (e3 === c2) {
                const e4 = new Wg("#text", 3);
                e4.value = br, d3.replace(e4);
              }
            }
          }
        });
      }, Kv = (e2) => {
        const [t2, ...n2] = e2.split(","), o2 = n2.join(","), r2 = /data:([^/]+\/[^;]+)(;.+)?/.exec(t2);
        if (r2) {
          const e3 = ";base64" === r2[2], t3 = e3 ? ((e4) => {
            const t4 = /([a-z0-9+\/=\s]+)/i.exec(e4);
            return t4 ? t4[1] : "";
          })(o2) : decodeURIComponent(o2);
          return I.some({ type: r2[1], data: t3, base64Encoded: e3 });
        }
        return I.none();
      }, Yv = (e2, t2, n2 = true) => {
        let o2 = t2;
        if (n2) try {
          o2 = atob(t2);
        } catch (e3) {
          return I.none();
        }
        const r2 = new Uint8Array(o2.length);
        for (let e3 = 0; e3 < r2.length; e3++) r2[e3] = o2.charCodeAt(e3);
        return I.some(new Blob([r2], { type: e2 }));
      }, Gv = (e2) => new Promise((t2, n2) => {
        const o2 = new FileReader();
        o2.onloadend = () => {
          t2(o2.result);
        }, o2.onerror = () => {
          var e3;
          n2(null === (e3 = o2.error) || void 0 === e3 ? void 0 : e3.message);
        }, o2.readAsDataURL(e2);
      });
      let Xv = 0;
      const Qv = (e2, t2, n2) => Kv(e2).bind(({ data: e3, type: o2, base64Encoded: r2 }) => {
        if (t2 && !r2) return I.none();
        {
          const t3 = r2 ? e3 : btoa(e3);
          return n2(t3, o2);
        }
      }), Jv = (e2, t2, n2) => {
        const o2 = e2.create("blobid" + Xv++, t2, n2);
        return e2.add(o2), o2;
      }, Zv = (e2, t2, n2 = false) => Qv(t2, n2, (t3, n3) => I.from(e2.getByData(t3, n3)).orThunk(() => Yv(n3, t3).map((n4) => Jv(e2, n4, t3)))), ey = (e2, t2) => He(e2, `${t2}/`), ty = (e2, t2) => {
        const n2 = e2.schema;
        t2.remove_trailing_brs && Wv(t2, e2, n2), e2.addAttributeFilter("href", (e3) => {
          let n3 = e3.length;
          const o3 = (e4) => {
            const t3 = e4 ? Pt.trim(e4) : "";
            return /\b(noopener)\b/g.test(t3) ? t3 : ((e5) => e5.split(" ").filter((e6) => e6.length > 0).concat(["noopener"]).sort().join(" "))(t3);
          };
          if (!t2.allow_unsafe_link_target) for (; n3--; ) {
            const t3 = e3[n3];
            "a" === t3.name && "_blank" === t3.attr("target") && t3.attr("rel", o3(t3.attr("rel")));
          }
        }), t2.allow_html_in_named_anchor || e2.addAttributeFilter("id,name", (e3) => {
          let t3, n3, o3, r2, s2 = e3.length;
          for (; s2--; ) if (r2 = e3[s2], "a" === r2.name && r2.firstChild && !r2.attr("href")) for (o3 = r2.parent, t3 = r2.lastChild; t3 && o3; ) n3 = t3.prev, o3.insert(t3, r2), t3 = n3;
        }), t2.fix_list_elements && e2.addNodeFilter("ul,ol", (e3) => {
          let t3, n3, o3 = e3.length;
          for (; o3--; ) if (t3 = e3[o3], n3 = t3.parent, n3 && ("ul" === n3.name || "ol" === n3.name)) if (t3.prev && "li" === t3.prev.name) t3.prev.append(t3);
          else {
            const e4 = new Wg("li", 1);
            e4.attr("style", "list-style-type: none"), t3.wrap(e4);
          }
        });
        const o2 = n2.getValidClasses();
        t2.validate && o2 && e2.addAttributeFilter("class", (e3) => {
          var t3;
          let n3 = e3.length;
          for (; n3--; ) {
            const r2 = e3[n3], s2 = null !== (t3 = r2.attr("class")) && void 0 !== t3 ? t3 : "", a2 = Pt.explode(s2, " ");
            let i2 = "";
            for (let e4 = 0; e4 < a2.length; e4++) {
              const t4 = a2[e4];
              let n4 = false, s3 = o2["*"];
              s3 && s3[t4] && (n4 = true), s3 = o2[r2.name], !n4 && s3 && s3[t4] && (n4 = true), n4 && (i2 && (i2 += " "), i2 += t4);
            }
            i2.length || (i2 = null), r2.attr("class", i2);
          }
        }), ((e3, t3) => {
          const { blob_cache: n3 } = t3;
          if (n3) {
            const t4 = (e4) => {
              const t5 = e4.attr("src");
              ((e5) => e5.attr("src") === At.transparentSrc || C(e5.attr("data-mce-placeholder")))(e4) || ((e5) => C(e5.attr("data-mce-bogus")))(e4) || y(t5) || Zv(n3, t5, true).each((t6) => {
                e4.attr("src", t6.blobUri());
              });
            };
            e3.addAttributeFilter("src", (e4) => V(e4, t4));
          }
        })(e2, t2), t2.convert_unsafe_embeds && e2.addNodeFilter("object,embed", (e3) => V(e3, (e4) => {
          e4.replace(((e5, t3, n3, o3, r2) => {
            let s2;
            s2 = v(e5) ? "iframe" : ey(e5, "image") ? "img" : ey(e5, "video") ? "video" : ey(e5, "audio") ? "audio" : "iframe";
            const a2 = new Wg(s2, 1);
            return a2.attr("audio" === s2 ? { src: t3 } : { src: t3, width: n3, height: o3 }), "audio" !== s2 && "video" !== s2 || a2.attr("controls", ""), "iframe" === s2 && r2 && a2.attr("sandbox", ""), a2;
          })(e4.attr("type"), "object" === e4.name ? e4.attr("data") : e4.attr("src"), e4.attr("width"), e4.attr("height"), t2.sandbox_iframes));
        })), t2.sandbox_iframes && e2.addNodeFilter("iframe", (e3) => V(e3, (e4) => e4.attr("sandbox", "")));
      }, { entries: ny, setPrototypeOf: oy, isFrozen: ry, getPrototypeOf: sy, getOwnPropertyDescriptor: ay } = Object;
      let { freeze: iy, seal: ly, create: dy } = Object, { apply: cy, construct: uy } = "undefined" != typeof Reflect && Reflect;
      iy || (iy = function(e2) {
        return e2;
      }), ly || (ly = function(e2) {
        return e2;
      }), cy || (cy = function(e2, t2, n2) {
        return e2.apply(t2, n2);
      }), uy || (uy = function(e2, t2) {
        return new e2(...t2);
      });
      const my = Sy(Array.prototype.forEach), fy = Sy(Array.prototype.pop), gy = Sy(Array.prototype.push), py = Sy(String.prototype.toLowerCase), hy = Sy(String.prototype.toString), by = Sy(String.prototype.match), vy = Sy(String.prototype.replace), yy = Sy(String.prototype.indexOf), Cy = Sy(String.prototype.trim), wy = Sy(Object.prototype.hasOwnProperty), xy = Sy(RegExp.prototype.test), Ey = (_y = TypeError, function() {
        for (var e2 = arguments.length, t2 = new Array(e2), n2 = 0; n2 < e2; n2++) t2[n2] = arguments[n2];
        return uy(_y, t2);
      });
      var _y;
      function Sy(e2) {
        return function(t2) {
          for (var n2 = arguments.length, o2 = new Array(n2 > 1 ? n2 - 1 : 0), r2 = 1; r2 < n2; r2++) o2[r2 - 1] = arguments[r2];
          return cy(e2, t2, o2);
        };
      }
      function ky(e2, t2) {
        let n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : py;
        oy && // Make 'in' and truthy checks like Boolean(set.constructor)
        // independent of any properties defined on Object.prototype.
        // Prevent prototype setters from intercepting set as a this value.
        oy(e2, null);
        let o2 = t2.length;
        for (; o2--; ) {
          let r2 = t2[o2];
          if ("string" == typeof r2) {
            const e3 = n2(r2);
            e3 !== r2 && // Config presets (e.g. tags.js, attrs.js) are immutable.
            (ry(t2) || (t2[o2] = e3), r2 = e3);
          }
          e2[r2] = true;
        }
        return e2;
      }
      function Ny(e2) {
        for (let t2 = 0; t2 < e2.length; t2++) wy(e2, t2) || (e2[t2] = null);
        return e2;
      }
      function Ry(e2) {
        const t2 = dy(null);
        for (const [n2, o2] of ny(e2)) wy(e2, n2) && (Array.isArray(o2) ? t2[n2] = Ny(o2) : o2 && "object" == typeof o2 && o2.constructor === Object ? t2[n2] = Ry(o2) : t2[n2] = o2);
        return t2;
      }
      function Ay(e2, t2) {
        for (; null !== e2; ) {
          const n2 = ay(e2, t2);
          if (n2) {
            if (n2.get) return Sy(n2.get);
            if ("function" == typeof n2.value) return Sy(n2.value);
          }
          e2 = sy(e2);
        }
        return function() {
          return null;
        };
      }
      const Ty = iy(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), Oy = iy(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]), By = iy(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), Py = iy(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]), Dy = iy(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]), Ly = iy(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]), My = iy(["#text"]), Iy = iy(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"]), Fy = iy(["accent-height", "accumulate", "additive", "alignment-baseline", "amplitude", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "exponent", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "intercept", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "slope", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "tablevalues", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), Uy = iy(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), zy = iy(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), jy = ly(/\{\{[\w\W]*|[\w\W]*\}\}/gm), Hy = ly(/<%[\w\W]*|[\w\W]*%>/gm), $y = ly(/\${[\w\W]*}/gm), qy = ly(/^data-[\-\w.\u00B7-\uFFFF]/), Vy = ly(/^aria-[\-\w]+$/), Wy = ly(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), Ky = ly(/^(?:\w+script|data):/i), Yy = ly(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g), Gy = ly(/^html$/i), Xy = ly(/^[a-z][.\w]*(-[.\w]+)+$/i);
      var Qy = Object.freeze({ __proto__: null, MUSTACHE_EXPR: jy, ERB_EXPR: Hy, TMPLIT_EXPR: $y, DATA_ATTR: qy, ARIA_ATTR: Vy, IS_ALLOWED_URI: Wy, IS_SCRIPT_OR_DATA: Ky, ATTR_WHITESPACE: Yy, DOCTYPE_NAME: Gy, CUSTOM_ELEMENT: Xy });
      const Jy = function() {
        return "undefined" == typeof window ? null : window;
      };
      var Zy = function e2() {
        let t2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Jy();
        const n2 = (t3) => e2(t3);
        if (n2.version = "3.1.7", /**
               * Array of elements that DOMPurify removed during sanitation.
               * Empty if nothing was removed.
               */
        n2.removed = [], !t2 || !t2.document || 9 !== t2.document.nodeType)
          return n2.isSupported = false, n2;
        let { document: o2 } = t2;
        const r2 = o2, s2 = r2.currentScript, { DocumentFragment: a2, HTMLTemplateElement: i2, Node: l2, Element: d2, NodeFilter: c2, NamedNodeMap: u2 = t2.NamedNodeMap || t2.MozNamedAttrMap, HTMLFormElement: m2, DOMParser: f2, trustedTypes: g2 } = t2, p2 = d2.prototype, h2 = Ay(p2, "cloneNode"), b2 = Ay(p2, "remove"), v2 = Ay(p2, "nextSibling"), y2 = Ay(p2, "childNodes"), C2 = Ay(p2, "parentNode");
        if ("function" == typeof i2) {
          const e3 = o2.createElement("template");
          e3.content && e3.content.ownerDocument && (o2 = e3.content.ownerDocument);
        }
        let w2, x2 = "";
        const { implementation: E2, createNodeIterator: _2, createDocumentFragment: S2, getElementsByTagName: k2 } = o2, { importNode: N2 } = r2;
        let R2 = {};
        n2.isSupported = "function" == typeof ny && "function" == typeof C2 && E2 && void 0 !== E2.createHTMLDocument;
        const { MUSTACHE_EXPR: A2, ERB_EXPR: T2, TMPLIT_EXPR: O2, DATA_ATTR: B2, ARIA_ATTR: P2, IS_SCRIPT_OR_DATA: D2, ATTR_WHITESPACE: L2, CUSTOM_ELEMENT: M2 } = Qy;
        let { IS_ALLOWED_URI: I2 } = Qy, F2 = null;
        const U2 = ky({}, [...Ty, ...Oy, ...By, ...Dy, ...My]);
        let z2 = null;
        const j2 = ky({}, [...Iy, ...Fy, ...Uy, ...zy]);
        let H2 = Object.seal(dy(null, { tagNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, attributeNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, allowCustomizedBuiltInElements: { writable: true, configurable: false, enumerable: true, value: false } })), $2 = null, q2 = null, V2 = true, W2 = true, K2 = false, Y2 = true, G2 = false, X2 = true, Q2 = false, J2 = false, Z2 = false, ee2 = false, te2 = false, ne2 = false, oe2 = true, re2 = false, se2 = true, ae2 = false, ie2 = {}, le2 = null;
        const de2 = ky({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);
        let ce2 = null;
        const ue2 = ky({}, ["audio", "video", "img", "source", "image", "track"]);
        let me2 = null;
        const fe2 = ky({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), ge2 = "http://www.w3.org/1998/Math/MathML", pe2 = "http://www.w3.org/2000/svg", he2 = "http://www.w3.org/1999/xhtml";
        let be2 = he2, ve2 = false, ye2 = null;
        const Ce2 = ky({}, [ge2, pe2, he2], hy);
        let we2 = null;
        const xe2 = ["application/xhtml+xml", "text/html"];
        let Ee2 = null, _e2 = null;
        const Se2 = o2.createElement("form"), ke2 = function(e3) {
          return e3 instanceof RegExp || e3 instanceof Function;
        }, Ne2 = function() {
          let e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          if (!_e2 || _e2 !== e3) {
            if (
              /* Shield configuration object from tampering */
              e3 && "object" == typeof e3 || (e3 = {}), e3 = Ry(e3), we2 = // eslint-disable-next-line unicorn/prefer-includes
              -1 === xe2.indexOf(e3.PARSER_MEDIA_TYPE) ? "text/html" : e3.PARSER_MEDIA_TYPE, // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.
              Ee2 = "application/xhtml+xml" === we2 ? hy : py, /* Set configuration parameters */
              F2 = wy(e3, "ALLOWED_TAGS") ? ky({}, e3.ALLOWED_TAGS, Ee2) : U2, z2 = wy(e3, "ALLOWED_ATTR") ? ky({}, e3.ALLOWED_ATTR, Ee2) : j2, ye2 = wy(e3, "ALLOWED_NAMESPACES") ? ky({}, e3.ALLOWED_NAMESPACES, hy) : Ce2, me2 = wy(e3, "ADD_URI_SAFE_ATTR") ? ky(
                Ry(fe2),
                // eslint-disable-line indent
                e3.ADD_URI_SAFE_ATTR,
                // eslint-disable-line indent
                Ee2
              ) : fe2, ce2 = wy(e3, "ADD_DATA_URI_TAGS") ? ky(
                Ry(ue2),
                // eslint-disable-line indent
                e3.ADD_DATA_URI_TAGS,
                // eslint-disable-line indent
                Ee2
              ) : ue2, le2 = wy(e3, "FORBID_CONTENTS") ? ky({}, e3.FORBID_CONTENTS, Ee2) : de2, $2 = wy(e3, "FORBID_TAGS") ? ky({}, e3.FORBID_TAGS, Ee2) : {}, q2 = wy(e3, "FORBID_ATTR") ? ky({}, e3.FORBID_ATTR, Ee2) : {}, ie2 = !!wy(e3, "USE_PROFILES") && e3.USE_PROFILES, V2 = false !== e3.ALLOW_ARIA_ATTR, // Default true
              W2 = false !== e3.ALLOW_DATA_ATTR, // Default true
              K2 = e3.ALLOW_UNKNOWN_PROTOCOLS || false, // Default false
              Y2 = false !== e3.ALLOW_SELF_CLOSE_IN_ATTR, // Default true
              G2 = e3.SAFE_FOR_TEMPLATES || false, // Default false
              X2 = false !== e3.SAFE_FOR_XML, // Default true
              Q2 = e3.WHOLE_DOCUMENT || false, // Default false
              ee2 = e3.RETURN_DOM || false, // Default false
              te2 = e3.RETURN_DOM_FRAGMENT || false, // Default false
              ne2 = e3.RETURN_TRUSTED_TYPE || false, // Default false
              Z2 = e3.FORCE_BODY || false, // Default false
              oe2 = false !== e3.SANITIZE_DOM, // Default true
              re2 = e3.SANITIZE_NAMED_PROPS || false, // Default false
              se2 = false !== e3.KEEP_CONTENT, // Default true
              ae2 = e3.IN_PLACE || false, // Default false
              I2 = e3.ALLOWED_URI_REGEXP || Wy, be2 = e3.NAMESPACE || he2, H2 = e3.CUSTOM_ELEMENT_HANDLING || {}, e3.CUSTOM_ELEMENT_HANDLING && ke2(e3.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (H2.tagNameCheck = e3.CUSTOM_ELEMENT_HANDLING.tagNameCheck), e3.CUSTOM_ELEMENT_HANDLING && ke2(e3.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (H2.attributeNameCheck = e3.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), e3.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof e3.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (H2.allowCustomizedBuiltInElements = e3.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), G2 && (W2 = false), te2 && (ee2 = true), ie2 && (F2 = ky({}, My), z2 = [], true === ie2.html && (ky(F2, Ty), ky(z2, Iy)), true === ie2.svg && (ky(F2, Oy), ky(z2, Fy), ky(z2, zy)), true === ie2.svgFilters && (ky(F2, By), ky(z2, Fy), ky(z2, zy)), true === ie2.mathMl && (ky(F2, Dy), ky(z2, Uy), ky(z2, zy))), e3.ADD_TAGS && (F2 === U2 && (F2 = Ry(F2)), ky(F2, e3.ADD_TAGS, Ee2)), e3.ADD_ATTR && (z2 === j2 && (z2 = Ry(z2)), ky(z2, e3.ADD_ATTR, Ee2)), e3.ADD_URI_SAFE_ATTR && ky(me2, e3.ADD_URI_SAFE_ATTR, Ee2), e3.FORBID_CONTENTS && (le2 === de2 && (le2 = Ry(le2)), ky(le2, e3.FORBID_CONTENTS, Ee2)), se2 && (F2["#text"] = true), Q2 && ky(F2, ["html", "head", "body"]), F2.table && (ky(F2, ["tbody"]), delete $2.tbody), e3.TRUSTED_TYPES_POLICY
            ) {
              if ("function" != typeof e3.TRUSTED_TYPES_POLICY.createHTML) throw Ey('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
              if ("function" != typeof e3.TRUSTED_TYPES_POLICY.createScriptURL) throw Ey('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
              w2 = e3.TRUSTED_TYPES_POLICY, // Sign local variables required by `sanitize`.
              x2 = w2.createHTML("");
            } else
              void 0 === w2 && (w2 = function(e4, t3) {
                if ("object" != typeof e4 || "function" != typeof e4.createPolicy) return null;
                let n3 = null;
                const o3 = "data-tt-policy-suffix";
                t3 && t3.hasAttribute(o3) && (n3 = t3.getAttribute(o3));
                const r3 = "dompurify" + (n3 ? "#" + n3 : "");
                try {
                  return e4.createPolicy(r3, { createHTML: (e5) => e5, createScriptURL: (e5) => e5 });
                } catch (e5) {
                  return console.warn("TrustedTypes policy " + r3 + " could not be created."), null;
                }
              }(g2, s2)), // If creating the internal policy succeeded sign internal variables.
              null !== w2 && "string" == typeof x2 && (x2 = w2.createHTML(""));
            iy && iy(e3), _e2 = e3;
          }
        }, Re2 = ky({}, ["mi", "mo", "mn", "ms", "mtext"]), Ae2 = ky({}, ["annotation-xml"]), Te2 = ky({}, ["title", "style", "font", "a", "script"]), Oe2 = ky({}, [...Oy, ...By, ...Py]), Be2 = ky({}, [...Dy, ...Ly]), Pe2 = function(e3) {
          gy(n2.removed, { element: e3 });
          try {
            C2(e3).removeChild(e3);
          } catch (t3) {
            b2(e3);
          }
        }, De2 = function(e3, t3) {
          try {
            gy(n2.removed, { attribute: t3.getAttributeNode(e3), from: t3 });
          } catch (e4) {
            gy(n2.removed, { attribute: null, from: t3 });
          }
          if (t3.removeAttribute(e3), "is" === e3 && !z2[e3]) if (ee2 || te2) try {
            Pe2(t3);
          } catch (e4) {
          }
          else try {
            t3.setAttribute(e3, "");
          } catch (e4) {
          }
        }, Le2 = function(e3) {
          let t3 = null, n3 = null;
          if (Z2) e3 = "<remove></remove>" + e3;
          else {
            const t4 = by(e3, /^[\r\n\t ]+/);
            n3 = t4 && t4[0];
          }
          "application/xhtml+xml" === we2 && be2 === he2 && // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)
          (e3 = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e3 + "</body></html>");
          const r3 = w2 ? w2.createHTML(e3) : e3;
          if (be2 === he2) try {
            t3 = new f2().parseFromString(r3, we2);
          } catch (e4) {
          }
          if (!t3 || !t3.documentElement) {
            t3 = E2.createDocument(be2, "template", null);
            try {
              t3.documentElement.innerHTML = ve2 ? x2 : r3;
            } catch (e4) {
            }
          }
          const s3 = t3.body || t3.documentElement;
          return e3 && n3 && s3.insertBefore(o2.createTextNode(n3), s3.childNodes[0] || null), be2 === he2 ? k2.call(t3, Q2 ? "html" : "body")[0] : Q2 ? t3.documentElement : s3;
        }, Me2 = function(e3) {
          return _2.call(
            e3.ownerDocument || e3,
            e3,
            // eslint-disable-next-line no-bitwise
            c2.SHOW_ELEMENT | c2.SHOW_COMMENT | c2.SHOW_TEXT | c2.SHOW_PROCESSING_INSTRUCTION | c2.SHOW_CDATA_SECTION,
            null
          );
        }, Ie2 = function(e3) {
          return e3 instanceof m2 && ("string" != typeof e3.nodeName || "string" != typeof e3.textContent || "function" != typeof e3.removeChild || !(e3.attributes instanceof u2) || "function" != typeof e3.removeAttribute || "function" != typeof e3.setAttribute || "string" != typeof e3.namespaceURI || "function" != typeof e3.insertBefore || "function" != typeof e3.hasChildNodes);
        }, Fe2 = function(e3) {
          return "function" == typeof l2 && e3 instanceof l2;
        }, Ue2 = function(e3, t3, o3) {
          R2[e3] && my(R2[e3], (e4) => {
            e4.call(n2, t3, o3, _e2);
          });
        }, ze2 = function(e3) {
          let t3 = null;
          if (Ue2("beforeSanitizeElements", e3, null), Ie2(e3)) return Pe2(e3), true;
          const o3 = Ee2(e3.nodeName);
          if (Ue2("uponSanitizeElement", e3, { tagName: o3, allowedTags: F2 }), e3.hasChildNodes() && !Fe2(e3.firstElementChild) && xy(/<[/\w]/g, e3.innerHTML) && xy(/<[/\w]/g, e3.textContent)) return Pe2(e3), true;
          if (7 === e3.nodeType) return Pe2(e3), true;
          if (X2 && 8 === e3.nodeType && xy(/<[/\w]/g, e3.data)) return Pe2(e3), true;
          if (!F2[o3] || $2[o3]) {
            if (!$2[o3] && He2(o3)) {
              if (H2.tagNameCheck instanceof RegExp && xy(H2.tagNameCheck, o3)) return false;
              if (H2.tagNameCheck instanceof Function && H2.tagNameCheck(o3)) return false;
            }
            if (se2 && !le2[o3]) {
              const t4 = C2(e3) || e3.parentNode, n3 = y2(e3) || e3.childNodes;
              if (n3 && t4) for (let o4 = n3.length - 1; o4 >= 0; --o4) {
                const r3 = h2(n3[o4], true);
                r3.__removalCount = (e3.__removalCount || 0) + 1, t4.insertBefore(r3, v2(e3));
              }
            }
            return Pe2(e3), true;
          }
          return e3 instanceof d2 && !function(e4) {
            let t4 = C2(e4);
            t4 && t4.tagName || (t4 = { namespaceURI: be2, tagName: "template" });
            const n3 = py(e4.tagName), o4 = py(t4.tagName);
            return !!ye2[e4.namespaceURI] && (e4.namespaceURI === pe2 ? (
              // The only way to switch from HTML namespace to SVG
              // is via <svg>. If it happens via any other tag, then
              // it should be killed.
              t4.namespaceURI === he2 ? "svg" === n3 : (
                // The only way to switch from MathML to SVG is via`
                // svg if parent is either <annotation-xml> or MathML
                // text integration points.
                t4.namespaceURI === ge2 ? "svg" === n3 && ("annotation-xml" === o4 || Re2[o4]) : Boolean(Oe2[n3])
              )
            ) : e4.namespaceURI === ge2 ? (
              // The only way to switch from HTML namespace to MathML
              // is via <math>. If it happens via any other tag, then
              // it should be killed.
              t4.namespaceURI === he2 ? "math" === n3 : (
                // The only way to switch from SVG to MathML is via
                // <math> and HTML integration points
                t4.namespaceURI === pe2 ? "math" === n3 && Ae2[o4] : Boolean(Be2[n3])
              )
            ) : e4.namespaceURI === he2 ? (
              // The only way to switch from SVG to HTML is via
              // HTML integration points, and from MathML to HTML
              // is via MathML text integration points
              !(t4.namespaceURI === pe2 && !Ae2[o4]) && !(t4.namespaceURI === ge2 && !Re2[o4]) && !Be2[n3] && (Te2[n3] || !Oe2[n3])
            ) : !("application/xhtml+xml" !== we2 || !ye2[e4.namespaceURI]));
          }(e3) ? (Pe2(e3), true) : (
            /* Make sure that older browsers don't get fallback-tag mXSS */
            "noscript" !== o3 && "noembed" !== o3 && "noframes" !== o3 || !xy(/<\/no(script|embed|frames)/i, e3.innerHTML) ? (
              /* Sanitize element content to be template-safe */
              (G2 && 3 === e3.nodeType && /* Get the element's text content */
              (t3 = e3.textContent, my([A2, T2, O2], (e4) => {
                t3 = vy(t3, e4, " ");
              }), e3.textContent !== t3 && (gy(n2.removed, { element: e3.cloneNode() }), e3.textContent = t3)), Ue2("afterSanitizeElements", e3, null), false)
            ) : (Pe2(e3), true)
          );
        }, je2 = function(e3, t3, n3) {
          if (oe2 && ("id" === t3 || "name" === t3) && (n3 in o2 || n3 in Se2)) return false;
          if (W2 && !q2[t3] && xy(B2, t3)) ;
          else if (V2 && xy(P2, t3)) ;
          else if (!z2[t3] || q2[t3]) {
            if (
              // First condition does a very basic check if a) it's basically a valid custom element tagname AND
              // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
              // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck
              !(He2(e3) && (H2.tagNameCheck instanceof RegExp && xy(H2.tagNameCheck, e3) || H2.tagNameCheck instanceof Function && H2.tagNameCheck(e3)) && (H2.attributeNameCheck instanceof RegExp && xy(H2.attributeNameCheck, t3) || H2.attributeNameCheck instanceof Function && H2.attributeNameCheck(t3)) || // Alternative, second condition checks if it's an `is`-attribute, AND
              // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
              "is" === t3 && H2.allowCustomizedBuiltInElements && (H2.tagNameCheck instanceof RegExp && xy(H2.tagNameCheck, n3) || H2.tagNameCheck instanceof Function && H2.tagNameCheck(n3)))
            ) return false;
          } else if (me2[t3]) ;
          else if (xy(I2, vy(n3, L2, ""))) ;
          else if ("src" !== t3 && "xlink:href" !== t3 && "href" !== t3 || "script" === e3 || 0 !== yy(n3, "data:") || !ce2[e3]) {
            if (K2 && !xy(D2, vy(n3, L2, ""))) ;
            else if (n3) return false;
          }
          return true;
        }, He2 = function(e3) {
          return "annotation-xml" !== e3 && by(e3, M2);
        }, $e2 = function(e3) {
          Ue2("beforeSanitizeAttributes", e3, null);
          const { attributes: t3 } = e3;
          if (!t3) return;
          const o3 = { attrName: "", attrValue: "", keepAttr: true, allowedAttributes: z2 };
          let r3 = t3.length;
          for (; r3--; ) {
            const s3 = t3[r3], { name: a3, namespaceURI: i3, value: l3 } = s3, d3 = Ee2(a3);
            let c3 = "value" === a3 ? l3 : Cy(l3);
            const u3 = c3;
            if (o3.attrName = d3, o3.attrValue = c3, o3.keepAttr = true, o3.forceKeepAttr = void 0, // Allows developers to see this is a property they can set
            Ue2("uponSanitizeAttribute", e3, o3), c3 = o3.attrValue, o3.forceKeepAttr) continue;
            if (!o3.keepAttr) {
              De2(a3, e3);
              continue;
            }
            if (!Y2 && xy(/\/>/i, c3)) {
              De2(a3, e3);
              continue;
            }
            G2 && my([A2, T2, O2], (e4) => {
              c3 = vy(c3, e4, " ");
            });
            const m3 = Ee2(e3.nodeName);
            if (je2(m3, d3, c3))
              if (
                /* Full DOM Clobbering protection via namespace isolation,
                           * Prefix id and name attributes with `user-content-`
                           */
                !re2 || "id" !== d3 && "name" !== d3 || // Remove the attribute with this value
                (De2(a3, e3), // Prefix the value and later re-create the attribute with the sanitized value
                c3 = "user-content-" + c3), X2 && xy(/((--!?|])>)|<\/(style|title)/i, c3)
              ) De2(a3, e3);
              else {
                if (w2 && "object" == typeof g2 && "function" == typeof g2.getAttributeType) if (i3) ;
                else switch (g2.getAttributeType(m3, d3)) {
                  case "TrustedHTML":
                    c3 = w2.createHTML(c3);
                    break;
                  case "TrustedScriptURL":
                    c3 = w2.createScriptURL(c3);
                }
                if (c3 !== u3) try {
                  i3 ? e3.setAttributeNS(i3, a3, c3) : (
                    /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. "x-schema". */
                    e3.setAttribute(a3, c3)
                  ), Ie2(e3) ? Pe2(e3) : fy(n2.removed);
                } catch (e4) {
                }
              }
            else De2(a3, e3);
          }
          Ue2("afterSanitizeAttributes", e3, null);
        }, qe2 = function e3(t3) {
          let n3 = null;
          const o3 = Me2(t3);
          for (Ue2("beforeSanitizeShadowDOM", t3, null); n3 = o3.nextNode(); )
            Ue2("uponSanitizeShadowNode", n3, null), /* Sanitize tags and elements */
            ze2(n3) || /* Deep shadow DOM detected */
            (n3.content instanceof a2 && e3(n3.content), $e2(n3));
          Ue2("afterSanitizeShadowDOM", t3, null);
        };
        return n2.sanitize = function(e3) {
          let t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, o3 = null, s3 = null, i3 = null, d3 = null;
          if (
            /* Make sure we have a string to sanitize.
                      DO NOT return early, as this will return the wrong type if
                      the user has requested a DOM object rather than a string */
            ve2 = !e3, ve2 && (e3 = "<!-->"), "string" != typeof e3 && !Fe2(e3)
          ) {
            if ("function" != typeof e3.toString) throw Ey("toString is not a function");
            if ("string" != typeof (e3 = e3.toString())) throw Ey("dirty is not a string, aborting");
          }
          if (!n2.isSupported) return e3;
          if (J2 || Ne2(t3), n2.removed = [], /* Check if dirty is correctly typed for IN_PLACE */
          "string" == typeof e3 && (ae2 = false), ae2) {
            if (e3.nodeName) {
              const t4 = Ee2(e3.nodeName);
              if (!F2[t4] || $2[t4]) throw Ey("root node is forbidden and cannot be sanitized in-place");
            }
          } else if (e3 instanceof l2)
            o3 = Le2("<!---->"), s3 = o3.ownerDocument.importNode(e3, true), 1 === s3.nodeType && "BODY" === s3.nodeName || "HTML" === s3.nodeName ? (
              /* Node is already a body, use as is */
              o3 = s3
            ) : (
              // eslint-disable-next-line unicorn/prefer-dom-node-append
              o3.appendChild(s3)
            );
          else {
            if (!ee2 && !G2 && !Q2 && // eslint-disable-next-line unicorn/prefer-includes
            -1 === e3.indexOf("<")) return w2 && ne2 ? w2.createHTML(e3) : e3;
            if (o3 = Le2(e3), !o3) return ee2 ? null : ne2 ? x2 : "";
          }
          o3 && Z2 && Pe2(o3.firstChild);
          const c3 = Me2(ae2 ? e3 : o3);
          for (; i3 = c3.nextNode(); )
            ze2(i3) || /* Shadow DOM detected, sanitize it */
            (i3.content instanceof a2 && qe2(i3.content), $e2(i3));
          if (ae2) return e3;
          if (ee2) {
            if (te2) for (d3 = S2.call(o3.ownerDocument); o3.firstChild; )
              d3.appendChild(o3.firstChild);
            else d3 = o3;
            return (z2.shadowroot || z2.shadowrootmode) && /*
                          AdoptNode() is not used because internal state is not reset
                          (e.g. the past names map of a HTMLFormElement), this is safe
                          in theory but we would rather not risk another attack vector.
                          The state that is cloned by importNode() is explicitly defined
                          by the specs.
                        */
            (d3 = N2.call(r2, d3, true)), d3;
          }
          let u3 = Q2 ? o3.outerHTML : o3.innerHTML;
          return Q2 && F2["!doctype"] && o3.ownerDocument && o3.ownerDocument.doctype && o3.ownerDocument.doctype.name && xy(Gy, o3.ownerDocument.doctype.name) && (u3 = "<!DOCTYPE " + o3.ownerDocument.doctype.name + ">\n" + u3), G2 && my([A2, T2, O2], (e4) => {
            u3 = vy(u3, e4, " ");
          }), w2 && ne2 ? w2.createHTML(u3) : u3;
        }, /**
               * Public method to set the configuration once
               * setConfig
               *
               * @param {Object} cfg configuration object
               */
        n2.setConfig = function() {
          Ne2(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}), J2 = true;
        }, /**
               * Public method to remove the configuration
               * clearConfig
               *
               */
        n2.clearConfig = function() {
          _e2 = null, J2 = false;
        }, /**
               * Public method to check if an attribute value is valid.
               * Uses last set config, if any. Otherwise, uses config defaults.
               * isValidAttribute
               *
               * @param  {String} tag Tag name of containing element.
               * @param  {String} attr Attribute name.
               * @param  {String} value Attribute value.
               * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.
               */
        n2.isValidAttribute = function(e3, t3, n3) {
          _e2 || Ne2({});
          const o3 = Ee2(e3), r3 = Ee2(t3);
          return je2(o3, r3, n3);
        }, /**
               * AddHook
               * Public method to add DOMPurify hooks
               *
               * @param {String} entryPoint entry point for the hook to add
               * @param {Function} hookFunction function to execute
               */
        n2.addHook = function(e3, t3) {
          "function" == typeof t3 && (R2[e3] = R2[e3] || [], gy(R2[e3], t3));
        }, /**
               * RemoveHook
               * Public method to remove a DOMPurify hook at a given entryPoint
               * (pops it from the stack of hooks if more are present)
               *
               * @param {String} entryPoint entry point for the hook to remove
               * @return {Function} removed(popped) hook
               */
        n2.removeHook = function(e3) {
          if (R2[e3]) return fy(R2[e3]);
        }, /**
               * RemoveHooks
               * Public method to remove all DOMPurify hooks at a given entryPoint
               *
               * @param  {String} entryPoint entry point for the hooks to remove
               */
        n2.removeHooks = function(e3) {
          R2[e3] && (R2[e3] = []);
        }, /**
               * RemoveAllHooks
               * Public method to remove all DOMPurify hooks
               */
        n2.removeAllHooks = function() {
          R2 = {};
        }, n2;
      }();
      const eC = Pt.each, tC = Pt.trim, nC = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], oC = { ftp: 21, http: 80, https: 443, mailto: 25 }, rC = ["img", "video"], sC = (e2, t2, n2) => {
        const o2 = ((e3) => {
          try {
            return decodeURIComponent(e3);
          } catch (t3) {
            return unescape(e3);
          }
        })(t2).replace(/\s/g, "");
        return !e2.allow_script_urls && (!!/((java|vb)script|mhtml):/i.test(o2) || !e2.allow_html_data_urls && (/^data:image\//i.test(o2) ? ((e3, t3) => C(e3) ? !e3 : !C(t3) || !H(rC, t3))(e2.allow_svg_data_urls, n2) && /^data:image\/svg\+xml/i.test(o2) : /^data:/i.test(o2)));
      };
      class aC {
        static parseDataUri(e2) {
          let t2;
          const n2 = decodeURIComponent(e2).split(","), o2 = /data:([^;]+)/.exec(n2[0]);
          return o2 && (t2 = o2[1]), { type: t2, data: n2[1] };
        }
        static isDomSafe(e2, t2, n2 = {}) {
          if (n2.allow_script_urls) return true;
          {
            const o2 = ea.decode(e2).replace(/[\s\u0000-\u001F]+/g, "");
            return !sC(n2, o2, t2);
          }
        }
        static getDocumentBaseUrl(e2) {
          var t2;
          let n2;
          return n2 = 0 !== e2.protocol.indexOf("http") && "file:" !== e2.protocol ? null !== (t2 = e2.href) && void 0 !== t2 ? t2 : "" : e2.protocol + "//" + e2.host + e2.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(n2) && (n2 = n2.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(n2) || (n2 += "/")), n2;
        }
        constructor(e2, t2 = {}) {
          this.path = "", this.directory = "", e2 = tC(e2), this.settings = t2;
          const n2 = t2.base_uri, o2 = this;
          if (/^([\w\-]+):([^\/]{2})/i.test(e2) || /^\s*#/.test(e2)) return void (o2.source = e2);
          const r2 = 0 === e2.indexOf("//");
          if (0 !== e2.indexOf("/") || r2 || (e2 = (n2 && n2.protocol || "http") + "://mce_host" + e2), !/^[\w\-]*:?\/\//.test(e2)) {
            const t3 = n2 ? n2.path : new aC(document.location.href).directory;
            if ("" === (null == n2 ? void 0 : n2.protocol)) e2 = "//mce_host" + o2.toAbsPath(t3, e2);
            else {
              const r3 = /([^#?]*)([#?]?.*)/.exec(e2);
              r3 && (e2 = (n2 && n2.protocol || "http") + "://mce_host" + o2.toAbsPath(t3, r3[1]) + r3[2]);
            }
          }
          e2 = e2.replace(/@@/g, "(mce_at)");
          const s2 = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e2);
          s2 && eC(nC, (e3, t3) => {
            let n3 = s2[t3];
            n3 && (n3 = n3.replace(/\(mce_at\)/g, "@@")), o2[e3] = n3;
          }), n2 && (o2.protocol || (o2.protocol = n2.protocol), o2.userInfo || (o2.userInfo = n2.userInfo), o2.port || "mce_host" !== o2.host || (o2.port = n2.port), o2.host && "mce_host" !== o2.host || (o2.host = n2.host), o2.source = ""), r2 && (o2.protocol = "");
        }
        setPath(e2) {
          const t2 = /^(.*?)\/?(\w+)?$/.exec(e2);
          t2 && (this.path = t2[0], this.directory = t2[1], this.file = t2[2]), this.source = "", this.getURI();
        }
        toRelative(e2) {
          if ("./" === e2) return e2;
          const t2 = new aC(e2, { base_uri: this });
          if ("mce_host" !== t2.host && this.host !== t2.host && t2.host || this.port !== t2.port || this.protocol !== t2.protocol && "" !== t2.protocol) return t2.getURI();
          const n2 = this.getURI(), o2 = t2.getURI();
          if (n2 === o2 || "/" === n2.charAt(n2.length - 1) && n2.substr(0, n2.length - 1) === o2) return n2;
          let r2 = this.toRelPath(this.path, t2.path);
          return t2.query && (r2 += "?" + t2.query), t2.anchor && (r2 += "#" + t2.anchor), r2;
        }
        toAbsolute(e2, t2) {
          const n2 = new aC(e2, { base_uri: this });
          return n2.getURI(t2 && this.isSameOrigin(n2));
        }
        isSameOrigin(e2) {
          if (this.host == e2.host && this.protocol == e2.protocol) {
            if (this.port == e2.port) return true;
            const t2 = this.protocol ? oC[this.protocol] : null;
            if (t2 && (this.port || t2) == (e2.port || t2)) return true;
          }
          return false;
        }
        toRelPath(e2, t2) {
          let n2, o2, r2 = 0, s2 = "";
          const a2 = e2.substring(0, e2.lastIndexOf("/")).split("/"), i2 = t2.split("/");
          if (a2.length >= i2.length) {
            for (n2 = 0, o2 = a2.length; n2 < o2; n2++) if (n2 >= i2.length || a2[n2] !== i2[n2]) {
              r2 = n2 + 1;
              break;
            }
          }
          if (a2.length < i2.length) {
            for (n2 = 0, o2 = i2.length; n2 < o2; n2++) if (n2 >= a2.length || a2[n2] !== i2[n2]) {
              r2 = n2 + 1;
              break;
            }
          }
          if (1 === r2) return t2;
          for (n2 = 0, o2 = a2.length - (r2 - 1); n2 < o2; n2++) s2 += "../";
          for (n2 = r2 - 1, o2 = i2.length; n2 < o2; n2++) s2 += n2 !== r2 - 1 ? "/" + i2[n2] : i2[n2];
          return s2;
        }
        toAbsPath(e2, t2) {
          let n2 = 0;
          const o2 = /\/$/.test(t2) ? "/" : "", r2 = e2.split("/"), s2 = t2.split("/"), a2 = [];
          eC(r2, (e3) => {
            e3 && a2.push(e3);
          });
          const i2 = [];
          for (let e3 = s2.length - 1; e3 >= 0; e3--) 0 !== s2[e3].length && "." !== s2[e3] && (".." !== s2[e3] ? n2 > 0 ? n2-- : i2.push(s2[e3]) : n2++);
          const l2 = a2.length - n2;
          let d2;
          return d2 = l2 <= 0 ? oe(i2).join("/") : a2.slice(0, l2).join("/") + "/" + oe(i2).join("/"), 0 !== d2.indexOf("/") && (d2 = "/" + d2), o2 && d2.lastIndexOf("/") !== d2.length - 1 && (d2 += o2), d2;
        }
        getURI(e2 = false) {
          let t2;
          return this.source && !e2 || (t2 = "", e2 || (this.protocol ? t2 += this.protocol + "://" : t2 += "//", this.userInfo && (t2 += this.userInfo + "@"), this.host && (t2 += this.host), this.port && (t2 += ":" + this.port)), this.path && (t2 += this.path), this.query && (t2 += "?" + this.query), this.anchor && (t2 += "#" + this.anchor), this.source = t2), this.source;
        }
      }
      const iC = Pt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"), lC = "data-mce-type";
      let dC = 0;
      const cC = (e2, t2, n2, o2, r2) => {
        var s2, a2, i2, l2;
        const d2 = t2.validate, c2 = n2.getSpecialElements();
        8 === e2.nodeType && !t2.allow_conditional_comments && /^\[if/i.test(null !== (s2 = e2.nodeValue) && void 0 !== s2 ? s2 : "") && (e2.nodeValue = " " + e2.nodeValue);
        const u2 = null !== (a2 = null == r2 ? void 0 : r2.tagName) && void 0 !== a2 ? a2 : e2.nodeName.toLowerCase();
        if ("html" !== o2 && n2.isValid(o2)) return void (C(r2) && (r2.allowedTags[u2] = true));
        if (1 !== e2.nodeType || "body" === u2) return;
        const f2 = yn(e2), g2 = nn(f2, lC), p2 = en(f2, "data-mce-bogus");
        if (!g2 && m(p2)) return void ("all" === p2 ? xo(f2) : Eo(f2));
        const h2 = n2.getElementRule(u2);
        if (!d2 || h2) {
          if (C(r2) && (r2.allowedTags[u2] = true), d2 && h2 && !g2) {
            if (V(null !== (i2 = h2.attributesForced) && void 0 !== i2 ? i2 : [], (e3) => {
              Jt(f2, e3.name, "{$uid}" === e3.value ? "mce_" + dC++ : e3.value);
            }), V(null !== (l2 = h2.attributesDefault) && void 0 !== l2 ? l2 : [], (e3) => {
              nn(f2, e3.name) || Jt(f2, e3.name, "{$uid}" === e3.value ? "mce_" + dC++ : e3.value);
            }), h2.attributesRequired && !$(h2.attributesRequired, (e3) => nn(f2, e3))) return void Eo(f2);
            if (h2.removeEmptyAttrs && ((e3) => {
              const t3 = e3.dom.attributes;
              return null == t3 || 0 === t3.length;
            })(f2)) return void Eo(f2);
            h2.outputName && h2.outputName !== u2 && ((e3, t3) => {
              const n3 = ((e4, t4) => {
                const n4 = bn(t4), o4 = rn(e4);
                return Zt(n4, o4), n4;
              })(e3, t3);
              ho(e3, n3);
              const o3 = Mn(e3);
              Co(n3, o3), xo(e3);
            })(f2, h2.outputName);
          }
        } else Ee(c2, u2) ? xo(f2) : Eo(f2);
      }, uC = (e2, t2, n2, o2, r2, s2) => "html" !== n2 && !ps(o2) || !(r2 in iC && sC(e2, s2, o2)) && (!e2.validate || t2.isValid(o2, r2) || He(r2, "data-") || He(r2, "aria-")), mC = (e2, t2) => e2.hasAttribute(lC) && ("id" === t2 || "class" === t2 || "style" === t2), fC = (e2, t2) => e2 in t2.getBoolAttrs(), gC = (e2, t2, n2, o2) => {
        const { attributes: r2 } = e2;
        for (let s2 = r2.length - 1; s2 >= 0; s2--) {
          const a2 = r2[s2], i2 = a2.name, l2 = a2.value;
          uC(t2, n2, o2, e2.tagName.toLowerCase(), i2, l2) || mC(e2, i2) ? fC(i2, n2) && e2.setAttribute(i2, i2) : e2.removeAttribute(i2);
        }
      }, pC = (e2, t2, n2) => {
        const o2 = Zy();
        return o2.addHook("uponSanitizeElement", (o3, r2) => {
          cC(o3, e2, t2, n2.track(o3), r2);
        }), o2.addHook("uponSanitizeAttribute", (o3, r2) => {
          ((e3, t3, n3, o4, r3) => {
            const s2 = e3.tagName.toLowerCase(), { attrName: a2, attrValue: i2 } = r3;
            r3.keepAttr = uC(t3, n3, o4, s2, a2, i2), r3.keepAttr ? (r3.allowedAttributes[a2] = true, fC(a2, n3) && (r3.attrValue = a2), t3.allow_svg_data_urls && He(i2, "data:image/svg+xml") && (r3.forceKeepAttr = true)) : mC(e3, a2) && (r3.forceKeepAttr = true);
          })(o3, e2, t2, n2.current(), r2);
        }), o2;
      }, hC = (e2) => {
        const t2 = ["type", "href", "role", "arcrole", "title", "show", "actuate", "label", "from", "to"].map((e3) => `xlink:${e3}`), n2 = { IN_PLACE: true, USE_PROFILES: { html: true, svg: true, svgFilters: true }, ALLOWED_ATTR: t2 };
        return Zy().sanitize(e2, n2), e2.innerHTML;
      }, bC = Pt.makeMap, vC = Pt.extend, yC = (e2, t2, n2, o2) => {
        const r2 = e2.name, s2 = r2 in n2 && "title" !== r2 && "textarea" !== r2 && "noscript" !== r2, a2 = t2.childNodes;
        for (let t3 = 0, r3 = a2.length; t3 < r3; t3++) {
          const r4 = a2[t3], i2 = new Wg(r4.nodeName.toLowerCase(), r4.nodeType);
          if (qo(r4)) {
            const e3 = r4.attributes;
            for (let t4 = 0, n3 = e3.length; t4 < n3; t4++) {
              const n4 = e3[t4];
              i2.attr(n4.name, n4.value);
            }
            ps(i2.name) && (o2(r4), i2.value = r4.innerHTML);
          } else er(r4) ? (i2.value = r4.data, s2 && (i2.raw = true)) : (or(r4) || tr(r4) || nr(r4)) && (i2.value = r4.data);
          ps(i2.name) || yC(i2, r4, n2, o2), e2.append(i2);
        }
      }, CC = (e2 = {}, t2 = ua()) => {
        const n2 = qv(), o2 = qv(), r2 = { validate: true, root_name: "body", sanitize: true, ...e2 }, s2 = new DOMParser(), a2 = ((e3, t3) => {
          const n3 = /* @__PURE__ */ (() => {
            let e4 = [];
            const t4 = () => e4[e4.length - 1];
            return { track: (n4) => {
              hs(n4) && e4.push(n4);
              let o3 = t4();
              return o3 && !o3.contains(n4) && (e4.pop(), o3 = t4()), bs(o3);
            }, current: () => bs(t4()), reset: () => {
              e4 = [];
            } };
          })();
          if (e3.sanitize) {
            const o3 = pC(e3, t3, n3), r3 = (t4, r4) => {
              o3.sanitize(t4, ((e4, t5) => {
                const n4 = { IN_PLACE: true, ALLOW_UNKNOWN_PROTOCOLS: true, ALLOWED_TAGS: ["#comment", "#cdata-section", "body"], ALLOWED_ATTR: [], SAFE_FOR_XML: false };
                return n4.PARSER_MEDIA_TYPE = t5, e4.allow_script_urls ? n4.ALLOWED_URI_REGEXP = /.*/ : e4.allow_html_data_urls && (n4.ALLOWED_URI_REGEXP = /^(?!(\w+script|mhtml):)/i), n4;
              })(e3, r4)), o3.removed = [], n3.reset();
            };
            return { sanitizeHtmlElement: r3, sanitizeNamespaceElement: hC };
          }
          return { sanitizeHtmlElement: (o3, r3) => {
            const s3 = document.createNodeIterator(o3, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT);
            let a3;
            for (; a3 = s3.nextNode(); ) {
              const o4 = n3.track(a3);
              cC(a3, e3, t3, o4), qo(a3) && gC(a3, e3, t3, o4);
            }
            n3.reset();
          }, sanitizeNamespaceElement: _ };
        })(r2, t2), i2 = n2.addFilter, l2 = n2.getFilters, d2 = n2.removeFilter, c2 = o2.addFilter, u2 = o2.getFilters, f2 = o2.removeFilter, g2 = (e3, n3) => {
          const o3 = m(n3.attr(lC)), r3 = 1 === n3.type && !Ee(e3, n3.name) && !Bs(t2, n3) && !ps(n3.name);
          return 3 === n3.type || r3 && !o3;
        }, p2 = { schema: t2, addAttributeFilter: c2, getAttributeFilters: u2, removeAttributeFilter: f2, addNodeFilter: i2, getNodeFilters: l2, removeNodeFilter: d2, parse: (e3, n3 = {}) => {
          var o3;
          const i3 = r2.validate, d3 = null !== (o3 = n3.context) && void 0 !== o3 ? o3 : r2.root_name, c3 = ((e4, n4, o4 = "html") => {
            const r3 = "xhtml" === o4 ? "application/xhtml+xml" : "text/html", i4 = Ee(t2.getSpecialElements(), n4.toLowerCase()), l3 = i4 ? `<${n4}>${e4}</${n4}>` : e4, d4 = "xhtml" === o4 ? `<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l3}</body></html>` : `<body>${l3}</body>`, c4 = s2.parseFromString(d4, r3).body;
            return a2.sanitizeHtmlElement(c4, r3), i4 ? c4.firstChild : c4;
          })(e3, d3, n3.format);
          Ss(t2, c3);
          const m2 = new Wg(d3, 11);
          yC(m2, c3, t2.getSpecialElements(), a2.sanitizeNamespaceElement), c3.innerHTML = "";
          const [f3, p3] = ((e4, t3, n4, o4) => {
            const r3 = n4.validate, s3 = t3.getNonEmptyElements(), a3 = t3.getWhitespaceElements(), i4 = vC(bC("script,style,head,html,body,title,meta,param"), t3.getBlockElements()), l3 = da(t3), d4 = /[ \t\r\n]+/g, c4 = /^[ \t\r\n]+/, u3 = /[ \t\r\n]+$/, m3 = (e5) => {
              let t4 = e5.parent;
              for (; C(t4); ) {
                if (t4.name in a3) return true;
                t4 = t4.parent;
              }
              return false;
            }, f4 = (n5) => n5.name in i4 || Bs(t3, n5) || ps(n5.name) && n5.parent === e4, g3 = (t4, n5) => {
              const r4 = n5 ? t4.prev : t4.next;
              return !C(r4) && !y(t4.parent) && f4(t4.parent) && (t4.parent !== e4 || true === o4.isRootContent);
            };
            return [(e5) => {
              var t4;
              if (3 === e5.type && !m3(e5)) {
                let n5 = null !== (t4 = e5.value) && void 0 !== t4 ? t4 : "";
                n5 = n5.replace(d4, " "), (((e6, t5) => C(e6) && (t5(e6) || "br" === e6.name))(e5.prev, f4) || g3(e5, true)) && (n5 = n5.replace(c4, "")), 0 === n5.length ? e5.remove() : e5.value = n5;
              }
            }, (e5) => {
              var i5;
              if (1 === e5.type) {
                const i6 = t3.getElementRule(e5.name);
                if (r3 && i6) {
                  const r4 = vb(t3, s3, a3, e5);
                  i6.paddInEmptyBlock && r4 && ((e6) => {
                    let n5 = e6;
                    for (; C(n5); ) {
                      if (n5.name in l3) return vb(t3, s3, a3, n5);
                      n5 = n5.parent;
                    }
                    return false;
                  })(e5) ? hb(n4, o4, f4, e5) : i6.removeEmpty && r4 ? f4(e5) ? e5.remove() : e5.unwrap() : i6.paddEmpty && (r4 || ((e6) => {
                    var t4;
                    return bb(e6, "#text") && (null === (t4 = null == e6 ? void 0 : e6.firstChild) || void 0 === t4 ? void 0 : t4.value) === br;
                  })(e5)) && hb(n4, o4, f4, e5);
                }
              } else if (3 === e5.type && !m3(e5)) {
                let t4 = null !== (i5 = e5.value) && void 0 !== i5 ? i5 : "";
                (e5.next && f4(e5.next) || g3(e5, false)) && (t4 = t4.replace(u3, "")), 0 === t4.length ? e5.remove() : e5.value = t4;
              }
            }];
          })(m2, t2, r2, n3), h2 = [], b2 = i3 ? (e4) => ((e5, n4) => {
            xb(t2, e5) && n4.push(e5);
          })(e4, h2) : _, v2 = { nodes: {}, attributes: {} }, w2 = (e4) => fb(l2(), u2(), e4, v2);
          if (((e4, t3, n4) => {
            const o4 = [];
            for (let n5 = e4, r3 = n5; n5; r3 = n5, n5 = n5.walk()) {
              const s3 = n5;
              V(t3, (e5) => e5(s3)), y(s3.parent) && s3 !== e4 ? n5 = r3 : o4.push(s3);
            }
            for (let e5 = o4.length - 1; e5 >= 0; e5--) {
              const t4 = o4[e5];
              V(n4, (e6) => e6(t4));
            }
          })(m2, [f3, w2], [p3, b2]), h2.reverse(), i3 && h2.length > 0) if (n3.context) {
            const { pass: e4, fail: o4 } = K(h2, (e5) => e5.parent === m2);
            wb(o4, t2, m2, w2), n3.invalid = e4.length > 0;
          } else wb(h2, t2, m2, w2);
          const x2 = ((e4, t3) => {
            var n4;
            const o4 = null !== (n4 = t3.forced_root_block) && void 0 !== n4 ? n4 : e4.forced_root_block;
            return false === o4 ? "" : true === o4 ? "p" : o4;
          })(r2, n3);
          return x2 && ("body" === m2.name || n3.isRootContent) && ((e4, n4) => {
            const o4 = vC(bC("script,style,head,html,body,title,meta,param"), t2.getBlockElements()), s3 = /^[ \t\r\n]+/, a3 = /[ \t\r\n]+$/;
            let i4 = e4.firstChild, l3 = null;
            const d4 = (e5) => {
              var t3, n5;
              e5 && (i4 = e5.firstChild, i4 && 3 === i4.type && (i4.value = null === (t3 = i4.value) || void 0 === t3 ? void 0 : t3.replace(s3, "")), i4 = e5.lastChild, i4 && 3 === i4.type && (i4.value = null === (n5 = i4.value) || void 0 === n5 ? void 0 : n5.replace(a3, "")));
            };
            if (t2.isValidChild(e4.name, n4.toLowerCase())) {
              for (; i4; ) {
                const t3 = i4.next;
                g2(o4, i4) ? (l3 || (l3 = new Wg(n4, 1), l3.attr(r2.forced_root_block_attrs), e4.insert(l3, i4)), l3.append(i4)) : (d4(l3), l3 = null), i4 = t3;
              }
              d4(l3);
            }
          })(m2, x2), n3.invalid || gb(v2, n3), m2;
        } };
        return ty(p2, r2), ((e3, t3, n3) => {
          t3.inline_styles && Vv(e3, t3, n3);
        })(p2, r2, t2), p2;
      }, wC = (e2, t2, n2) => {
        const o2 = ((e3) => Bb(e3) ? up({ validate: false }).serialize(e3) : e3)(e2), r2 = t2(o2);
        if (r2.isDefaultPrevented()) return r2;
        if (Bb(e2)) {
          if (r2.content !== o2) {
            const t3 = CC({ validate: false, forced_root_block: false, ...n2 }).parse(r2.content, { context: e2.name });
            return { ...r2, content: t3 };
          }
          return { ...r2, content: e2 };
        }
        return r2;
      }, xC = (e2, t2) => {
        if (t2.no_events) return pl.value(t2);
        {
          const n2 = ((e3, t3) => e3.dispatch("BeforeGetContent", t3))(e2, t2);
          return n2.isDefaultPrevented() ? pl.error(rf(e2, { content: "", ...n2 }).content) : pl.value(n2);
        }
      }, EC = (e2, t2, n2) => {
        if (n2.no_events) return t2;
        {
          const o2 = wC(t2, (t3) => rf(e2, { ...n2, content: t3 }), { sanitize: fc(e2), sandbox_iframes: Cc(e2) });
          return o2.content;
        }
      }, _C = (e2, t2) => {
        if (t2.no_events) return pl.value(t2);
        {
          const n2 = wC(t2.content, (n3) => ((e3, t3) => e3.dispatch("BeforeSetContent", t3))(e2, { ...t2, content: n3 }), { sanitize: fc(e2), sandbox_iframes: Cc(e2) });
          return n2.isDefaultPrevented() ? (of(e2, n2), pl.error(void 0)) : pl.value(n2);
        }
      }, SC = (e2, t2, n2) => {
        n2.no_events || of(e2, { ...n2, content: t2 });
      }, kC = (e2, t2, n2) => ({ element: e2, width: t2, rows: n2 }), NC = (e2, t2) => ({ element: e2, cells: t2 }), RC = (e2, t2) => ({ x: e2, y: t2 }), AC = (e2, t2) => tn(e2, t2).bind(Xe).getOr(1), TC = (e2, t2, n2) => {
        const o2 = e2.rows;
        return !!(o2[n2] ? o2[n2].cells : [])[t2];
      }, OC = (e2) => X(e2, (e3, t2) => t2.cells.length > e3 ? t2.cells.length : e3, 0), BC = (e2, t2) => {
        const n2 = e2.rows;
        for (let e3 = 0; e3 < n2.length; e3++) {
          const o2 = n2[e3].cells;
          for (let n3 = 0; n3 < o2.length; n3++) if (_n(o2[n3], t2)) return I.some(RC(n3, e3));
        }
        return I.none();
      }, PC = (e2, t2, n2, o2, r2) => {
        const s2 = [], a2 = e2.rows;
        for (let e3 = n2; e3 <= r2; e3++) {
          const n3 = a2[e3].cells, r3 = t2 < o2 ? n3.slice(t2, o2 + 1) : n3.slice(o2, t2 + 1);
          s2.push(NC(a2[e3].element, r3));
        }
        return s2;
      }, DC = (e2) => ((e3, t2) => {
        const n2 = fi(e3.element), o2 = bn("tbody");
        return Co(o2, t2), vo(n2, o2), n2;
      })(e2, ((e3) => q(e3.rows, (e4) => {
        const t2 = q(e4.cells, (e5) => {
          const t3 = gi(e5);
          return on(t3, "colspan"), on(t3, "rowspan"), t3;
        }), n2 = fi(e4.element);
        return Co(n2, t2), n2;
      }))(e2)), LC = (e2, t2, n2) => {
        const o2 = yn(t2.commonAncestorContainer), r2 = Bp(o2, e2), s2 = Y(r2, (e3) => n2.isWrapper(Ht(e3))), a2 = ((e3, t3) => J(e3, (e4) => "li" === Ht(e4) && rm(e4, t3)).fold(N([]), (t4) => ((e4) => J(e4, (e5) => "ul" === Ht(e5) || "ol" === Ht(e5)))(e3).map((e4) => {
          const t5 = bn(Ht(e4)), n3 = ye(fo(e4), (e5, t6) => He(t6, "list-style"));
          return lo(t5, n3), [bn("li"), t5];
        }).getOr([])))(r2, t2), i2 = s2.concat(a2.length ? a2 : ((e3) => kr(e3) ? An(e3).filter(Sr).fold(N([]), (t3) => [e3, t3]) : Sr(e3) ? [e3] : [])(o2));
        return q(i2, fi);
      }, MC = () => kf([]), IC = (e2, t2) => ((e3, t3) => eo(t3, "table", T(_n, e3)))(e2, t2[0]).bind((e3) => {
        const n2 = t2[0], o2 = t2[t2.length - 1], r2 = ((e4) => {
          const t3 = kC(fi(e4), 0, []);
          return V(Uo(e4, "tr"), (e5, n3) => {
            V(Uo(e5, "td,th"), (o3, r3) => {
              ((e6, t4, n4, o4, r4) => {
                const s2 = AC(r4, "rowspan"), a2 = AC(r4, "colspan"), i2 = e6.rows;
                for (let e7 = n4; e7 < n4 + s2; e7++) {
                  i2[e7] || (i2[e7] = NC(gi(o4), []));
                  for (let o5 = t4; o5 < t4 + a2; o5++) i2[e7].cells[o5] = e7 === n4 && o5 === t4 ? r4 : fi(r4);
                }
              })(t3, ((e6, t4, n4) => {
                for (; TC(e6, t4, n4); ) t4++;
                return t4;
              })(t3, r3, n3), n3, e5, o3);
            });
          }), kC(t3.element, OC(t3.rows), t3.rows);
        })(e3);
        return ((e4, t3, n3) => BC(e4, t3).bind((t4) => BC(e4, n3).map((n4) => ((e5, t5, n5) => {
          const o3 = t5.x, r3 = t5.y, s2 = n5.x, a2 = n5.y, i2 = r3 < a2 ? PC(e5, o3, r3, s2, a2) : PC(e5, o3, a2, s2, r3);
          return kC(e5.element, OC(i2), i2);
        })(e4, t4, n4))))(r2, n2, o2).map((e4) => kf([DC(e4)]));
      }).getOrThunk(MC), FC = (e2, t2, n2) => {
        const o2 = Zu(t2, e2);
        return o2.length > 0 ? IC(e2, o2) : ((e3, t3, n3) => t3.length > 0 && t3[0].collapsed ? MC() : ((e4, t4, n4) => ((e5, t5) => {
          const n5 = X(t5, (e6, t6) => (vo(t6, e6), t6), e5);
          return t5.length > 0 ? kf([n5]) : n5;
        })(yn(t4.cloneContents()), LC(e4, t4, n4)))(e3, t3[0], n3))(e2, t2, n2);
      }, UC = (e2, t2) => t2 >= 0 && t2 < e2.length && Xu(e2.charAt(t2)), zC = (e2) => Dr(e2.innerText), jC = (e2) => qo(e2) ? e2.outerHTML : er(e2) ? ea.encodeRaw(e2.data, false) : or(e2) ? "<!--" + e2.data + "-->" : "", HC = (e2, t2) => (((e3, t3) => {
        let n2 = 0;
        V(e3, (e4) => {
          0 === e4[0] ? n2++ : 1 === e4[0] ? (((e5, t4, n3) => {
            const o2 = ((e6) => {
              let t5;
              const n4 = document.createElement("div"), o3 = document.createDocumentFragment();
              for (e6 && (n4.innerHTML = e6); t5 = n4.firstChild; ) o3.appendChild(t5);
              return o3;
            })(t4);
            if (e5.hasChildNodes() && n3 < e5.childNodes.length) {
              const t5 = e5.childNodes[n3];
              e5.insertBefore(o2, t5);
            } else e5.appendChild(o2);
          })(t3, e4[1], n2), n2++) : 2 === e4[0] && ((e5, t4) => {
            if (e5.hasChildNodes() && t4 < e5.childNodes.length) {
              const n3 = e5.childNodes[t4];
              e5.removeChild(n3);
            }
          })(t3, n2);
        });
      })(((e3, t3) => {
        const n2 = e3.length + t3.length + 2, o2 = new Array(n2), r2 = new Array(n2), s2 = (n3, o3, r3, a3, l3) => {
          const d2 = i2(n3, o3, r3, a3);
          if (null === d2 || d2.start === o3 && d2.diag === o3 - a3 || d2.end === n3 && d2.diag === n3 - r3) {
            let s3 = n3, i3 = r3;
            for (; s3 < o3 || i3 < a3; ) s3 < o3 && i3 < a3 && e3[s3] === t3[i3] ? (l3.push([0, e3[s3]]), ++s3, ++i3) : o3 - n3 > a3 - r3 ? (l3.push([2, e3[s3]]), ++s3) : (l3.push([1, t3[i3]]), ++i3);
          } else {
            s2(n3, d2.start, r3, d2.start - d2.diag, l3);
            for (let t4 = d2.start; t4 < d2.end; ++t4) l3.push([0, e3[t4]]);
            s2(d2.end, o3, d2.end - d2.diag, a3, l3);
          }
        }, a2 = (n3, o3, r3, s3) => {
          let a3 = n3;
          for (; a3 - o3 < s3 && a3 < r3 && e3[a3] === t3[a3 - o3]; ) ++a3;
          return /* @__PURE__ */ ((e4, t4, n4) => ({ start: e4, end: t4, diag: n4 }))(n3, a3, o3);
        }, i2 = (n3, s3, i3, l3) => {
          const d2 = s3 - n3, c2 = l3 - i3;
          if (0 === d2 || 0 === c2) return null;
          const u2 = d2 - c2, m2 = c2 + d2, f2 = (m2 % 2 == 0 ? m2 : m2 + 1) / 2;
          let g2, p2, h2, b2, v2;
          for (o2[1 + f2] = n3, r2[1 + f2] = s3 + 1, g2 = 0; g2 <= f2; ++g2) {
            for (p2 = -g2; p2 <= g2; p2 += 2) {
              for (h2 = p2 + f2, p2 === -g2 || p2 !== g2 && o2[h2 - 1] < o2[h2 + 1] ? o2[h2] = o2[h2 + 1] : o2[h2] = o2[h2 - 1] + 1, b2 = o2[h2], v2 = b2 - n3 + i3 - p2; b2 < s3 && v2 < l3 && e3[b2] === t3[v2]; ) o2[h2] = ++b2, ++v2;
              if (u2 % 2 != 0 && u2 - g2 <= p2 && p2 <= u2 + g2 && r2[h2 - u2] <= o2[h2]) return a2(r2[h2 - u2], p2 + n3 - i3, s3, l3);
            }
            for (p2 = u2 - g2; p2 <= u2 + g2; p2 += 2) {
              for (h2 = p2 + f2 - u2, p2 === u2 - g2 || p2 !== u2 + g2 && r2[h2 + 1] <= r2[h2 - 1] ? r2[h2] = r2[h2 + 1] - 1 : r2[h2] = r2[h2 - 1], b2 = r2[h2] - 1, v2 = b2 - n3 + i3 - p2; b2 >= n3 && v2 >= i3 && e3[b2] === t3[v2]; ) r2[h2] = b2--, v2--;
              if (u2 % 2 == 0 && -g2 <= p2 && p2 <= g2 && r2[h2] <= o2[h2 + u2]) return a2(r2[h2], p2 + n3 - i3, s3, l3);
            }
          }
          return null;
        }, l2 = [];
        return s2(0, e3.length, 0, t3.length, l2), l2;
      })(q(ce(t2.childNodes), jC), e2), t2), t2), $C = De(() => document.implementation.createHTMLDocument("undo")), qC = (e2) => {
        const t2 = e2.serializer.getTempAttrs(), n2 = sp(e2.getBody(), t2);
        return ((e3) => null !== e3.querySelector("iframe"))(n2) ? { type: "fragmented", fragments: Y(q(ce(n2.childNodes), S(Dr, jC)), (e3) => e3.length > 0), content: "", bookmark: null, beforeBookmark: null } : { type: "complete", fragments: null, content: Dr(n2.innerHTML), bookmark: null, beforeBookmark: null };
      }, VC = (e2, t2, n2) => {
        const o2 = n2 ? t2.beforeBookmark : t2.bookmark;
        "fragmented" === t2.type ? HC(t2.fragments, e2.getBody()) : e2.setContent(t2.content, { format: "raw", no_selection: !C(o2) || !Iu(o2) || !o2.isFakeCaret }), o2 && (e2.selection.moveToBookmark(o2), e2.selection.scrollIntoView());
      }, WC = (e2) => "fragmented" === e2.type ? e2.fragments.join("") : e2.content, KC = (e2) => {
        const t2 = bn("body", $C());
        return ko(t2, WC(e2)), V(Uo(t2, "*[data-mce-bogus]"), Eo), So(t2);
      }, YC = (e2, t2) => !(!e2 || !t2) && (!!((e3, t3) => WC(e3) === WC(t3))(e2, t2) || ((e3, t3) => KC(e3) === KC(t3))(e2, t2)), GC = (e2) => 0 === e2.get(), XC = (e2, t2, n2) => {
        GC(n2) && (e2.typing = t2);
      }, QC = (e2, t2) => {
        e2.typing && (XC(e2, false, t2), e2.add());
      }, JC = (e2) => ({ init: { bindEvents: _ }, undoManager: { beforeChange: (t2, n2) => ((e3, t3, n3) => {
        GC(t3) && n3.set(ml(e3.selection));
      })(e2, t2, n2), add: (t2, n2, o2, r2, s2, a2) => ((e3, t3, n3, o3, r3, s3, a3) => {
        const i2 = qC(e3), l2 = Pt.extend(s3 || {}, i2);
        if (!GC(o3) || e3.removed) return null;
        const d2 = t3.data[n3.get()];
        if (e3.dispatch("BeforeAddUndo", { level: l2, lastLevel: d2, originalEvent: a3 }).isDefaultPrevented()) return null;
        if (d2 && YC(d2, l2)) return null;
        t3.data[n3.get()] && r3.get().each((e4) => {
          t3.data[n3.get()].beforeBookmark = e4;
        });
        const c2 = Td(e3);
        if (c2 && t3.data.length > c2) {
          for (let e4 = 0; e4 < t3.data.length - 1; e4++) t3.data[e4] = t3.data[e4 + 1];
          t3.data.length--, n3.set(t3.data.length);
        }
        l2.bookmark = ml(e3.selection), n3.get() < t3.data.length - 1 && (t3.data.length = n3.get() + 1), t3.data.push(l2), n3.set(t3.data.length - 1);
        const u2 = { level: l2, lastLevel: d2, originalEvent: a3 };
        return n3.get() > 0 ? (e3.setDirty(true), e3.dispatch("AddUndo", u2), e3.dispatch("change", u2)) : e3.dispatch("AddUndo", u2), l2;
      })(e2, t2, n2, o2, r2, s2, a2), undo: (t2, n2, o2) => ((e3, t3, n3, o3) => {
        let r2;
        return t3.typing && (t3.add(), t3.typing = false, XC(t3, false, n3)), o3.get() > 0 && (o3.set(o3.get() - 1), r2 = t3.data[o3.get()], VC(e3, r2, true), e3.setDirty(true), e3.dispatch("Undo", { level: r2 })), r2;
      })(e2, t2, n2, o2), redo: (t2, n2) => ((e3, t3, n3) => {
        let o2;
        return t3.get() < n3.length - 1 && (t3.set(t3.get() + 1), o2 = n3[t3.get()], VC(e3, o2, false), e3.setDirty(true), e3.dispatch("Redo", { level: o2 })), o2;
      })(e2, t2, n2), clear: (t2, n2) => ((e3, t3, n3) => {
        t3.data = [], n3.set(0), t3.typing = false, e3.dispatch("ClearUndos");
      })(e2, t2, n2), reset: (e3) => ((e4) => {
        e4.clear(), e4.add();
      })(e3), hasUndo: (t2, n2) => ((e3, t3, n3) => n3.get() > 0 || t3.typing && t3.data[0] && !YC(qC(e3), t3.data[0]))(e2, t2, n2), hasRedo: (e3, t2) => ((e4, t3) => t3.get() < e4.data.length - 1 && !e4.typing)(e3, t2), transact: (e3, t2, n2) => ((e4, t3, n3) => (QC(e4, t3), e4.beforeChange(), e4.ignore(n3), e4.add()))(e3, t2, n2), ignore: (e3, t2) => ((e4, t3) => {
        try {
          e4.set(e4.get() + 1), t3();
        } finally {
          e4.set(e4.get() - 1);
        }
      })(e3, t2), extra: (t2, n2, o2, r2) => ((e3, t3, n3, o3, r3) => {
        if (t3.transact(o3)) {
          const o4 = t3.data[n3.get()].bookmark, s2 = t3.data[n3.get() - 1];
          VC(e3, s2, true), t3.transact(r3) && (t3.data[n3.get() - 1].beforeBookmark = o4);
        }
      })(e2, t2, n2, o2, r2) }, formatter: { match: (t2, n2, o2, r2) => Hb(e2, t2, n2, o2, r2), matchAll: (t2, n2) => ((e3, t3, n3) => {
        const o2 = [], r2 = {}, s2 = e3.selection.getStart();
        return e3.dom.getParent(s2, (s3) => {
          for (let a2 = 0; a2 < t3.length; a2++) {
            const i2 = t3[a2];
            !r2[i2] && jb(e3, s3, i2, n3) && (r2[i2] = true, o2.push(i2));
          }
        }, e3.dom.getRoot()), o2;
      })(e2, t2, n2), matchNode: (t2, n2, o2, r2) => jb(e2, t2, n2, o2, r2), canApply: (t2) => ((e3, t3) => {
        const n2 = e3.formatter.get(t3), o2 = e3.dom;
        if (n2 && e3.selection.isEditable()) {
          const t4 = e3.selection.getStart(), r2 = Em(o2, t4);
          for (let e4 = n2.length - 1; e4 >= 0; e4--) {
            const t5 = n2[e4];
            if (!km(t5)) return true;
            for (let e5 = r2.length - 1; e5 >= 0; e5--) if (o2.is(r2[e5], t5.selector)) return true;
          }
        }
        return false;
      })(e2, t2), closest: (t2) => ((e3, t3) => {
        const n2 = (t4) => _n(t4, yn(e3.getBody()));
        return I.from(e3.selection.getStart(true)).bind((o2) => Lb(yn(o2), (n3) => ue(t3, (t4) => ((t5, n4) => jb(e3, t5.dom, n4) ? I.some(n4) : I.none())(n3, t4)), n2)).getOrNull();
      })(e2, t2), apply: (t2, n2, o2) => Iv(e2, t2, n2, o2), remove: (t2, n2, o2, r2) => Ov(e2, t2, n2, o2, r2), toggle: (t2, n2, o2) => ((e3, t3, n3, o3) => {
        const r2 = e3.formatter.get(t3);
        r2 && (!Hb(e3, t3, n3, o3) || "toggle" in r2[0] && !r2[0].toggle ? Iv(e3, t3, n3, o3) : Ov(e3, t3, n3, o3));
      })(e2, t2, n2, o2), formatChanged: (t2, n2, o2, r2, s2) => ((e3, t3, n3, o3, r3, s3) => (((e4, t4, n4, o4, r4, s4) => {
        const a2 = t4.get();
        V(n4.split(","), (t5) => {
          const n5 = xe(a2, t5).getOrThunk(() => {
            const e5 = { withSimilar: { state: $a(false), similar: true, callbacks: [] }, withoutSimilar: { state: $a(false), similar: false, callbacks: [] }, withVars: [] };
            return a2[t5] = e5, e5;
          }), i2 = () => {
            const n6 = jv(e4);
            return zv(e4, n6, t5, r4, s4).isSome();
          };
          if (v(s4)) {
            const e5 = r4 ? n5.withSimilar : n5.withoutSimilar;
            e5.callbacks.push(o4), 1 === e5.callbacks.length && e5.state.set(i2());
          } else n5.withVars.push({ state: $a(i2()), similar: r4, vars: s4, callback: o4 });
        }), t4.set(a2);
      })(e3, t3, n3, o3, r3, s3), { unbind: () => ((e4, t4, n4) => {
        const o4 = e4.get();
        V(t4.split(","), (e5) => xe(o4, e5).each((t5) => {
          o4[e5] = { withSimilar: { ...t5.withSimilar, callbacks: Y(t5.withSimilar.callbacks, (e6) => e6 !== n4) }, withoutSimilar: { ...t5.withoutSimilar, callbacks: Y(t5.withoutSimilar.callbacks, (e6) => e6 !== n4) }, withVars: Y(t5.withVars, (e6) => e6.callback !== n4) };
        })), e4.set(o4);
      })(t3, n3, o3) }))(e2, t2, n2, o2, r2, s2) }, editor: { getContent: (t2) => ((e3, t3) => I.from(e3.getBody()).fold(N("tree" === t3.format ? new Wg("body", 11) : ""), (n2) => lp(e3, t3, n2)))(e2, t2), setContent: (t2, n2) => ((e3, t3, n3) => I.from(e3.getBody()).map((o2) => Bb(t3) ? ((e4, t4, n4, o3) => {
        pb(e4.parser.getNodeFilters(), e4.parser.getAttributeFilters(), n4);
        const r2 = up({ validate: false }, e4.schema).serialize(n4), s2 = Dr(Ar(yn(t4)) ? r2 : Pt.trim(r2));
        return Pb(e4, s2, o3.no_selection), { content: n4, html: s2 };
      })(e3, o2, t3, n3) : ((e4, t4, n4, o3) => {
        if (0 === (n4 = Dr(n4)).length || /^\s+$/.test(n4)) {
          const r2 = '<br data-mce-bogus="1">';
          "TABLE" === t4.nodeName ? n4 = "<tr><td>" + r2 + "</td></tr>" : /^(UL|OL)$/.test(t4.nodeName) && (n4 = "<li>" + r2 + "</li>");
          const s2 = Il(e4);
          return e4.schema.isValidChild(t4.nodeName.toLowerCase(), s2.toLowerCase()) ? (n4 = r2, n4 = e4.dom.createHTML(s2, Fl(e4), n4)) : n4 || (n4 = r2), Pb(e4, n4, o3.no_selection), { content: n4, html: n4 };
        }
        {
          "raw" !== o3.format && (n4 = up({ validate: false }, e4.schema).serialize(e4.parser.parse(n4, { isRootContent: true, insert: true })));
          const r2 = Ar(yn(t4)) ? n4 : Pt.trim(n4);
          return Pb(e4, r2, o3.no_selection), { content: r2, html: r2 };
        }
      })(e3, o2, t3, n3)).getOr({ content: t3, html: Bb(n3.content) ? "" : n3.content }))(e2, t2, n2), insertContent: (t2, n2) => Ob(e2, t2, n2), addVisual: (t2) => ((e3, t3) => {
        const n2 = e3.dom, o2 = C(t3) ? t3 : e3.getBody();
        V(n2.select("table,a", o2), (t4) => {
          switch (t4.nodeName) {
            case "TABLE":
              const o3 = Ud(e3), r2 = n2.getAttrib(t4, "border");
              r2 && "0" !== r2 || !e3.hasVisual ? n2.removeClass(t4, o3) : n2.addClass(t4, o3);
              break;
            case "A":
              if (!n2.getAttrib(t4, "href")) {
                const o4 = n2.getAttrib(t4, "name") || t4.id, r3 = zd(e3);
                o4 && e3.hasVisual ? n2.addClass(t4, r3) : n2.removeClass(t4, r3);
              }
          }
        }), e3.dispatch("VisualAid", { element: t3, hasVisual: e3.hasVisual });
      })(e2, t2) }, selection: { getContent: (t2, n2) => ((e3, t3, n3 = {}) => {
        const o2 = ((e4, t4) => ({ ...e4, format: t4, get: true, selection: true, getInner: true }))(n3, t3);
        return xC(e3, o2).fold(R, (t4) => {
          const n4 = ((e4, t5) => {
            if ("text" === t5.format) return ((e5) => I.from(e5.selection.getRng()).map((t6) => {
              var n5;
              const o3 = I.from(e5.dom.getParent(t6.commonAncestorContainer, e5.dom.isBlock)), r2 = e5.getBody(), s2 = ((e6) => e6.map((e7) => e7.nodeName).getOr("div").toLowerCase())(o3), a2 = yn(t6.cloneContents());
              ap(a2), ip(a2);
              const i2 = e5.dom.add(r2, s2, { "data-mce-bogus": "all", style: "overflow: hidden; opacity: 0;" }, a2.dom), l2 = zC(i2), d2 = Dr(null !== (n5 = i2.textContent) && void 0 !== n5 ? n5 : "");
              if (e5.dom.remove(i2), UC(d2, 0) || UC(d2, d2.length - 1)) {
                const e6 = o3.getOr(r2), t7 = zC(e6), n6 = t7.indexOf(l2);
                return -1 === n6 ? l2 : (UC(t7, n6 - 1) ? " " : "") + l2 + (UC(t7, n6 + l2.length) ? " " : "");
              }
              return l2;
            }).getOr(""))(e4);
            {
              const n5 = ((e5, t6) => {
                const n6 = e5.selection.getRng(), o3 = e5.dom.create("body"), r2 = e5.selection.getSel(), s2 = Mg(e5, Ju(r2)), a2 = t6.contextual ? FC(yn(e5.getBody()), s2, e5.schema).dom : n6.cloneContents();
                return a2 && o3.appendChild(a2), e5.selection.serializer.serialize(o3, t6);
              })(e4, t5);
              return "tree" === t5.format ? n5 : e4.selection.isCollapsed() ? "" : n5;
            }
          })(e3, t4);
          return EC(e3, n4, t4);
        });
      })(e2, t2, n2) }, autocompleter: { addDecoration: (t2) => zg(e2, t2), removeDecoration: () => ((e3, t2) => jg(t2).each((t3) => {
        const n2 = e3.selection.getBookmark();
        Eo(t3), e3.selection.moveToBookmark(n2);
      }))(e2, yn(e2.getBody())) }, raw: { getModel: () => I.none() } }), ZC = (e2) => Ee(e2.plugins, "rtc"), ew = (e2) => e2.rtcInstance ? e2.rtcInstance : JC(e2), tw = (e2) => {
        const t2 = e2.rtcInstance;
        if (t2) return t2;
        throw new Error("Failed to get RTC instance not yet initialized.");
      }, nw = (e2) => tw(e2).init.bindEvents(), ow = (e2) => 0 === e2.dom.length ? (xo(e2), I.none()) : I.some(e2), rw = (e2, t2, n2, o2, r2) => {
        e2.bind((e3) => ((o2 ? ch : dh)(e3.dom, o2 ? e3.dom.length : 0, r2), t2.filter(Kt).map((t3) => ((e4, t4, n3, o3, r3) => {
          const s2 = e4.dom, a2 = t4.dom, i2 = o3 ? s2.length : a2.length;
          o3 ? (uh(s2, a2, r3, false, !o3), n3.setStart(a2, i2)) : (uh(a2, s2, r3, false, !o3), n3.setEnd(a2, i2));
        })(e3, t3, n2, o2, r2)))).orThunk(() => {
          const e3 = ((e4, t3) => e4.filter((e5) => Jm.isBookmarkNode(e5.dom)).bind(t3 ? Pn : Bn))(t2, o2).or(t2).filter(Kt);
          return e3.map((e4) => ((e5, t3, n3) => {
            An(e5).each((o3) => {
              const r3 = e5.dom;
              t3 && eh(o3, Vi(r3, 0), n3) ? dh(r3, 0, n3) : !t3 && th(o3, Vi(r3, r3.length), n3) && ch(r3, r3.length, n3);
            });
          })(e4, o2, r2));
        });
      }, sw = (e2, t2, n2) => {
        if (Ee(e2, t2)) {
          const o2 = Y(e2[t2], (e3) => e3 !== n2);
          0 === o2.length ? delete e2[t2] : e2[t2] = o2;
        }
      };
      const aw = (e2) => !(!e2 || !e2.ownerDocument) && Sn(yn(e2.ownerDocument), yn(e2)), iw = (e2, t2, n2, o2) => {
        let r2, s2;
        const { selectorChangedWithUnbind: a2 } = /* @__PURE__ */ ((e3, t3) => {
          let n3, o3;
          const r3 = (t4, n4) => J(n4, (n5) => e3.is(n5, t4)), s3 = (t4) => e3.getParents(t4, void 0, e3.getRoot());
          return { selectorChangedWithUnbind: (e4, a3) => (n3 || (n3 = {}, o3 = {}, t3.on("NodeChange", (e5) => {
            const t4 = e5.element, a4 = s3(t4), i3 = {};
            ge(n3, (e6, t5) => {
              r3(t5, a4).each((n4) => {
                o3[t5] || (V(e6, (e7) => {
                  e7(true, { node: n4, selector: t5, parents: a4 });
                }), o3[t5] = e6), i3[t5] = e6;
              });
            }), ge(o3, (e6, n4) => {
              i3[n4] || (delete o3[n4], V(e6, (e7) => {
                e7(false, { node: t4, selector: n4, parents: a4 });
              }));
            });
          })), n3[e4] || (n3[e4] = []), n3[e4].push(a3), r3(e4, s3(t3.selection.getStart())).each(() => {
            o3[e4] = n3[e4];
          }), { unbind: () => {
            sw(n3, e4, a3), sw(o3, e4, a3);
          } }) };
        })(e2, o2), i2 = (e3, t3) => ((e4, t4, n3 = {}) => {
          const o3 = ((e5, t5) => ({ format: "html", ...e5, set: true, selection: true, content: t5 }))(n3, t4);
          _C(e4, o3).each((t5) => {
            const n4 = ((e5, t6) => {
              if ("raw" !== t6.format) {
                const n5 = e5.selection.getRng(), o5 = e5.dom.getParent(n5.commonAncestorContainer, e5.dom.isBlock), r3 = o5 ? { context: o5.nodeName.toLowerCase() } : {}, s3 = e5.parser.parse(t6.content, { forced_root_block: false, ...r3, ...t6 });
                return up({ validate: false }, e5.schema).serialize(s3);
              }
              return t6.content;
            })(e4, t5), o4 = e4.selection.getRng();
            ((e5, t6, n5) => {
              const o5 = I.from(t6.firstChild).map(yn), r3 = I.from(t6.lastChild).map(yn);
              e5.deleteContents(), e5.insertNode(t6);
              const s3 = o5.bind(Bn).filter(Kt).bind(ow), a3 = r3.bind(Pn).filter(Kt).bind(ow);
              rw(s3, o5, e5, true, n5), rw(a3, r3, e5, false, n5), e5.collapse(false);
            })(o4, o4.createContextualFragment(n4), e4.schema), e4.selection.setRng(o4), sg(e4, o4), SC(e4, n4, t5);
          });
        })(o2, e3, t3), l2 = (e3) => {
          const t3 = c2();
          t3.collapse(!!e3), u2(t3);
        }, d2 = () => t2.getSelection ? t2.getSelection() : t2.document.selection, c2 = () => {
          let n3;
          const a3 = (e3, t3, n4) => {
            try {
              return t3.compareBoundaryPoints(e3, n4);
            } catch (e4) {
              return -1;
            }
          }, i3 = t2.document;
          if (C(o2.bookmark) && !Rg(o2)) {
            const e3 = hg(o2);
            if (e3.isSome()) return e3.map((e4) => Mg(o2, [e4])[0]).getOr(i3.createRange());
          }
          try {
            const e3 = d2();
            e3 && !$o(e3.anchorNode) && (n3 = e3.rangeCount > 0 ? e3.getRangeAt(0) : i3.createRange(), n3 = Mg(o2, [n3])[0]);
          } catch (e3) {
          }
          if (n3 || (n3 = i3.createRange()), rr(n3.startContainer) && n3.collapsed) {
            const t3 = e2.getRoot();
            n3.setStart(t3, 0), n3.setEnd(t3, 0);
          }
          return r2 && s2 && (0 === a3(n3.START_TO_START, n3, r2) && 0 === a3(n3.END_TO_END, n3, r2) ? n3 = s2 : (r2 = null, s2 = null)), n3;
        }, u2 = (e3, t3) => {
          if (!((e4) => !!e4 && aw(e4.startContainer) && aw(e4.endContainer))(e3)) return;
          const n3 = d2();
          if (e3 = o2.dispatch("SetSelectionRange", { range: e3, forward: t3 }).range, n3) {
            s2 = e3;
            try {
              n3.removeAllRanges(), n3.addRange(e3);
            } catch (e4) {
            }
            false === t3 && n3.extend && (n3.collapse(e3.endContainer, e3.endOffset), n3.extend(e3.startContainer, e3.startOffset)), r2 = n3.rangeCount > 0 ? n3.getRangeAt(0) : null;
          }
          if (!e3.collapsed && e3.startContainer === e3.endContainer && (null == n3 ? void 0 : n3.setBaseAndExtent) && e3.endOffset - e3.startOffset < 2 && e3.startContainer.hasChildNodes()) {
            const t4 = e3.startContainer.childNodes[e3.startOffset];
            t4 && "IMG" === t4.nodeName && (n3.setBaseAndExtent(e3.startContainer, e3.startOffset, e3.endContainer, e3.endOffset), n3.anchorNode === e3.startContainer && n3.focusNode === e3.endContainer || n3.setBaseAndExtent(t4, 0, t4, 1));
          }
          o2.dispatch("AfterSetSelectionRange", { range: e3, forward: t3 });
        }, m2 = () => {
          const t3 = d2(), n3 = null == t3 ? void 0 : t3.anchorNode, o3 = null == t3 ? void 0 : t3.focusNode;
          if (!t3 || !n3 || !o3 || $o(n3) || $o(o3)) return true;
          const r3 = e2.createRng(), s3 = e2.createRng();
          try {
            r3.setStart(n3, t3.anchorOffset), r3.collapse(true), s3.setStart(o3, t3.focusOffset), s3.collapse(true);
          } catch (e3) {
            return true;
          }
          return r3.compareBoundaryPoints(r3.START_TO_START, s3) <= 0;
        }, f2 = { dom: e2, win: t2, serializer: n2, editor: o2, expand: (t3 = { type: "word" }) => u2(Uf(e2).expand(c2(), t3)), collapse: l2, setCursorLocation: (t3, n3) => {
          const r3 = e2.createRng();
          C(t3) && C(n3) ? (r3.setStart(t3, n3), r3.setEnd(t3, n3), u2(r3), l2(false)) : (sm(e2, r3, o2.getBody(), true), u2(r3));
        }, getContent: (e3) => ((e4, t3 = {}) => ((e5, t4, n3) => tw(e5).selection.getContent(t4, n3))(e4, t3.format ? t3.format : "html", t3))(o2, e3), setContent: i2, getBookmark: (e3, t3) => g2.getBookmark(e3, t3), moveToBookmark: (e3) => g2.moveToBookmark(e3), select: (t3, n3) => (((e3, t4, n4) => I.from(t4).bind((t5) => I.from(t5.parentNode).map((o3) => {
          const r3 = e3.nodeIndex(t5), s3 = e3.createRng();
          return s3.setStart(o3, r3), s3.setEnd(o3, r3 + 1), n4 && (sm(e3, s3, t5, true), sm(e3, s3, t5, false)), s3;
        })))(e2, t3, n3).each(u2), t3), isCollapsed: () => {
          const e3 = c2(), t3 = d2();
          return !(!e3 || e3.item) && (e3.compareEndPoints ? 0 === e3.compareEndPoints("StartToEnd", e3) : !t3 || e3.collapsed);
        }, isEditable: () => {
          const t3 = c2(), n3 = o2.getBody().querySelectorAll('[data-mce-selected="1"]');
          return n3.length > 0 ? ne(n3, (t4) => e2.isEditable(t4.parentElement)) : Og(e2, t3);
        }, isForward: m2, setNode: (t3) => (i2(e2.getOuterHTML(t3)), t3), getNode: () => ((e3, t3) => {
          if (!t3) return e3;
          let n3 = t3.startContainer, o3 = t3.endContainer;
          const r3 = t3.startOffset, s3 = t3.endOffset;
          let a3 = t3.commonAncestorContainer;
          t3.collapsed || (n3 === o3 && s3 - r3 < 2 && n3.hasChildNodes() && (a3 = n3.childNodes[r3]), er(n3) && er(o3) && (n3 = n3.length === r3 ? Lg(n3.nextSibling, true) : n3.parentNode, o3 = 0 === s3 ? Lg(o3.previousSibling, false) : o3.parentNode, n3 && n3 === o3 && (a3 = n3)));
          const i3 = er(a3) ? a3.parentNode : a3;
          return Vo(i3) ? i3 : e3;
        })(o2.getBody(), c2()), getSel: d2, setRng: u2, getRng: c2, getStart: (e3) => Pg(o2.getBody(), c2(), e3), getEnd: (e3) => Dg(o2.getBody(), c2(), e3), getSelectedBlocks: (t3, n3) => ((e3, t4, n4, o3) => {
          const r3 = [], s3 = e3.getRoot(), a3 = e3.getParent(n4 || Pg(s3, t4, t4.collapsed), e3.isBlock), i3 = e3.getParent(o3 || Dg(s3, t4, t4.collapsed), e3.isBlock);
          if (a3 && a3 !== s3 && r3.push(a3), a3 && i3 && a3 !== i3) {
            let t5;
            const n5 = new jo(a3, s3);
            for (; (t5 = n5.next()) && t5 !== i3; ) e3.isBlock(t5) && r3.push(t5);
          }
          return i3 && a3 !== i3 && i3 !== s3 && r3.push(i3), r3;
        })(e2, c2(), t3, n3), normalize: () => {
          const t3 = c2(), n3 = d2();
          if (!(Ju(n3).length > 1) && am(o2)) {
            const n4 = Mf(e2, t3);
            return n4.each((e3) => {
              u2(e3, m2());
            }), n4.getOr(t3);
          }
          return t3;
        }, selectorChanged: (e3, t3) => (a2(e3, t3), f2), selectorChangedWithUnbind: a2, getScrollContainer: () => {
          let t3, n3 = e2.getRoot();
          for (; n3 && "BODY" !== n3.nodeName; ) {
            if (n3.scrollHeight > n3.clientHeight) {
              t3 = n3;
              break;
            }
            n3 = n3.parentNode;
          }
          return t3;
        }, scrollIntoView: (e3, t3) => {
          C(e3) ? ((e4, t4, n3) => {
            (e4.inline ? ng : rg)(e4, t4, n3);
          })(o2, e3, t3) : sg(o2, c2(), t3);
        }, placeCaretAt: (e3, t3) => u2(Rf(e3, t3, o2.getDoc())), getBoundingClientRect: () => {
          const e3 = c2();
          return e3.collapsed ? Vi.fromRangeStart(e3).getClientRects()[0] : e3.getBoundingClientRect();
        }, destroy: () => {
          t2 = r2 = s2 = null, p2.destroy();
        } }, g2 = Jm(f2), p2 = mf(f2, o2);
        return f2.bookmarkManager = g2, f2.controlSelection = p2, f2;
      }, lw = (e2, t2, n2) => {
        -1 === Pt.inArray(t2, n2) && (e2.addAttributeFilter(n2, (e3, t3) => {
          let n3 = e3.length;
          for (; n3--; ) e3[n3].attr(t3, null);
        }), t2.push(n2));
      }, dw = (e2, t2) => {
        const n2 = ["data-mce-selected"], o2 = { entity_encoding: "named", remove_trailing_brs: true, pad_empty_with_br: false, ...e2 }, r2 = t2 && t2.dom ? t2.dom : za.DOM, s2 = t2 && t2.schema ? t2.schema : ua(o2), a2 = CC(o2, s2);
        return ((e3, t3, n3) => {
          e3.addAttributeFilter("data-mce-tabindex", (e4, t4) => {
            let n4 = e4.length;
            for (; n4--; ) {
              const o3 = e4[n4];
              o3.attr("tabindex", o3.attr("data-mce-tabindex")), o3.attr(t4, null);
            }
          }), e3.addAttributeFilter("src,href,style", (e4, o3) => {
            const r3 = "data-mce-" + o3, s3 = t3.url_converter, a3 = t3.url_converter_scope;
            let i2 = e4.length;
            for (; i2--; ) {
              const t4 = e4[i2];
              let l2 = t4.attr(r3);
              void 0 !== l2 ? (t4.attr(o3, l2.length > 0 ? l2 : null), t4.attr(r3, null)) : (l2 = t4.attr(o3), "style" === o3 ? l2 = n3.serializeStyle(n3.parseStyle(l2), t4.name) : s3 && (l2 = s3.call(a3, l2, o3, t4.name)), t4.attr(o3, l2.length > 0 ? l2 : null));
            }
          }), e3.addAttributeFilter("class", (e4) => {
            let t4 = e4.length;
            for (; t4--; ) {
              const n4 = e4[t4];
              let o3 = n4.attr("class");
              o3 && (o3 = o3.replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), n4.attr("class", o3.length > 0 ? o3 : null));
            }
          }), e3.addAttributeFilter("data-mce-type", (e4, t4, n4) => {
            let o3 = e4.length;
            for (; o3--; ) {
              const t5 = e4[o3];
              if ("bookmark" === t5.attr("data-mce-type") && !n4.cleanup) {
                const e5 = I.from(t5.firstChild).exists((e6) => {
                  var t6;
                  return !Pr(null !== (t6 = e6.value) && void 0 !== t6 ? t6 : "");
                });
                e5 ? t5.unwrap() : t5.remove();
              }
            }
          }), e3.addNodeFilter("script,style", (e4, n4) => {
            var o3;
            const r3 = (e5) => e5.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
            let s3 = e4.length;
            for (; s3--; ) {
              const a3 = e4[s3], i2 = a3.firstChild, l2 = null !== (o3 = null == i2 ? void 0 : i2.value) && void 0 !== o3 ? o3 : "";
              if ("script" === n4) {
                const e5 = a3.attr("type");
                e5 && a3.attr("type", "mce-no/type" === e5 ? null : e5.replace(/^mce\-/, "")), "xhtml" === t3.element_format && i2 && l2.length > 0 && (i2.value = "// <![CDATA[\n" + r3(l2) + "\n// ]]>");
              } else "xhtml" === t3.element_format && i2 && l2.length > 0 && (i2.value = "<!--\n" + r3(l2) + "\n-->");
            }
          }), e3.addNodeFilter("#comment", (e4) => {
            let o3 = e4.length;
            for (; o3--; ) {
              const r3 = e4[o3], s3 = r3.value;
              t3.preserve_cdata && 0 === (null == s3 ? void 0 : s3.indexOf("[CDATA[")) ? (r3.name = "#cdata", r3.type = 4, r3.value = n3.decode(s3.replace(/^\[CDATA\[|\]\]$/g, ""))) : 0 === (null == s3 ? void 0 : s3.indexOf("mce:protected ")) && (r3.name = "#text", r3.type = 3, r3.raw = true, r3.value = unescape(s3).substr(14));
            }
          }), e3.addNodeFilter("xml:namespace,input", (e4, t4) => {
            let n4 = e4.length;
            for (; n4--; ) {
              const o3 = e4[n4];
              7 === o3.type ? o3.remove() : 1 === o3.type && ("input" !== t4 || o3.attr("type") || o3.attr("type", "text"));
            }
          }), e3.addAttributeFilter("data-mce-type", (t4) => {
            V(t4, (t5) => {
              "format-caret" === t5.attr("data-mce-type") && (t5.isEmpty(e3.schema.getNonEmptyElements()) ? t5.remove() : t5.unwrap());
            });
          }), e3.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder", (e4, t4) => {
            let n4 = e4.length;
            for (; n4--; ) e4[n4].attr(t4, null);
          }), t3.remove_trailing_brs && Wv(t3, e3, e3.schema);
        })(a2, o2, r2), { schema: s2, addNodeFilter: a2.addNodeFilter, addAttributeFilter: a2.addAttributeFilter, serialize: (e3, n3 = {}) => {
          const i2 = { format: "html", ...n3 }, l2 = ((e4, t3, n4) => ((e5, t4) => C(e5) && e5.hasEventListeners("PreProcess") && !t4.no_events)(e4, n4) ? ((e5, t4, n5) => {
            let o3;
            const r3 = e5.dom;
            let s3 = t4.cloneNode(true);
            const a3 = document.implementation;
            if (a3.createHTMLDocument) {
              const e6 = a3.createHTMLDocument("");
              Pt.each("BODY" === s3.nodeName ? s3.childNodes : [s3], (t5) => {
                e6.body.appendChild(e6.importNode(t5, true));
              }), s3 = "BODY" !== s3.nodeName ? e6.body.firstChild : e6.body, o3 = r3.doc, r3.doc = e6;
            }
            return ((e6, t5) => {
              e6.dispatch("PreProcess", t5);
            })(e5, { ...n5, node: s3 }), o3 && (r3.doc = o3), s3;
          })(e4, t3, n4) : t3)(t2, e3, i2), d2 = ((e4, t3, n4) => {
            const o3 = Dr(n4.getInner ? t3.innerHTML : e4.getOuterHTML(t3));
            return n4.selection || Ar(yn(t3)) ? o3 : Pt.trim(o3);
          })(r2, l2, i2), c2 = ((e4, t3, n4) => {
            const o3 = n4.selection ? { forced_root_block: false, ...n4 } : n4, r3 = e4.parse(t3, o3);
            return ((e5) => {
              const t4 = (e6) => "br" === (null == e6 ? void 0 : e6.name), n5 = e5.lastChild;
              if (t4(n5)) {
                const e6 = n5.prev;
                t4(e6) && (n5.remove(), e6.remove());
              }
            })(r3), r3;
          })(a2, d2, i2);
          return "tree" === i2.format ? c2 : ((e4, t3, n4, o3, r3) => {
            const s3 = ((e5, t4, n5) => up(e5, t4).serialize(n5))(t3, n4, o3);
            return ((e5, t4, n5) => {
              if (!t4.no_events && e5) {
                const o4 = ((e6, t5) => e6.dispatch("PostProcess", t5))(e5, { ...t4, content: n5 });
                return o4.content;
              }
              return n5;
            })(e4, r3, s3);
          })(t2, o2, s2, c2, i2);
        }, addRules: s2.addValidElements, setRules: s2.setValidElements, addTempAttr: T(lw, a2, n2), getTempAttrs: N(n2), getNodeFilters: a2.getNodeFilters, getAttributeFilters: a2.getAttributeFilters, removeNodeFilter: a2.removeNodeFilter, removeAttributeFilter: a2.removeAttributeFilter };
      }, cw = (e2, t2) => {
        const n2 = dw(e2, t2);
        return { schema: n2.schema, addNodeFilter: n2.addNodeFilter, addAttributeFilter: n2.addAttributeFilter, serialize: n2.serialize, addRules: n2.addRules, setRules: n2.setRules, addTempAttr: n2.addTempAttr, getTempAttrs: n2.getTempAttrs, getNodeFilters: n2.getNodeFilters, getAttributeFilters: n2.getAttributeFilters, removeNodeFilter: n2.removeNodeFilter, removeAttributeFilter: n2.removeAttributeFilter };
      }, uw = (e2, t2, n2 = {}) => {
        const o2 = ((e3, t3) => ({ format: "html", ...e3, set: true, content: t3 }))(n2, t2);
        return _C(e2, o2).map((t3) => {
          const n3 = ((e3, t4, n4) => ew(e3).editor.setContent(t4, n4))(e2, t3.content, t3);
          return SC(e2, n3.html, t3), n3.content;
        }).getOr(t2);
      }, mw = "autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","), fw = "template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","), gw = "bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","), pw = [{ name: "template", replacedWith: "Advanced Template" }, { name: "rtc" }], hw = (e2, t2) => {
        const n2 = Y(t2, (t3) => Ee(e2, t3));
        return ae(n2);
      }, bw = (e2) => {
        const t2 = hw(e2, mw), n2 = e2.forced_root_block;
        return false !== n2 && "" !== n2 || t2.push("forced_root_block (false only)"), ae(t2);
      }, vw = (e2) => hw(e2, fw), yw = (e2, t2) => {
        const n2 = Pt.makeMap(e2.plugins, " "), o2 = Y(t2, (e3) => Ee(n2, e3));
        return ae(o2);
      }, Cw = (e2) => yw(e2, gw), ww = (e2) => yw(e2, pw.map((e3) => e3.name)), xw = (e2) => J(pw, (t2) => t2.name === e2).fold(() => e2, (t2) => t2.replacedWith ? `${e2}, replaced by ${t2.replacedWith}` : e2), Ew = za.DOM, _w = (e2) => I.from(e2).each((e3) => e3.destroy()), Sw = /* @__PURE__ */ (() => {
        const e2 = {};
        return { add: (t2, n2) => {
          e2[t2] = n2;
        }, get: (t2) => e2[t2] ? e2[t2] : { icons: {} }, has: (t2) => Ee(e2, t2) };
      })(), kw = Ya.ModelManager, Nw = (e2, t2) => t2.dom[e2], Rw = (e2, t2) => parseInt(co(t2, e2), 10), Aw = T(Nw, "clientWidth"), Tw = T(Nw, "clientHeight"), Ow = T(Rw, "margin-top"), Bw = T(Rw, "margin-left"), Pw = (e2) => {
        const t2 = [], n2 = () => {
          const t3 = e2.theme;
          return t3 && t3.getNotificationManagerImpl ? t3.getNotificationManagerImpl() : /* @__PURE__ */ (() => {
            const e3 = () => {
              throw new Error("Theme did not provide a NotificationManager implementation.");
            };
            return { open: e3, close: e3, getArgs: e3 };
          })();
        }, o2 = () => I.from(t2[0]), r2 = () => {
          V(t2, (e3) => {
            e3.reposition();
          });
        }, s2 = (e3) => {
          Z(t2, (t3) => t3 === e3).each((e4) => {
            t2.splice(e4, 1);
          });
        }, a2 = (a3, i3 = true) => e2.removed || !((e3) => {
          return (t3 = e3.inline ? e3.getBody() : e3.getContentAreaContainer(), I.from(t3).map(yn)).map(Gn).getOr(false);
          var t3;
        })(e2) ? {} : (i3 && e2.dispatch("BeforeOpenNotification", { notification: a3 }), J(t2, (e3) => {
          return t3 = n2().getArgs(e3), o3 = a3, !(t3.type !== o3.type || t3.text !== o3.text || t3.progressBar || t3.timeout || o3.progressBar || o3.timeout);
          var t3, o3;
        }).getOrThunk(() => {
          e2.editorManager.setActive(e2);
          const i4 = n2().open(a3, () => {
            s2(i4), r2(), Ag(e2) && o2().fold(() => e2.focus(), (e3) => ag(yn(e3.getEl())));
          });
          return ((e3) => {
            t2.push(e3);
          })(i4), r2(), e2.dispatch("OpenNotification", { notification: { ...i4 } }), i4;
        })), i2 = N(t2);
        return ((e3) => {
          e3.on("SkinLoaded", () => {
            const t3 = gd(e3);
            t3 && a2({ text: t3, type: "warning", timeout: 0 }, false), r2();
          }), e3.on("show ResizeEditor ResizeWindow NodeChange", () => {
            requestAnimationFrame(r2);
          }), e3.on("remove", () => {
            V(t2.slice(), (e4) => {
              n2().close(e4);
            });
          });
        })(e2), { open: a2, close: () => {
          o2().each((e3) => {
            n2().close(e3), s2(e3), r2();
          });
        }, getNotifications: i2 };
      }, Dw = Ya.PluginManager, Lw = Ya.ThemeManager, Mw = (e2) => {
        let t2 = [];
        const n2 = () => {
          const t3 = e2.theme;
          return t3 && t3.getWindowManagerImpl ? t3.getWindowManagerImpl() : /* @__PURE__ */ (() => {
            const e3 = () => {
              throw new Error("Theme did not provide a WindowManager implementation.");
            };
            return { open: e3, openUrl: e3, alert: e3, confirm: e3, close: e3 };
          })();
        }, o2 = (e3, t3) => (...n3) => t3 ? t3.apply(e3, n3) : void 0, r2 = (n3) => {
          ((t3) => {
            e2.dispatch("CloseWindow", { dialog: t3 });
          })(n3), t2 = Y(t2, (e3) => e3 !== n3), 0 === t2.length && e2.focus();
        }, s2 = (n3) => {
          e2.editorManager.setActive(e2), pg(e2), e2.ui.show();
          const o3 = n3();
          return ((n4) => {
            t2.push(n4), ((t3) => {
              e2.dispatch("OpenWindow", { dialog: t3 });
            })(n4);
          })(o3), o3;
        };
        return e2.on("remove", () => {
          V(t2, (e3) => {
            n2().close(e3);
          });
        }), { open: (e3, t3) => s2(() => n2().open(e3, t3, r2)), openUrl: (e3) => s2(() => n2().openUrl(e3, r2)), alert: (e3, t3, r3) => {
          const s3 = n2();
          s3.alert(e3, o2(r3 || s3, t3));
        }, confirm: (e3, t3, r3) => {
          const s3 = n2();
          s3.confirm(e3, o2(r3 || s3, t3));
        }, close: () => {
          I.from(t2[t2.length - 1]).each((e3) => {
            n2().close(e3), r2(e3);
          });
        } };
      }, Iw = (e2, t2) => {
        e2.notificationManager.open({ type: "error", text: t2 });
      }, Fw = (e2, t2) => {
        e2._skinLoaded ? Iw(e2, t2) : e2.on("SkinLoaded", () => {
          Iw(e2, t2);
        });
      }, Uw = (e2, t2, n2) => {
        ef(e2, t2, { message: n2 }), console.error(n2);
      }, zw = (e2, t2, n2) => n2 ? `Failed to load ${e2}: ${n2} from url ${t2}` : `Failed to load ${e2} url: ${t2}`, jw = (e2, ...t2) => {
        const n2 = window.console;
        n2 && (n2.error ? n2.error(e2, ...t2) : n2.log(e2, ...t2));
      }, Hw = (e2) => "content/" + e2 + "/content.css", $w = (e2, t2) => {
        const n2 = e2.editorManager.baseURL + "/skins/content", o2 = `content${e2.editorManager.suffix}.css`;
        return q(t2, (t3) => ((e3) => tinymce.Resource.has(Hw(e3)))(t3) ? t3 : ((e3) => /^[a-z0-9\-]+$/i.test(e3))(t3) && !e2.inline ? `${n2}/${t3}/${o2}` : e2.documentBaseURI.toAbsolute(t3));
      }, qw = (e2, t2) => {
        const n2 = {};
        return { findAll: (o2, r2 = M) => {
          const s2 = Y(((e3) => e3 ? ce(e3.getElementsByTagName("img")) : [])(o2), (t3) => {
            const n3 = t3.src;
            return !t3.hasAttribute("data-mce-bogus") && !t3.hasAttribute("data-mce-placeholder") && !(!n3 || n3 === At.transparentSrc) && (He(n3, "blob:") ? !e2.isUploaded(n3) && r2(t3) : !!He(n3, "data:") && r2(t3));
          }), a2 = q(s2, (e3) => {
            const o3 = e3.src;
            if (Ee(n2, o3)) return n2[o3].then((t3) => m(t3) ? t3 : { image: e3, blobInfo: t3.blobInfo });
            {
              const r3 = ((e4, t3) => {
                const n3 = () => Promise.reject("Invalid data URI");
                if (He(t3, "blob:")) {
                  const s3 = e4.getByUri(t3);
                  return C(s3) ? Promise.resolve(s3) : (o4 = t3, He(o4, "blob:") ? ((e5) => fetch(e5).then((e6) => e6.ok ? e6.blob() : Promise.reject()).catch(() => Promise.reject({ message: `Cannot convert ${e5} to Blob. Resource might not exist or is inaccessible.`, uriType: "blob" })))(o4) : He(o4, "data:") ? (r4 = o4, new Promise((e5, t4) => {
                    Kv(r4).bind(({ type: e6, data: t5, base64Encoded: n4 }) => Yv(e6, t5, n4)).fold(() => t4("Invalid data URI"), e5);
                  })) : Promise.reject("Unknown URI format")).then((t4) => Gv(t4).then((o5) => Qv(o5, false, (n4) => I.some(Jv(e4, t4, n4))).getOrThunk(n3)));
                }
                var o4, r4;
                return He(t3, "data:") ? Zv(e4, t3).fold(n3, (e5) => Promise.resolve(e5)) : Promise.reject("Unknown image data format");
              })(t2, o3).then((t3) => (delete n2[o3], { image: e3, blobInfo: t3 })).catch((e4) => (delete n2[o3], e4));
              return n2[o3] = r3, r3;
            }
          });
          return Promise.all(a2);
        } };
      }, Vw = () => {
        let e2 = {};
        const t2 = (e3, t3) => ({ status: e3, resultUri: t3 }), n2 = (t3) => t3 in e2;
        return { hasBlobUri: n2, getResultUri: (t3) => {
          const n3 = e2[t3];
          return n3 ? n3.resultUri : null;
        }, isPending: (t3) => !!n2(t3) && 1 === e2[t3].status, isUploaded: (t3) => !!n2(t3) && 2 === e2[t3].status, markPending: (n3) => {
          e2[n3] = t2(1, null);
        }, markUploaded: (n3, o2) => {
          e2[n3] = t2(2, o2);
        }, removeFailed: (t3) => {
          delete e2[t3];
        }, destroy: () => {
          e2 = {};
        } };
      };
      let Ww = 0;
      const Kw = (e2, t2) => {
        const n2 = {}, o2 = (e3, n3) => new Promise((o3, r3) => {
          const s3 = new XMLHttpRequest();
          s3.open("POST", t2.url), s3.withCredentials = t2.credentials, s3.upload.onprogress = (e4) => {
            n3(e4.loaded / e4.total * 100);
          }, s3.onerror = () => {
            r3("Image upload failed due to a XHR Transport error. Code: " + s3.status);
          }, s3.onload = () => {
            if (s3.status < 200 || s3.status >= 300) return void r3("HTTP Error: " + s3.status);
            const e4 = JSON.parse(s3.responseText);
            var n4, a4;
            e4 && m(e4.location) ? o3((n4 = t2.basePath, a4 = e4.location, n4 ? n4.replace(/\/$/, "") + "/" + a4.replace(/^\//, "") : a4)) : r3("Invalid JSON: " + s3.responseText);
          };
          const a3 = new FormData();
          a3.append("file", e3.blob(), e3.filename()), s3.send(a3);
        }), r2 = w(t2.handler) ? t2.handler : o2, s2 = (e3, t3) => ({ url: t3, blobInfo: e3, status: true }), a2 = (e3, t3) => ({ url: "", blobInfo: e3, status: false, error: t3 }), i2 = (e3, t3) => {
          Pt.each(n2[e3], (e4) => {
            e4(t3);
          }), delete n2[e3];
        };
        return { upload: (l2, d2) => t2.url || r2 !== o2 ? ((t3, o3) => (t3 = Pt.grep(t3, (t4) => !e2.isUploaded(t4.blobUri())), Promise.all(Pt.map(t3, (t4) => e2.isPending(t4.blobUri()) ? ((e3) => {
          const t5 = e3.blobUri();
          return new Promise((e4) => {
            n2[t5] = n2[t5] || [], n2[t5].push(e4);
          });
        })(t4) : ((t5, n3, o4) => (e2.markPending(t5.blobUri()), new Promise((r3) => {
          let l3, d3;
          try {
            const c2 = () => {
              l3 && (l3.close(), d3 = _);
            }, u2 = (n4) => {
              c2(), e2.markUploaded(t5.blobUri(), n4), i2(t5.blobUri(), s2(t5, n4)), r3(s2(t5, n4));
            }, f2 = (n4) => {
              c2(), e2.removeFailed(t5.blobUri()), i2(t5.blobUri(), a2(t5, n4)), r3(a2(t5, n4));
            };
            d3 = (e3) => {
              e3 < 0 || e3 > 100 || I.from(l3).orThunk(() => I.from(o4).map(P)).each((t6) => {
                l3 = t6, t6.progressBar.value(e3);
              });
            }, n3(t5, d3).then(u2, (e3) => {
              f2(m(e3) ? { message: e3 } : e3);
            });
          } catch (e3) {
            r3(a2(t5, e3));
          }
        })))(t4, r2, o3)))))(l2, d2) : new Promise((e3) => {
          e3([]);
        }) };
      }, Yw = (e2) => () => e2.notificationManager.open({ text: e2.translate("Image uploading..."), type: "info", timeout: -1, progressBar: true }), Gw = (e2, t2) => Kw(t2, { url: Gl(e2), basePath: Xl(e2), credentials: Ql(e2), handler: Jl(e2) }), Xw = (e2) => {
        const t2 = /* @__PURE__ */ (() => {
          let e3 = [];
          const t3 = (e4) => {
            if (!e4.blob || !e4.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
            const t4 = e4.id || "blobid" + Ww++ + (() => {
              const e5 = () => Math.round(4294967295 * Math.random()).toString(36);
              return "s" + (/* @__PURE__ */ new Date()).getTime().toString(36) + e5() + e5() + e5();
            })(), n4 = e4.name || t4, o4 = e4.blob;
            var r3;
            return { id: N(t4), name: N(n4), filename: N(e4.filename || n4 + "." + (r3 = o4.type, { "image/jpeg": "jpg", "image/jpg": "jpg", "image/gif": "gif", "image/png": "png", "image/apng": "apng", "image/avif": "avif", "image/svg+xml": "svg", "image/webp": "webp", "image/bmp": "bmp", "image/tiff": "tiff" }[r3.toLowerCase()] || "dat")), blob: N(o4), base64: N(e4.base64), blobUri: N(e4.blobUri || URL.createObjectURL(o4)), uri: N(e4.uri) };
          }, n3 = (t4) => J(e3, t4).getOrUndefined(), o3 = (e4) => n3((t4) => t4.id() === e4);
          return { create: (e4, n4, o4, r3, s3) => {
            if (m(e4)) return t3({ id: e4, name: r3, filename: s3, blob: n4, base64: o4 });
            if (f(e4)) return t3(e4);
            throw new Error("Unknown input type");
          }, add: (t4) => {
            o3(t4.id()) || e3.push(t4);
          }, get: o3, getByUri: (e4) => n3((t4) => t4.blobUri() === e4), getByData: (e4, t4) => n3((n4) => n4.base64() === e4 && n4.blob().type === t4), findFirst: n3, removeByUri: (t4) => {
            e3 = Y(e3, (e4) => e4.blobUri() !== t4 || (URL.revokeObjectURL(e4.blobUri()), false));
          }, destroy: () => {
            V(e3, (e4) => {
              URL.revokeObjectURL(e4.blobUri());
            }), e3 = [];
          } };
        })();
        let n2, o2;
        const r2 = Vw(), s2 = [], a2 = (t3) => (n3) => e2.selection ? t3(n3) : [], i2 = (e3, t3, n3) => {
          let o3 = 0;
          do {
            o3 = e3.indexOf(t3, o3), -1 !== o3 && (e3 = e3.substring(0, o3) + n3 + e3.substr(o3 + t3.length), o3 += n3.length - t3.length + 1);
          } while (-1 !== o3);
          return e3;
        }, l2 = (e3, t3, n3) => {
          const o3 = `src="${n3}"${n3 === At.transparentSrc ? ' data-mce-placeholder="1"' : ""}`;
          return e3 = i2(e3, `src="${t3}"`, o3), i2(e3, 'data-mce-src="' + t3 + '"', 'data-mce-src="' + n3 + '"');
        }, d2 = (t3, n3) => {
          V(e2.undoManager.data, (e3) => {
            "fragmented" === e3.type ? e3.fragments = q(e3.fragments, (e4) => l2(e4, t3, n3)) : e3.content = l2(e3.content, t3, n3);
          });
        }, c2 = () => (n2 || (n2 = Gw(e2, r2)), p2().then(a2((o3) => {
          const r3 = q(o3, (e3) => e3.blobInfo);
          return n2.upload(r3, Yw(e2)).then(a2((n3) => {
            const r4 = [];
            let s3 = false;
            const a3 = q(n3, (n4, a4) => {
              const { blobInfo: i3, image: l3 } = o3[a4];
              let c3 = false;
              return n4.status && Wl(e2) ? (n4.url && !je(l3.src, n4.url) && (s3 = true), t2.removeByUri(l3.src), ZC(e2) || ((t3, n5) => {
                const o4 = e2.convertURL(n5, "src");
                var r5;
                d2(t3.src, n5), Zt(yn(t3), { src: Vl(e2) ? (r5 = n5, r5 + (-1 === r5.indexOf("?") ? "?" : "&") + (/* @__PURE__ */ new Date()).getTime()) : n5, "data-mce-src": o4 });
              })(l3, n4.url)) : n4.error && (n4.error.remove && (d2(l3.src, At.transparentSrc), r4.push(l3), c3 = true), ((e3, t3) => {
                Fw(e3, Ka.translate(["Failed to upload image: {0}", t3]));
              })(e2, n4.error.message)), { element: l3, status: n4.status, uploadUri: n4.url, blobInfo: i3, removed: c3 };
            });
            return r4.length > 0 && !ZC(e2) ? e2.undoManager.transact(() => {
              V(_o(r4), (n4) => {
                const o4 = An(n4);
                xo(n4), o4.each(/* @__PURE__ */ ((e3) => (t3) => {
                  ((e4, t4) => e4.dom.isEmpty(t4.dom) && C(e4.schema.getTextBlockElements()[Ht(t4)]))(e3, t3) && vo(t3, hn('<br data-mce-bogus="1" />'));
                })(e2)), t2.removeByUri(n4.dom.src);
              });
            }) : s3 && e2.undoManager.dispatchChange(), a3;
          }));
        }))), u2 = () => ql(e2) ? c2() : Promise.resolve([]), g2 = (e3) => ne(s2, (t3) => t3(e3)), p2 = () => (o2 || (o2 = qw(r2, t2)), o2.findAll(e2.getBody(), g2).then(a2((t3) => {
          const n3 = Y(t3, (t4) => m(t4) ? (Fw(e2, t4), false) : "blob" !== t4.uriType);
          return ZC(e2) || V(n3, (e3) => {
            d2(e3.image.src, e3.blobInfo.blobUri()), e3.image.src = e3.blobInfo.blobUri(), e3.image.removeAttribute("data-mce-src");
          }), n3;
        }))), h2 = (n3) => n3.replace(/src="(blob:[^"]+)"/g, (n4, o3) => {
          const s3 = r2.getResultUri(o3);
          if (s3) return 'src="' + s3 + '"';
          let a3 = t2.getByUri(o3);
          return a3 || (a3 = X(e2.editorManager.get(), (e3, t3) => e3 || t3.editorUpload && t3.editorUpload.blobCache.getByUri(o3), void 0)), a3 ? 'src="data:' + a3.blob().type + ";base64," + a3.base64() + '"' : n4;
        });
        return e2.on("SetContent", () => {
          ql(e2) ? u2() : p2();
        }), e2.on("RawSaveContent", (e3) => {
          e3.content = h2(e3.content);
        }), e2.on("GetContent", (e3) => {
          e3.source_view || "raw" === e3.format || "tree" === e3.format || (e3.content = h2(e3.content));
        }), e2.on("PostRender", () => {
          e2.parser.addNodeFilter("img", (e3) => {
            V(e3, (e4) => {
              const n3 = e4.attr("src");
              if (!n3 || t2.getByUri(n3)) return;
              const o3 = r2.getResultUri(n3);
              o3 && e4.attr("src", o3);
            });
          });
        }), { blobCache: t2, addFilter: (e3) => {
          s2.push(e3);
        }, uploadImages: c2, uploadImagesAuto: u2, scanForImages: p2, destroy: () => {
          t2.destroy(), r2.destroy(), o2 = n2 = null;
        } };
      }, Qw = { remove_similar: true, inherit: false }, Jw = { selector: "td,th", ...Qw }, Zw = { tablecellbackgroundcolor: { styles: { backgroundColor: "%value" }, ...Jw }, tablecellverticalalign: { styles: { "vertical-align": "%value" }, ...Jw }, tablecellbordercolor: { styles: { borderColor: "%value" }, ...Jw }, tablecellclass: { classes: ["%value"], ...Jw }, tableclass: { selector: "table", classes: ["%value"], ...Qw }, tablecellborderstyle: { styles: { borderStyle: "%value" }, ...Jw }, tablecellborderwidth: { styles: { borderWidth: "%value" }, ...Jw } }, ex = N(Zw), tx = Pt.each, nx = za.DOM, ox = (e2) => C(e2) && f(e2), rx = (e2, t2) => {
        const n2 = t2 && t2.schema || ua({}), o2 = (e3) => {
          const t3 = m(e3) ? { name: e3, classes: [], attrs: {} } : e3, n3 = nx.create(t3.name);
          return ((e4, t4) => {
            t4.classes.length > 0 && nx.addClass(e4, t4.classes.join(" ")), nx.setAttribs(e4, t4.attrs);
          })(n3, t3), n3;
        }, r2 = (e3, t3, s3) => {
          let a2;
          const i2 = t3[0], l2 = ox(i2) ? i2.name : void 0, d2 = ((e4, t4) => {
            const o3 = n2.getElementRule(e4.nodeName.toLowerCase()), r3 = null == o3 ? void 0 : o3.parentsRequired;
            return !(!r3 || !r3.length) && (t4 && H(r3, t4) ? t4 : r3[0]);
          })(e3, l2);
          if (d2) l2 === d2 ? (a2 = i2, t3 = t3.slice(1)) : a2 = d2;
          else if (i2) a2 = i2, t3 = t3.slice(1);
          else if (!s3) return e3;
          const c2 = a2 ? o2(a2) : nx.create("div");
          c2.appendChild(e3), s3 && Pt.each(s3, (t4) => {
            const n3 = o2(t4);
            c2.insertBefore(n3, e3);
          });
          const u2 = ox(a2) ? a2.siblings : void 0;
          return r2(c2, t3, u2);
        }, s2 = nx.create("div");
        if (e2.length > 0) {
          const t3 = e2[0], n3 = o2(t3), a2 = ox(t3) ? t3.siblings : void 0;
          s2.appendChild(r2(n3, e2.slice(1), a2));
        }
        return s2;
      }, sx = (e2) => {
        let t2 = "div";
        const n2 = { name: t2, classes: [], attrs: {}, selector: e2 = Pt.trim(e2) };
        return "*" !== e2 && (t2 = e2.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, (e3, t3, o2, r2, s2) => {
          switch (t3) {
            case "#":
              n2.attrs.id = o2;
              break;
            case ".":
              n2.classes.push(o2);
              break;
            case ":":
              -1 !== Pt.inArray("checked disabled enabled read-only required".split(" "), o2) && (n2.attrs[o2] = o2);
          }
          if ("[" === r2) {
            const e4 = s2.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
            e4 && (n2.attrs[e4[1]] = e4[2]);
          }
          return "";
        })), n2.name = t2 || "div", n2;
      }, ax = (e2, t2) => {
        let n2 = "", o2 = wd(e2);
        if ("" === o2) return "";
        const r2 = (e3) => m(e3) ? e3.replace(/%(\w+)/g, "") : "", s2 = (t3, n3) => nx.getStyle(null != n3 ? n3 : e2.getBody(), t3, true);
        if (m(t2)) {
          const n3 = e2.formatter.get(t2);
          if (!n3) return "";
          t2 = n3[0];
        }
        if ("preview" in t2) {
          const e3 = t2.preview;
          if (false === e3) return "";
          o2 = e3 || o2;
        }
        let a2, i2 = t2.block || t2.inline || "span";
        const l2 = (d2 = t2.selector, m(d2) ? (d2 = (d2 = d2.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Pt.map(d2.split(/(?:>|\s+(?![^\[\]]+\]))/), (e3) => {
          const t3 = Pt.map(e3.split(/(?:~\+|~|\+)/), sx), n3 = t3.pop();
          return t3.length && (n3.siblings = t3), n3;
        }).reverse()) : []);
        var d2;
        l2.length > 0 ? (l2[0].name || (l2[0].name = i2), i2 = t2.selector, a2 = rx(l2, e2)) : a2 = rx([i2], e2);
        const c2 = nx.select(i2, a2)[0] || a2.firstChild;
        tx(t2.styles, (e3, t3) => {
          const n3 = r2(e3);
          n3 && nx.setStyle(c2, t3, n3);
        }), tx(t2.attributes, (e3, t3) => {
          const n3 = r2(e3);
          n3 && nx.setAttrib(c2, t3, n3);
        }), tx(t2.classes, (e3) => {
          const t3 = r2(e3);
          nx.hasClass(c2, t3) || nx.addClass(c2, t3);
        }), e2.dispatch("PreviewFormats"), nx.setStyles(a2, { position: "absolute", left: -65535 }), e2.getBody().appendChild(a2);
        const u2 = s2("fontSize"), f2 = /px$/.test(u2) ? parseInt(u2, 10) : 0;
        return tx(o2.split(" "), (e3) => {
          let t3 = s2(e3, c2);
          if (!("background-color" === e3 && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t3) && (t3 = s2(e3), "#ffffff" === Ca(t3).toLowerCase()) || "color" === e3 && "#000000" === Ca(t3).toLowerCase())) {
            if ("font-size" === e3 && /em|%$/.test(t3)) {
              if (0 === f2) return;
              t3 = parseFloat(t3) / (/%$/.test(t3) ? 100 : 1) * f2 + "px";
            }
            "border" === e3 && t3 && (n2 += "padding:0 2px;"), n2 += e3 + ":" + t3 + ";";
          }
        }), e2.dispatch("AfterPreviewFormats"), nx.remove(a2), n2;
      }, ix = (e2) => {
        const t2 = ((e3) => {
          const t3 = {}, n3 = (e4, o2) => {
            e4 && (m(e4) ? (p(o2) || (o2 = [o2]), V(o2, (e5) => {
              v(e5.deep) && (e5.deep = !km(e5)), v(e5.split) && (e5.split = !km(e5) || Nm(e5)), v(e5.remove) && km(e5) && !Nm(e5) && (e5.remove = "none"), km(e5) && Nm(e5) && (e5.mixed = true, e5.block_expand = true), m(e5.classes) && (e5.classes = e5.classes.split(/\s+/));
            }), t3[e4] = o2) : ge(e4, (e5, t4) => {
              n3(t4, e5);
            }));
          };
          return n3(((e4) => {
            const t4 = e4.dom, n4 = e4.schema.type, o2 = { valigntop: [{ selector: "td,th", styles: { verticalAlign: "top" } }], valignmiddle: [{ selector: "td,th", styles: { verticalAlign: "middle" } }], valignbottom: [{ selector: "td,th", styles: { verticalAlign: "bottom" } }], alignleft: [{ selector: "figure.image", collapsed: false, classes: "align-left", ceFalseOverride: true, preview: "font-family font-size" }, { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre", styles: { textAlign: "left" }, inherit: false, preview: false }, { selector: "img,audio,video", collapsed: false, styles: { float: "left" }, preview: "font-family font-size" }, { selector: "table", collapsed: false, styles: { marginLeft: "0px", marginRight: "auto" }, onformat: (e5) => {
              t4.setStyle(e5, "float", null);
            }, preview: "font-family font-size" }, { selector: ".mce-preview-object,[data-ephox-embed-iri]", ceFalseOverride: true, styles: { float: "left" } }], aligncenter: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre", styles: { textAlign: "center" }, inherit: false, preview: "font-family font-size" }, { selector: "figure.image", collapsed: false, classes: "align-center", ceFalseOverride: true, preview: "font-family font-size" }, { selector: "img,audio,video", collapsed: false, styles: { display: "block", marginLeft: "auto", marginRight: "auto" }, preview: false }, { selector: "table", collapsed: false, styles: { marginLeft: "auto", marginRight: "auto" }, preview: "font-family font-size" }, { selector: ".mce-preview-object", ceFalseOverride: true, styles: { display: "table", marginLeft: "auto", marginRight: "auto" }, preview: false }, { selector: "[data-ephox-embed-iri]", ceFalseOverride: true, styles: { marginLeft: "auto", marginRight: "auto" }, preview: false }], alignright: [{ selector: "figure.image", collapsed: false, classes: "align-right", ceFalseOverride: true, preview: "font-family font-size" }, { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre", styles: { textAlign: "right" }, inherit: false, preview: "font-family font-size" }, { selector: "img,audio,video", collapsed: false, styles: { float: "right" }, preview: "font-family font-size" }, { selector: "table", collapsed: false, styles: { marginRight: "0px", marginLeft: "auto" }, onformat: (e5) => {
              t4.setStyle(e5, "float", null);
            }, preview: "font-family font-size" }, { selector: ".mce-preview-object,[data-ephox-embed-iri]", ceFalseOverride: true, styles: { float: "right" }, preview: false }], alignjustify: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre", styles: { textAlign: "justify" }, inherit: false, preview: "font-family font-size" }], bold: [{ inline: "strong", remove: "all", preserve_attributes: ["class", "style"] }, { inline: "span", styles: { fontWeight: "bold" } }, { inline: "b", remove: "all", preserve_attributes: ["class", "style"] }], italic: [{ inline: "em", remove: "all", preserve_attributes: ["class", "style"] }, { inline: "span", styles: { fontStyle: "italic" } }, { inline: "i", remove: "all", preserve_attributes: ["class", "style"] }], underline: [{ inline: "span", styles: { textDecoration: "underline" }, exact: true }, { inline: "u", remove: "all", preserve_attributes: ["class", "style"] }], strikethrough: /* @__PURE__ */ (() => {
              const e5 = { inline: "span", styles: { textDecoration: "line-through" }, exact: true }, t5 = { inline: "strike", remove: "all", preserve_attributes: ["class", "style"] }, o3 = { inline: "s", remove: "all", preserve_attributes: ["class", "style"] };
              return "html4" !== n4 ? [o3, e5, t5] : [e5, o3, t5];
            })(), forecolor: { inline: "span", styles: { color: "%value" }, links: true, remove_similar: true, clear_child_styles: true }, hilitecolor: { inline: "span", styles: { backgroundColor: "%value" }, links: true, remove_similar: true, clear_child_styles: true }, fontname: { inline: "span", toggle: false, styles: { fontFamily: "%value" }, clear_child_styles: true }, fontsize: { inline: "span", toggle: false, styles: { fontSize: "%value" }, clear_child_styles: true }, lineheight: { selector: "h1,h2,h3,h4,h5,h6,p,li,td,th,div", styles: { lineHeight: "%value" } }, fontsize_class: { inline: "span", attributes: { class: "%value" } }, blockquote: { block: "blockquote", wrapper: true, remove: "all" }, subscript: { inline: "sub" }, superscript: { inline: "sup" }, code: { inline: "code" }, link: { inline: "a", selector: "a", remove: "all", split: true, deep: true, onmatch: (e5, t5, n5) => qo(e5) && e5.hasAttribute("href"), onformat: (e5, n5, o3) => {
              Pt.each(o3, (n6, o4) => {
                t4.setAttrib(e5, o4, n6);
              });
            } }, lang: { inline: "span", clear_child_styles: true, remove_similar: true, attributes: { lang: "%value", "data-mce-lang": (e5) => {
              var t5;
              return null !== (t5 = null == e5 ? void 0 : e5.customValue) && void 0 !== t5 ? t5 : null;
            } } }, removeformat: [{ selector: "b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small", remove: "all", split: true, expand: false, block_expand: true, deep: true }, { selector: "span", attributes: ["style", "class"], remove: "empty", split: true, expand: false, deep: true }, { selector: "*", attributes: ["style", "class"], split: false, expand: false, deep: true }] };
            return Pt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/), (e5) => {
              o2[e5] = { block: e5, remove: "all" };
            }), o2;
          })(e3)), n3(ex()), n3(Cd(e3)), { get: (e4) => C(e4) ? t3[e4] : t3, has: (e4) => Ee(t3, e4), register: n3, unregister: (e4) => (e4 && t3[e4] && delete t3[e4], t3) };
        })(e2), n2 = $a({});
        return ((e3) => {
          e3.addShortcut("meta+b", "", "Bold"), e3.addShortcut("meta+i", "", "Italic"), e3.addShortcut("meta+u", "", "Underline");
          for (let t3 = 1; t3 <= 6; t3++) e3.addShortcut("access+" + t3, "", ["FormatBlock", false, "h" + t3]);
          e3.addShortcut("access+7", "", ["FormatBlock", false, "p"]), e3.addShortcut("access+8", "", ["FormatBlock", false, "div"]), e3.addShortcut("access+9", "", ["FormatBlock", false, "address"]);
        })(e2), ((e3) => {
          e3.on("mouseup keydown", (t3) => {
            var n3;
            ((e4, t4, n4) => {
              const o2 = e4.selection, r2 = e4.getBody();
              Kb(e4, null, n4), 8 !== t4 && 46 !== t4 || !o2.isCollapsed() || o2.getStart().innerHTML !== $b || Kb(e4, Lu(r2, o2.getStart()), true), 37 !== t4 && 39 !== t4 || Kb(e4, Lu(r2, o2.getStart()), true);
            })(e3, t3.keyCode, (n3 = e3.selection.getRng().endContainer, er(n3) && $e(n3.data, br)));
          });
        })(e2), ZC(e2) || ((e3, t3) => {
          e3.set({}), t3.on("NodeChange", (n3) => {
            Hv(t3, n3.element, e3.get());
          }), t3.on("FormatApply FormatRemove", (n3) => {
            const o2 = I.from(n3.node).map((e4) => dm(e4) ? e4 : e4.startContainer).bind((e4) => qo(e4) ? I.some(e4) : I.from(e4.parentElement)).getOrThunk(() => Uv(t3));
            Hv(t3, o2, e3.get());
          });
        })(n2, e2), { get: t2.get, has: t2.has, register: t2.register, unregister: t2.unregister, apply: (t3, n3, o2) => {
          ((e3, t4, n4, o3) => {
            tw(e3).formatter.apply(t4, n4, o3);
          })(e2, t3, n3, o2);
        }, remove: (t3, n3, o2, r2) => {
          ((e3, t4, n4, o3, r3) => {
            tw(e3).formatter.remove(t4, n4, o3, r3);
          })(e2, t3, n3, o2, r2);
        }, toggle: (t3, n3, o2) => {
          ((e3, t4, n4, o3) => {
            tw(e3).formatter.toggle(t4, n4, o3);
          })(e2, t3, n3, o2);
        }, match: (t3, n3, o2, r2) => ((e3, t4, n4, o3, r3) => tw(e3).formatter.match(t4, n4, o3, r3))(e2, t3, n3, o2, r2), closest: (t3) => ((e3, t4) => tw(e3).formatter.closest(t4))(e2, t3), matchAll: (t3, n3) => ((e3, t4, n4) => tw(e3).formatter.matchAll(t4, n4))(e2, t3, n3), matchNode: (t3, n3, o2, r2) => ((e3, t4, n4, o3, r3) => tw(e3).formatter.matchNode(t4, n4, o3, r3))(e2, t3, n3, o2, r2), canApply: (t3) => ((e3, t4) => tw(e3).formatter.canApply(t4))(e2, t3), formatChanged: (t3, o2, r2, s2) => ((e3, t4, n3, o3, r3, s3) => tw(e3).formatter.formatChanged(t4, n3, o3, r3, s3))(e2, n2, t3, o2, r2, s2), getCssText: T(ax, e2) };
      }, lx = (e2) => {
        switch (e2.toLowerCase()) {
          case "undo":
          case "redo":
          case "mcefocus":
            return true;
          default:
            return false;
        }
      }, dx = (e2) => {
        const t2 = Xa(), n2 = $a(0), o2 = $a(0), r2 = { data: [], typing: false, beforeChange: () => {
          ((e3, t3, n3) => {
            tw(e3).undoManager.beforeChange(t3, n3);
          })(e2, n2, t2);
        }, add: (s2, a2) => ((e3, t3, n3, o3, r3, s3, a3) => tw(e3).undoManager.add(t3, n3, o3, r3, s3, a3))(e2, r2, o2, n2, t2, s2, a2), dispatchChange: () => {
          e2.setDirty(true);
          const t3 = qC(e2);
          t3.bookmark = ml(e2.selection), e2.dispatch("change", { level: t3, lastLevel: ie(r2.data, o2.get()).getOrUndefined() });
        }, undo: () => ((e3, t3, n3, o3) => tw(e3).undoManager.undo(t3, n3, o3))(e2, r2, n2, o2), redo: () => ((e3, t3, n3) => tw(e3).undoManager.redo(t3, n3))(e2, o2, r2.data), clear: () => {
          ((e3, t3, n3) => {
            tw(e3).undoManager.clear(t3, n3);
          })(e2, r2, o2);
        }, reset: () => {
          ((e3, t3) => {
            tw(e3).undoManager.reset(t3);
          })(e2, r2);
        }, hasUndo: () => ((e3, t3, n3) => tw(e3).undoManager.hasUndo(t3, n3))(e2, r2, o2), hasRedo: () => ((e3, t3, n3) => tw(e3).undoManager.hasRedo(t3, n3))(e2, r2, o2), transact: (t3) => ((e3, t4, n3, o3) => tw(e3).undoManager.transact(t4, n3, o3))(e2, r2, n2, t3), ignore: (t3) => {
          ((e3, t4, n3) => {
            tw(e3).undoManager.ignore(t4, n3);
          })(e2, n2, t3);
        }, extra: (t3, n3) => {
          ((e3, t4, n4, o3, r3) => {
            tw(e3).undoManager.extra(t4, n4, o3, r3);
          })(e2, r2, o2, t3, n3);
        } };
        return ZC(e2) || ((e3, t3, n3) => {
          const o3 = $a(false), r3 = (e4) => {
            XC(t3, false, n3), t3.add({}, e4);
          };
          e3.on("init", () => {
            t3.add();
          }), e3.on("BeforeExecCommand", (e4) => {
            const o4 = e4.command;
            lx(o4) || (QC(t3, n3), t3.beforeChange());
          }), e3.on("ExecCommand", (e4) => {
            const t4 = e4.command;
            lx(t4) || r3(e4);
          }), e3.on("ObjectResizeStart cut", () => {
            t3.beforeChange();
          }), e3.on("SaveContent ObjectResized blur", r3), e3.on("dragend", r3), e3.on("keyup", (n4) => {
            const s2 = n4.keyCode;
            if (n4.isDefaultPrevented()) return;
            const a2 = At.os.isMacOS() && "Meta" === n4.key;
            (s2 >= 33 && s2 <= 36 || s2 >= 37 && s2 <= 40 || 45 === s2 || n4.ctrlKey || a2) && (r3(), e3.nodeChanged()), 46 !== s2 && 8 !== s2 || e3.nodeChanged(), o3.get() && t3.typing && !YC(qC(e3), t3.data[0]) && (e3.isDirty() || e3.setDirty(true), e3.dispatch("TypingUndo"), o3.set(false), e3.nodeChanged());
          }), e3.on("keydown", (e4) => {
            const s2 = e4.keyCode;
            if (e4.isDefaultPrevented()) return;
            if (s2 >= 33 && s2 <= 36 || s2 >= 37 && s2 <= 40 || 45 === s2) return void (t3.typing && r3(e4));
            const a2 = e4.ctrlKey && !e4.altKey || e4.metaKey;
            if ((s2 < 16 || s2 > 20) && 224 !== s2 && 91 !== s2 && !t3.typing && !a2) return t3.beforeChange(), XC(t3, true, n3), t3.add({}, e4), void o3.set(true);
            (At.os.isMacOS() ? e4.metaKey : e4.ctrlKey && !e4.altKey) && t3.beforeChange();
          }), e3.on("mousedown", (e4) => {
            t3.typing && r3(e4);
          }), e3.on("input", (e4) => {
            var t4;
            e4.inputType && ("insertReplacementText" === e4.inputType || "insertText" === (t4 = e4).inputType && null === t4.data || ((e5) => "insertFromPaste" === e5.inputType || "insertFromDrop" === e5.inputType)(e4)) && r3(e4);
          }), e3.on("AddUndo Undo Redo ClearUndos", (t4) => {
            t4.isDefaultPrevented() || e3.nodeChanged();
          });
        })(e2, r2, n2), ((e3) => {
          e3.addShortcut("meta+z", "", "Undo"), e3.addShortcut("meta+y,meta+shift+z", "", "Redo");
        })(e2), r2;
      }, cx = [9, 27, af.HOME, af.END, 19, 20, 44, 144, 145, 33, 34, 45, 16, 17, 18, 91, 92, 93, af.DOWN, af.UP, af.LEFT, af.RIGHT].concat(At.browser.isFirefox() ? [224] : []), ux = "data-mce-placeholder", mx = (e2) => "keydown" === e2.type || "keyup" === e2.type, fx = (e2) => {
        const t2 = e2.keyCode;
        return t2 === af.BACKSPACE || t2 === af.DELETE;
      }, gx = (e2, t2) => ({ from: e2, to: t2 }), px = (e2, t2) => {
        const n2 = yn(e2), o2 = yn(t2.container());
        return Ah(n2, o2).map((e3) => /* @__PURE__ */ ((e4, t3) => ({ block: e4, position: t3 }))(e3, t2));
      }, hx = (e2, t2) => Jn(t2, (e3) => Rr(e3) || lr(e3.dom), (t3) => _n(t3, e2)).filter(Wt).getOr(e2), bx = (e2, t2) => {
        const n2 = ((e3, t3) => {
          const n3 = Mn(e3);
          return Z(n3, (e4) => t3.isBlock(Ht(e4))).fold(N(n3), (e4) => n3.slice(0, e4));
        })(e2, t2);
        return V(n2, xo), n2;
      }, vx = (e2, t2) => {
        const n2 = Bp(t2, e2);
        return J(n2.reverse(), (e3) => gs(e3)).each(xo);
      }, yx = (e2, t2, n2, o2, r2) => {
        if (gs(n2)) return Or(n2), Ou(n2.dom);
        0 === Y(Dn(r2), (e3) => !gs(e3)).length && gs(t2) && po(r2, bn("br"));
        const s2 = Tu(n2.dom, Vi.before(r2.dom));
        return V(bx(t2, o2), (e3) => {
          po(r2, e3);
        }), vx(e2, t2), s2;
      }, Cx = (e2, t2, n2, o2) => {
        if (gs(n2)) {
          if (gs(t2)) {
            const e3 = (e4) => {
              const t3 = (e5, n3) => Fn(e5).fold(() => n3, (e6) => ((e7, t4) => e7.isInline(Ht(t4)))(o2, e6) ? t3(e6, n3.concat(fi(e6))) : n3);
              return t3(e4, []);
            }, r3 = G(e3(n2), (e4, t3) => (yo(e4, t3), t3), Tr());
            wo(t2), vo(t2, r3);
          }
          return xo(n2), Ou(t2.dom);
        }
        const r2 = Bu(n2.dom);
        return V(bx(t2, o2), (e3) => {
          vo(n2, e3);
        }), vx(e2, t2), r2;
      }, wx = (e2, t2) => {
        Ru(e2, t2.dom).bind((e3) => I.from(e3.getNode())).map(yn).filter(Er).each(xo);
      }, xx = (e2, t2, n2, o2) => (wx(true, t2), wx(false, n2), ((e3, t3) => Sn(t3, e3) ? ((e4, t4) => {
        const n3 = Bp(t4, e4);
        return I.from(n3[n3.length - 1]);
      })(t3, e3) : I.none())(t2, n2).fold(T(Cx, e2, t2, n2, o2), T(yx, e2, t2, n2, o2))), Ex = (e2, t2, n2, o2, r2) => t2 ? xx(e2, o2, n2, r2) : xx(e2, n2, o2, r2), _x = (e2, t2) => {
        const n2 = yn(e2.getBody()), o2 = ((e3, t3, n3) => n3.collapsed ? ((e4, t4, n4) => {
          const o3 = px(e4, Vi.fromRangeStart(n4)), r2 = o3.bind((n5) => Su(t4, e4, n5.position).bind((n6) => px(e4, n6).map((n7) => ((e5, t5, n8) => ar(n8.position.getNode()) && !gs(n8.block) ? Ru(false, n8.block.dom).bind((o4) => o4.isEqual(n8.position) ? Su(t5, e5, o4).bind((t6) => px(e5, t6)) : I.some(n8)).getOr(n8) : n8)(e4, t4, n7))));
          return Mt(o3, r2, gx).filter((t5) => ((e5) => !_n(e5.from.block, e5.to.block))(t5) && ((e5, t6) => {
            const n5 = yn(e5);
            return _n(hx(n5, t6.from.block), hx(n5, t6.to.block));
          })(e4, t5) && ((e5) => false === dr(e5.from.block.dom) && false === dr(e5.to.block.dom))(t5) && ((e5) => {
            const t6 = (e6) => _r(e6) || Ns(e6.dom);
            return t6(e5.from.block) && t6(e5.to.block);
          })(t5));
        })(e3, t3, n3) : I.none())(n2.dom, t2, e2.selection.getRng()).map((o3) => () => {
          Ex(n2, t2, o3.from.block, o3.to.block, e2.schema).each((t3) => {
            e2.selection.setRng(t3.toRange());
          });
        });
        return o2;
      }, Sx = (e2, t2) => {
        const n2 = yn(t2), o2 = T(_n, e2);
        return Qn(n2, Rr, o2).isSome();
      }, kx = (e2) => {
        const t2 = yn(e2.getBody());
        return ((e3, t3) => {
          const n2 = Tu(e3.dom, Vi.fromRangeStart(t3)).isNone(), o2 = Au(e3.dom, Vi.fromRangeEnd(t3)).isNone();
          return !((e4, t4) => Sx(e4, t4.startContainer) || Sx(e4, t4.endContainer))(e3, t3) && n2 && o2;
        })(t2, e2.selection.getRng()) ? ((e3) => I.some(() => {
          e3.setContent(""), e3.selection.setCursorLocation();
        }))(e2) : ((e3, t3, n2) => {
          const o2 = t3.getRng();
          return Mt(Ah(e3, yn(o2.startContainer)), Ah(e3, yn(o2.endContainer)), (r2, s2) => _n(r2, s2) ? I.none() : I.some(() => {
            o2.deleteContents(), Ex(e3, true, r2, s2, n2).each((e4) => {
              t3.setRng(e4.toRange());
            });
          })).getOr(I.none());
        })(t2, e2.selection, e2.schema);
      }, Nx = (e2, t2) => e2.selection.isCollapsed() ? I.none() : kx(e2), Rx = (e2, t2, n2, o2, r2) => I.from(t2._selectionOverrides.showCaret(e2, n2, o2, r2)), Ax = (e2, t2) => e2.dispatch("BeforeObjectSelected", { target: t2 }).isDefaultPrevented() ? I.none() : I.some(((e3) => {
        const t3 = e3.ownerDocument.createRange();
        return t3.selectNode(e3), t3;
      })(t2)), Tx = (e2, t2, n2) => t2.collapsed ? ((e3, t3, n3) => {
        const o2 = ru(1, e3.getBody(), t3), r2 = Vi.fromRangeStart(o2), s2 = r2.getNode();
        if (Lc(s2)) return Rx(1, e3, s2, !r2.isAtEnd(), false);
        const a2 = r2.getNode(true);
        if (Lc(a2)) return Rx(1, e3, a2, false, false);
        const i2 = lb(e3.dom.getRoot(), r2.getNode());
        return Lc(i2) ? Rx(1, e3, i2, false, n3) : I.none();
      })(e2, t2, n2).getOr(t2) : t2, Ox = (e2) => Ap(e2) || Sp(e2), Bx = (e2) => Tp(e2) || kp(e2), Px = (e2, t2, n2, o2, r2, s2) => {
        Rx(o2, e2, s2.getNode(!r2), r2, true).each((n3) => {
          if (t2.collapsed) {
            const e3 = t2.cloneRange();
            r2 ? e3.setEnd(n3.startContainer, n3.startOffset) : e3.setStart(n3.endContainer, n3.endOffset), e3.deleteContents();
          } else t2.deleteContents();
          e2.selection.setRng(n3);
        }), ((e3, t3) => {
          er(t3) && 0 === t3.data.length && e3.remove(t3);
        })(e2.dom, n2);
      }, Dx = (e2, t2) => ((e3, t3) => {
        const n2 = e3.selection.getRng();
        if (!er(n2.commonAncestorContainer)) return I.none();
        const o2 = t3 ? cu.Forwards : cu.Backwards, r2 = wu(e3.getBody()), s2 = T(lu, t3 ? r2.next : r2.prev), a2 = t3 ? Ox : Bx, i2 = au(o2, e3.getBody(), n2), l2 = s2(i2), d2 = l2 ? Eh(t3, l2) : l2;
        if (!d2 || !du(i2, d2)) return I.none();
        if (a2(d2)) return I.some(() => Px(e3, n2, i2.getNode(), o2, t3, d2));
        const c2 = s2(d2);
        return c2 && a2(c2) && du(d2, c2) ? I.some(() => Px(e3, n2, i2.getNode(), o2, t3, c2)) : I.none();
      })(e2, t2), Lx = (e2, t2) => {
        const n2 = e2.getBody();
        return t2 ? Ou(n2).filter(Ap) : Bu(n2).filter(Tp);
      }, Mx = (e2) => {
        const t2 = e2.selection.getRng();
        return !t2.collapsed && (Lx(e2, true).exists((e3) => e3.isEqual(Vi.fromRangeStart(t2))) || Lx(e2, false).exists((e3) => e3.isEqual(Vi.fromRangeEnd(t2))));
      }, Ix = hl([{ remove: ["element"] }, { moveToElement: ["element"] }, { moveToPosition: ["position"] }]), Fx = (e2, t2, n2, o2) => Su(t2, e2, n2).bind((r2) => {
        return s2 = r2.getNode(), C(s2) && (Rr(yn(s2)) || kr(yn(s2))) || ((e3, t3, n3, o3, r3) => {
          const s3 = (t4) => r3.isInline(t4.nodeName.toLowerCase()) && !Qc(n3, o3, e3);
          return su(!t3, n3).fold(() => su(t3, o3).fold(L, s3), s3);
        })(e2, t2, n2, r2, o2) ? I.none() : t2 && dr(r2.getNode()) || !t2 && dr(r2.getNode(true)) ? ((e3, t3, n3, o3) => {
          const r3 = o3.getNode(!t3);
          return Ah(yn(e3), yn(n3.getNode())).map((e4) => gs(e4) ? Ix.remove(e4.dom) : Ix.moveToElement(r3)).orThunk(() => I.some(Ix.moveToElement(r3)));
        })(e2, t2, n2, r2) : t2 && Tp(n2) || !t2 && Ap(n2) ? I.some(Ix.moveToPosition(r2)) : I.none();
        var s2;
      }), Ux = (e2, t2) => I.from(lb(e2.getBody(), t2)), zx = (e2, t2) => {
        const n2 = e2.selection.getNode();
        return Ux(e2, n2).filter(dr).fold(() => ((e3, t3, n3, o2) => {
          const r2 = ru(t3 ? 1 : -1, e3, n3), s2 = Vi.fromRangeStart(r2), a2 = yn(e3);
          return !t3 && Tp(s2) ? I.some(Ix.remove(s2.getNode(true))) : t3 && Ap(s2) ? I.some(Ix.remove(s2.getNode())) : !t3 && Ap(s2) && qp(a2, s2, o2) ? Vp(a2, s2, o2).map((e4) => Ix.remove(e4.getNode())) : t3 && Tp(s2) && $p(a2, s2, o2) ? Wp(a2, s2, o2).map((e4) => Ix.remove(e4.getNode())) : ((e4, t4, n4, o3) => ((e5, t5) => {
            const n5 = t5.getNode(!e5), o4 = e5 ? "after" : "before";
            return qo(n5) && n5.getAttribute("data-mce-caret") === o4;
          })(t4, n4) ? ((e5, t5) => y(t5) ? I.none() : e5 && dr(t5.nextSibling) ? I.some(Ix.moveToElement(t5.nextSibling)) : !e5 && dr(t5.previousSibling) ? I.some(Ix.moveToElement(t5.previousSibling)) : I.none())(t4, n4.getNode(!t4)).orThunk(() => Fx(e4, t4, n4, o3)) : Fx(e4, t4, n4, o3).bind((t5) => ((e5, t6, n5) => n5.fold((e6) => I.some(Ix.remove(e6)), (e6) => I.some(Ix.moveToElement(e6)), (n6) => Qc(t6, n6, e5) ? I.none() : I.some(Ix.moveToPosition(n6))))(e4, n4, t5)))(e3, t3, s2, o2);
        })(e2.getBody(), t2, e2.selection.getRng(), e2.schema).map((n3) => () => n3.fold(/* @__PURE__ */ ((e3, t3) => (n4) => (e3._selectionOverrides.hideFakeCaret(), vh(e3, t3, yn(n4)), true))(e2, t2), /* @__PURE__ */ ((e3, t3) => (n4) => {
          const o2 = t3 ? Vi.before(n4) : Vi.after(n4);
          return e3.selection.setRng(o2.toRange()), true;
        })(e2, t2), /* @__PURE__ */ ((e3) => (t3) => (e3.selection.setRng(t3.toRange()), true))(e2))), () => I.some(_));
      }, jx = (e2) => {
        const t2 = e2.dom, n2 = e2.selection, o2 = lb(e2.getBody(), n2.getNode());
        if (lr(o2) && t2.isBlock(o2) && t2.isEmpty(o2)) {
          const e3 = t2.create("br", { "data-mce-bogus": "1" });
          t2.setHTML(o2, ""), o2.appendChild(e3), n2.setRng(Vi.before(e3).toRange());
        }
        return true;
      }, Hx = (e2, t2) => e2.selection.isCollapsed() ? zx(e2, t2) : ((e3, t3) => {
        const n2 = e3.selection.getNode();
        return dr(n2) && !cr(n2) ? Ux(e3, n2.parentNode).filter(dr).fold(() => I.some(() => {
          var n3;
          n3 = yn(e3.getBody()), V(Uo(n3, ".mce-offscreen-selection"), xo), vh(e3, t3, yn(e3.selection.getNode())), Th(e3);
        }), () => I.some(_)) : Mx(e3) ? I.some(() => {
          Ph(e3, e3.selection.getRng(), yn(e3.getBody()));
        }) : I.none();
      })(e2, t2), $x = (e2, t2) => e2.selection.isCollapsed() ? ((e3, t3) => {
        const n2 = Vi.fromRangeStart(e3.selection.getRng());
        return Su(t3, e3.getBody(), n2).filter((e4) => t3 ? Ep(e4) : _p(e4)).bind((e4) => Jc(t3 ? 0 : -1, e4)).map((t4) => () => e3.selection.select(t4));
      })(e2, t2) : I.none(), qx = er, Vx = (e2) => qx(e2) && e2.data[0] === Br, Wx = (e2) => qx(e2) && e2.data[e2.data.length - 1] === Br, Kx = (e2) => {
        var t2;
        return (null !== (t2 = e2.ownerDocument) && void 0 !== t2 ? t2 : document).createTextNode(Br);
      }, Yx = (e2, t2) => e2 ? ((e3) => {
        var t3;
        if (qx(e3.previousSibling)) return Wx(e3.previousSibling) || e3.previousSibling.appendData(Br), e3.previousSibling;
        if (qx(e3)) return Vx(e3) || e3.insertData(0, Br), e3;
        {
          const n2 = Kx(e3);
          return null === (t3 = e3.parentNode) || void 0 === t3 || t3.insertBefore(n2, e3), n2;
        }
      })(t2) : ((e3) => {
        var t3, n2;
        if (qx(e3.nextSibling)) return Vx(e3.nextSibling) || e3.nextSibling.insertData(0, Br), e3.nextSibling;
        if (qx(e3)) return Wx(e3) || e3.appendData(Br), e3;
        {
          const o2 = Kx(e3);
          return e3.nextSibling ? null === (t3 = e3.parentNode) || void 0 === t3 || t3.insertBefore(o2, e3.nextSibling) : null === (n2 = e3.parentNode) || void 0 === n2 || n2.appendChild(o2), o2;
        }
      })(t2), Gx = T(Yx, true), Xx = T(Yx, false), Qx = (e2, t2) => er(e2.container()) ? Yx(t2, e2.container()) : Yx(t2, e2.getNode()), Jx = (e2, t2) => {
        const n2 = t2.get();
        return n2 && e2.container() === n2 && Fr(n2);
      }, Zx = (e2, t2) => t2.fold((t3) => {
        Rc(e2.get());
        const n2 = Gx(t3);
        return e2.set(n2), I.some(Vi(n2, n2.length - 1));
      }, (t3) => Ou(t3).map((t4) => {
        if (Jx(t4, e2)) {
          const t5 = e2.get();
          return Vi(t5, 1);
        }
        {
          Rc(e2.get());
          const n2 = Qx(t4, true);
          return e2.set(n2), Vi(n2, 1);
        }
      }), (t3) => Bu(t3).map((t4) => {
        if (Jx(t4, e2)) {
          const t5 = e2.get();
          return Vi(t5, t5.length - 1);
        }
        {
          Rc(e2.get());
          const n2 = Qx(t4, false);
          return e2.set(n2), Vi(n2, n2.length - 1);
        }
      }), (t3) => {
        Rc(e2.get());
        const n2 = Xx(t3);
        return e2.set(n2), I.some(Vi(n2, 1));
      }), eE = (e2, t2) => {
        for (let n2 = 0; n2 < e2.length; n2++) {
          const o2 = e2[n2].apply(null, t2);
          if (o2.isSome()) return o2;
        }
        return I.none();
      }, tE = hl([{ before: ["element"] }, { start: ["element"] }, { end: ["element"] }, { after: ["element"] }]), nE = (e2, t2) => Xc(t2, e2) || e2, oE = (e2, t2, n2) => {
        const o2 = _h(n2), r2 = nE(t2, o2.container());
        return xh(e2, r2, o2).fold(() => Au(r2, o2).bind(T(xh, e2, r2)).map((e3) => tE.before(e3)), I.none);
      }, rE = (e2, t2) => null === Lu(e2, t2), sE = (e2, t2, n2) => xh(e2, t2, n2).filter(T(rE, t2)), aE = (e2, t2, n2) => {
        const o2 = Sh(n2);
        return sE(e2, t2, o2).bind((e3) => Tu(e3, o2).isNone() ? I.some(tE.start(e3)) : I.none());
      }, iE = (e2, t2, n2) => {
        const o2 = _h(n2);
        return sE(e2, t2, o2).bind((e3) => Au(e3, o2).isNone() ? I.some(tE.end(e3)) : I.none());
      }, lE = (e2, t2, n2) => {
        const o2 = Sh(n2), r2 = nE(t2, o2.container());
        return xh(e2, r2, o2).fold(() => Tu(r2, o2).bind(T(xh, e2, r2)).map((e3) => tE.after(e3)), I.none);
      }, dE = (e2) => !wh(uE(e2)), cE = (e2, t2, n2) => eE([oE, aE, iE, lE], [e2, t2, n2]).filter(dE), uE = (e2) => e2.fold(R, R, R, R), mE = (e2) => e2.fold(N("before"), N("start"), N("end"), N("after")), fE = (e2) => e2.fold(tE.before, tE.before, tE.after, tE.after), gE = (e2) => e2.fold(tE.start, tE.start, tE.end, tE.end), pE = (e2, t2, n2, o2, r2, s2) => Mt(xh(t2, n2, o2), xh(t2, n2, r2), (t3, o3) => t3 !== o3 && ((e3, t4, n3) => {
        const o4 = Xc(t4, e3), r3 = Xc(n3, e3);
        return C(o4) && o4 === r3;
      })(n2, t3, o3) ? tE.after(e2 ? t3 : o3) : s2).getOr(s2), hE = (e2, t2) => e2.fold(M, (e3) => {
        return o2 = t2, !(mE(n2 = e3) === mE(o2) && uE(n2) === uE(o2));
        var n2, o2;
      }), bE = (e2, t2) => e2 ? t2.fold(S(I.some, tE.start), I.none, S(I.some, tE.after), I.none) : t2.fold(I.none, S(I.some, tE.before), I.none, S(I.some, tE.end)), vE = (e2, t2, n2) => {
        const o2 = e2 ? 1 : -1;
        return t2.setRng(Vi(n2.container(), n2.offset() + o2).toRange()), t2.getSel().modify("move", e2 ? "forward" : "backward", "word"), true;
      };
      var yE;
      !function(e2) {
        e2[e2.Br = 0] = "Br", e2[e2.Block = 1] = "Block", e2[e2.Wrap = 2] = "Wrap", e2[e2.Eol = 3] = "Eol";
      }(yE || (yE = {}));
      const CE = (e2, t2) => e2 === cu.Backwards ? oe(t2) : t2, wE = (e2, t2, n2) => e2 === cu.Forwards ? t2.next(n2) : t2.prev(n2), xE = (e2, t2, n2, o2) => ar(o2.getNode(t2 === cu.Forwards)) ? yE.Br : false === Qc(n2, o2) ? yE.Block : yE.Wrap, EE = (e2, t2, n2, o2) => {
        const r2 = wu(n2);
        let s2 = o2;
        const a2 = [];
        for (; s2; ) {
          const n3 = wE(t2, r2, s2);
          if (!n3) break;
          if (ar(n3.getNode(false))) return t2 === cu.Forwards ? { positions: CE(t2, a2).concat([n3]), breakType: yE.Br, breakAt: I.some(n3) } : { positions: CE(t2, a2), breakType: yE.Br, breakAt: I.some(n3) };
          if (n3.isVisible()) {
            if (e2(s2, n3)) {
              const e3 = xE(0, t2, s2, n3);
              return { positions: CE(t2, a2), breakType: e3, breakAt: I.some(n3) };
            }
            a2.push(n3), s2 = n3;
          } else s2 = n3;
        }
        return { positions: CE(t2, a2), breakType: yE.Eol, breakAt: I.none() };
      }, _E = (e2, t2, n2, o2) => t2(n2, o2).breakAt.map((o3) => {
        const r2 = t2(n2, o3).positions;
        return e2 === cu.Backwards ? r2.concat(o3) : [o3].concat(r2);
      }).getOr([]), SE = (e2, t2) => X(e2, (e3, n2) => e3.fold(() => I.some(n2), (o2) => Mt(le(o2.getClientRects()), le(n2.getClientRects()), (e4, r2) => {
        const s2 = Math.abs(t2 - e4.left);
        return Math.abs(t2 - r2.left) <= s2 ? n2 : o2;
      }).or(e3)), I.none()), kE = (e2, t2) => le(t2.getClientRects()).bind((t3) => SE(e2, t3.left)), NE = T(EE, Vi.isAbove, -1), RE = T(EE, Vi.isBelow, 1), AE = T(_E, -1, NE), TE = T(_E, 1, RE), OE = (e2, t2) => NE(e2, t2).breakAt.isNone(), BE = (e2, t2) => RE(e2, t2).breakAt.isNone(), PE = (e2, t2) => kE(AE(e2, t2), t2), DE = (e2, t2) => kE(TE(e2, t2), t2), LE = dr, ME = (e2, t2) => Math.abs(e2.left - t2), IE = (e2, t2) => Math.abs(e2.right - t2), FE = (e2, t2) => Oe(e2, (e3, n2) => {
        const o2 = Math.min(ME(e3, t2), IE(e3, t2)), r2 = Math.min(ME(n2, t2), IE(n2, t2));
        return r2 === o2 && _e(n2, "node") && LE(n2.node) || r2 < o2 ? n2 : e3;
      }), UE = (e2) => {
        const t2 = (t3) => q(t3, (t4) => {
          const n2 = vi(t4);
          return n2.node = e2, n2;
        });
        if (qo(e2)) return t2(e2.getClientRects());
        if (er(e2)) {
          const n2 = e2.ownerDocument.createRange();
          return n2.setStart(e2, 0), n2.setEnd(e2, e2.data.length), t2(n2.getClientRects());
        }
        return [];
      }, zE = (e2) => te(e2, UE);
      var jE;
      !function(e2) {
        e2[e2.Up = -1] = "Up", e2[e2.Down = 1] = "Down";
      }(jE || (jE = {}));
      const HE = (e2, t2, n2, o2, r2, s2) => {
        let a2 = 0;
        const i2 = [], l2 = (o3) => {
          let s3 = zE([o3]);
          -1 === e2 && (s3 = s3.reverse());
          for (let e3 = 0; e3 < s3.length; e3++) {
            const o4 = s3[e3];
            if (!n2(o4, d2)) {
              if (i2.length > 0 && t2(o4, Pe(i2)) && a2++, o4.line = a2, r2(o4)) return true;
              i2.push(o4);
            }
          }
          return false;
        }, d2 = Pe(s2.getClientRects());
        if (!d2) return i2;
        const c2 = s2.getNode();
        return c2 && (l2(c2), ((e3, t3, n3, o3) => {
          let r3 = o3;
          for (; r3 = Gc(r3, e3, os, t3); ) if (n3(r3)) return;
        })(e2, o2, l2, c2)), i2;
      }, $E = T(HE, jE.Up, wi, xi), qE = T(HE, jE.Down, xi, wi), VE = (e2) => Pe(e2.getClientRects()), WE = (e2) => (t2) => ((e3, t3) => t3.line > e3)(e2, t2), KE = (e2) => (t2) => ((e3, t3) => t3.line === e3)(e2, t2), YE = (e2, t2) => {
        e2.selection.setRng(t2), sg(e2, e2.selection.getRng());
      }, GE = (e2, t2, n2) => I.some(Tx(e2, t2, n2)), XE = (e2, t2, n2, o2, r2, s2) => {
        const a2 = t2 === cu.Forwards, i2 = wu(e2.getBody()), l2 = T(lu, a2 ? i2.next : i2.prev), d2 = a2 ? o2 : r2;
        if (!n2.collapsed) {
          const o3 = _i(n2);
          if (s2(o3)) return Rx(t2, e2, o3, t2 === cu.Backwards, false);
          if (Mx(e2)) {
            const e3 = n2.cloneRange();
            return e3.collapse(t2 === cu.Backwards), I.from(e3);
          }
        }
        const c2 = au(t2, e2.getBody(), n2);
        if (d2(c2)) return Ax(e2, c2.getNode(!a2));
        let u2 = l2(c2);
        const m2 = Wr(n2);
        if (!u2) return m2 ? I.some(n2) : I.none();
        if (u2 = Eh(a2, u2), d2(u2)) return Rx(t2, e2, u2.getNode(!a2), a2, false);
        const f2 = l2(u2);
        return f2 && d2(f2) && du(u2, f2) ? Rx(t2, e2, f2.getNode(!a2), a2, false) : m2 ? GE(e2, u2.toRange(), false) : I.none();
      }, QE = (e2, t2, n2, o2, r2, s2) => {
        const a2 = au(t2, e2.getBody(), n2), i2 = Pe(a2.getClientRects()), l2 = t2 === jE.Down, d2 = e2.getBody();
        if (!i2) return I.none();
        if (Mx(e2)) {
          const e3 = l2 ? Vi.fromRangeEnd(n2) : Vi.fromRangeStart(n2);
          return (l2 ? DE : PE)(d2, e3).orThunk(() => I.from(e3)).map((e4) => e4.toRange());
        }
        const c2 = (l2 ? qE : $E)(d2, WE(1), a2), u2 = Y(c2, KE(1)), m2 = i2.left, f2 = FE(u2, m2);
        if (f2 && s2(f2.node)) {
          const n3 = Math.abs(m2 - f2.left), o3 = Math.abs(m2 - f2.right);
          return Rx(t2, e2, f2.node, n3 < o3, false);
        }
        let g2;
        if (g2 = o2(a2) ? a2.getNode() : r2(a2) ? a2.getNode(true) : _i(n2), g2) {
          const n3 = ((e3, t3, n4, o4) => {
            const r3 = wu(t3);
            let s3, a3, i3, l3;
            const d3 = [];
            let c3 = 0;
            1 === e3 ? (s3 = r3.next, a3 = xi, i3 = wi, l3 = Vi.after(o4)) : (s3 = r3.prev, a3 = wi, i3 = xi, l3 = Vi.before(o4));
            const u3 = VE(l3);
            do {
              if (!l3.isVisible()) continue;
              const e4 = VE(l3);
              if (i3(e4, u3)) continue;
              d3.length > 0 && a3(e4, Pe(d3)) && c3++;
              const t4 = vi(e4);
              if (t4.position = l3, t4.line = c3, n4(t4)) return d3;
              d3.push(t4);
            } while (l3 = s3(l3));
            return d3;
          })(t2, d2, WE(1), g2);
          let o3 = FE(Y(n3, KE(1)), m2);
          if (o3) return GE(e2, o3.position.toRange(), false);
          if (o3 = Pe(Y(n3, KE(0))), o3) return GE(e2, o3.position.toRange(), false);
        }
        return 0 === u2.length ? JE(e2, l2).filter(l2 ? r2 : o2).map((t3) => Tx(e2, t3.toRange(), false)) : I.none();
      }, JE = (e2, t2) => {
        const n2 = e2.selection.getRng(), o2 = t2 ? Vi.fromRangeEnd(n2) : Vi.fromRangeStart(n2), r2 = (s2 = o2.container(), a2 = e2.getBody(), Qn(yn(s2), (e3) => Ic(e3.dom), (e3) => e3.dom === a2).map((e3) => e3.dom).getOr(a2));
        var s2, a2;
        if (t2) {
          const e3 = RE(r2, o2);
          return de(e3.positions);
        }
        {
          const e3 = NE(r2, o2);
          return le(e3.positions);
        }
      }, ZE = (e2, t2, n2) => JE(e2, t2).filter(n2).exists((t3) => (e2.selection.setRng(t3.toRange()), true)), e_ = (e2, t2) => {
        const n2 = e2.dom.createRng();
        n2.setStart(t2.container(), t2.offset()), n2.setEnd(t2.container(), t2.offset()), e2.selection.setRng(n2);
      }, t_ = (e2, t2) => {
        e2 ? t2.setAttribute("data-mce-selected", "inline-boundary") : t2.removeAttribute("data-mce-selected");
      }, n_ = (e2, t2, n2) => Zx(t2, n2).map((t3) => (e_(e2, t3), n2)), o_ = (e2, t2, n2) => {
        const o2 = e2.getBody(), r2 = ((e3, t3, n3) => {
          const o3 = Vi.fromRangeStart(e3);
          if (e3.collapsed) return o3;
          {
            const r3 = Vi.fromRangeEnd(e3);
            return n3 ? Tu(t3, r3).getOr(r3) : Au(t3, o3).getOr(o3);
          }
        })(e2.selection.getRng(), o2, n2);
        return ((e3, t3, n3, o3) => {
          const r3 = Eh(e3, o3), s2 = cE(t3, n3, r3);
          return cE(t3, n3, r3).bind(T(bE, e3)).orThunk(() => ((e4, t4, n4, o4, r4) => {
            const s3 = Eh(e4, r4);
            return Su(e4, n4, s3).map(T(Eh, e4)).fold(() => o4.map(fE), (r5) => cE(t4, n4, r5).map(T(pE, e4, t4, n4, s3, r5)).filter(T(hE, o4))).filter(dE);
          })(e3, t3, n3, s2, o3));
        })(n2, T(Ch, e2), o2, r2).bind((n3) => n_(e2, t2, n3));
      }, r_ = (e2, t2, n2) => !!yd(e2) && o_(e2, t2, n2).isSome(), s_ = (e2, t2, n2) => !!yd(t2) && ((e3, t3) => {
        const n3 = t3.selection.getRng(), o2 = e3 ? Vi.fromRangeEnd(n3) : Vi.fromRangeStart(n3);
        return !!((e4) => w(e4.selection.getSel().modify))(t3) && (e3 && jr(o2) ? vE(true, t3.selection, o2) : !(e3 || !Hr(o2)) && vE(false, t3.selection, o2));
      })(e2, t2), a_ = (e2) => {
        const t2 = $a(null), n2 = T(Ch, e2);
        return e2.on("NodeChange", (o2) => {
          yd(e2) && (((e3, t3, n3) => {
            const o3 = q(Uo(yn(t3.getRoot()), '*[data-mce-selected="inline-boundary"]'), (e4) => e4.dom), r2 = Y(o3, e3), s2 = Y(n3, e3);
            V(re(r2, s2), T(t_, false)), V(re(s2, r2), T(t_, true));
          })(n2, e2.dom, o2.parents), ((e3, t3) => {
            const n3 = t3.get();
            if (e3.selection.isCollapsed() && !e3.composing && n3) {
              const o3 = Vi.fromRangeStart(e3.selection.getRng());
              Vi.isTextPosition(o3) && !((e4) => jr(e4) || Hr(e4))(o3) && (e_(e3, Nc(n3, o3)), t3.set(null));
            }
          })(e2, t2), ((e3, t3, n3, o3) => {
            if (t3.selection.isCollapsed()) {
              const r2 = Y(o3, e3);
              V(r2, (o4) => {
                const r3 = Vi.fromRangeStart(t3.selection.getRng());
                cE(e3, t3.getBody(), r3).bind((e4) => n_(t3, n3, e4));
              });
            }
          })(n2, e2, t2, o2.parents));
        }), t2;
      }, i_ = T(s_, true), l_ = T(s_, false), d_ = (e2, t2, n2) => {
        if (yd(e2)) {
          const o2 = JE(e2, t2).getOrThunk(() => {
            const n3 = e2.selection.getRng();
            return t2 ? Vi.fromRangeEnd(n3) : Vi.fromRangeStart(n3);
          });
          return cE(T(Ch, e2), e2.getBody(), o2).exists((t3) => {
            const o3 = fE(t3);
            return Zx(n2, o3).exists((t4) => (e_(e2, t4), true));
          });
        }
        return false;
      }, c_ = (e2, t2) => (n2) => Zx(t2, n2).map((t3) => () => e_(e2, t3)), u_ = (e2, t2, n2, o2) => {
        const r2 = e2.getBody(), s2 = T(Ch, e2);
        e2.undoManager.ignore(() => {
          e2.selection.setRng(((e3, t3) => {
            const n3 = document.createRange();
            return n3.setStart(e3.container(), e3.offset()), n3.setEnd(t3.container(), t3.offset()), n3;
          })(n2, o2)), Nh(e2), cE(s2, r2, Vi.fromRangeStart(e2.selection.getRng())).map(gE).bind(c_(e2, t2)).each(D);
        }), e2.nodeChanged();
      }, m_ = (e2, t2, n2) => {
        if (e2.selection.isCollapsed() && yd(e2)) {
          const o2 = Vi.fromRangeStart(e2.selection.getRng());
          return ((e3, t3, n3, o3) => {
            const r2 = ((e4, t4) => Xc(t4, e4) || e4)(e3.getBody(), o3.container()), s2 = T(Ch, e3), a2 = cE(s2, r2, o3);
            return a2.bind((e4) => n3 ? e4.fold(N(I.some(gE(e4))), I.none, N(I.some(fE(e4))), I.none) : e4.fold(I.none, N(I.some(fE(e4))), I.none, N(I.some(gE(e4))))).map(c_(e3, t3)).getOrThunk(() => {
              const i2 = ku(n3, r2, o3), l2 = i2.bind((e4) => cE(s2, r2, e4));
              return Mt(a2, l2, () => xh(s2, r2, o3).bind((t4) => ((e4) => Mt(Ou(e4), Bu(e4), (t5, n4) => {
                const o4 = Eh(true, t5), r3 = Eh(false, n4);
                return Au(e4, o4).forall((e5) => e5.isEqual(r3));
              }).getOr(true))(t4) ? I.some(() => {
                vh(e3, n3, yn(t4));
              }) : I.none())).getOrThunk(() => l2.bind(() => i2.map((r3) => () => {
                n3 ? u_(e3, t3, o3, r3) : u_(e3, t3, r3, o3);
              })));
            });
          })(e2, t2, n2, o2);
        }
        return I.none();
      }, f_ = (e2, t2) => {
        const n2 = yn(e2.getBody()), o2 = yn(e2.selection.getStart()), r2 = Bp(o2, n2);
        return Z(r2, t2).fold(N(r2), (e3) => r2.slice(0, e3));
      }, g_ = (e2) => 1 === zn(e2), p_ = (e2, t2) => {
        const n2 = T(Zb, e2);
        return te(t2, (e3) => n2(e3) ? [e3.dom] : []);
      }, h_ = (e2) => {
        const t2 = ((e3) => f_(e3, (t3) => e3.schema.isBlock(Ht(t3))))(e2);
        return p_(e2, t2);
      }, b_ = (e2, t2) => {
        const n2 = Y(((e3) => f_(e3, (t3) => e3.schema.isBlock(Ht(t3)) || ((e4) => zn(e4) > 1)(t3)))(e2), g_);
        return de(n2).bind((o2) => {
          const r2 = Vi.fromRangeStart(e2.selection.getRng());
          return Oh(t2, r2, o2.dom) && !Tm(o2) ? I.some(() => ((e3, t3, n3, o3) => {
            const r3 = p_(t3, o3);
            if (0 === r3.length) vh(t3, e3, n3);
            else {
              const e4 = Jb(n3.dom, r3);
              t3.selection.setRng(e4.toRange());
            }
          })(t2, e2, o2, n2)) : I.none();
        });
      }, v_ = (e2, t2) => {
        const n2 = e2.selection.getStart(), o2 = ((e3, t3) => {
          const n3 = t3.parentElement;
          return ar(t3) && !h(n3) && e3.dom.isEmpty(n3);
        })(e2, n2) || Tm(yn(n2)) ? Jb(n2, t2) : ((e3, t3) => {
          const { caretContainer: n3, caretPosition: o3 } = Qb(t3);
          return e3.insertNode(n3.dom), o3;
        })(e2.selection.getRng(), t2);
        e2.selection.setRng(o2.toRange());
      }, y_ = (e2) => er(e2.startContainer), C_ = (e2) => {
        const t2 = e2.selection.getRng();
        return ((e3) => 0 === e3.startOffset && y_(e3))(t2) && ((e3, t3) => {
          const n2 = t3.startContainer.parentElement;
          return !h(n2) && Zb(e3, yn(n2));
        })(e2, t2) && ((e3) => ((e4) => ((e5) => {
          const t3 = e5.startContainer.parentNode, n2 = e5.endContainer.parentNode;
          return !h(t3) && !h(n2) && t3.isEqualNode(n2);
        })(e4) && ((e5) => {
          const t3 = e5.endContainer;
          return e5.endOffset === (er(t3) ? t3.length : t3.childNodes.length);
        })(e4))(e3) || ((e4) => !e4.endContainer.isEqualNode(e4.commonAncestorContainer))(e3))(t2);
      }, w_ = (e2, t2) => e2.selection.isCollapsed() ? b_(e2, t2) : ((e3) => {
        if (C_(e3)) {
          const t3 = h_(e3);
          return I.some(() => {
            Nh(e3), ((e4, t4) => {
              const n2 = re(t4, h_(e4));
              n2.length > 0 && v_(e4, n2);
            })(e3, t3);
          });
        }
        return I.none();
      })(e2), x_ = (e2, t2) => Qn(e2, (e3) => Du(e3.dom), (e3) => t2.isBlock(Ht(e3))).isSome(), E_ = (e2) => (((e3) => {
        const t2 = e3.selection.getRng();
        return t2.collapsed && (y_(t2) || e3.dom.isEmpty(t2.startContainer)) && !((e4) => x_(yn(e4.selection.getStart()), e4.schema))(e3);
      })(e2) && v_(e2, []), true), __ = (e2, t2, n2) => C(n2) ? I.some(() => {
        e2._selectionOverrides.hideFakeCaret(), vh(e2, t2, yn(n2));
      }) : I.none(), S_ = (e2, t2) => e2.selection.isCollapsed() ? ((e3, t3) => {
        const n2 = t3 ? Sp : kp, o2 = t3 ? cu.Forwards : cu.Backwards, r2 = au(o2, e3.getBody(), e3.selection.getRng());
        return n2(r2) ? __(e3, t3, r2.getNode(!t3)) : I.from(Eh(t3, r2)).filter((e4) => n2(e4) && du(r2, e4)).bind((n3) => __(e3, t3, n3.getNode(!t3)));
      })(e2, t2) : ((e3, t3) => {
        const n2 = e3.selection.getNode();
        return mr(n2) ? __(e3, t3, n2) : I.none();
      })(e2, t2), k_ = (e2) => Xe(null != e2 ? e2 : "").getOr(0), N_ = (e2, t2) => (e2 || "table" === Ht(t2) ? "margin" : "padding") + ("rtl" === co(t2, "direction") ? "-right" : "-left"), R_ = (e2) => {
        const t2 = T_(e2);
        return !e2.mode.isReadOnly() && (t2.length > 1 || ((e3, t3) => ne(t3, (t4) => {
          const n2 = N_(od(e3), t4), o2 = mo(t4, n2).map(k_).getOr(0);
          return "false" !== e3.dom.getContentEditable(t4.dom) && o2 > 0;
        }))(e2, t2));
      }, A_ = (e2) => Sr(e2) || kr(e2), T_ = (e2) => Y(_o(e2.selection.getSelectedBlocks()), (e3) => !A_(e3) && !((e4) => An(e4).exists(A_))(e3) && Jn(e3, (e4) => lr(e4.dom) || dr(e4.dom)).exists((e4) => lr(e4.dom))), O_ = (e2, t2) => {
        var n2, o2;
        const { dom: r2 } = e2, s2 = rd(e2), a2 = null !== (o2 = null === (n2 = /[a-z%]+$/i.exec(s2)) || void 0 === n2 ? void 0 : n2[0]) && void 0 !== o2 ? o2 : "px", i2 = k_(s2), l2 = od(e2);
        V(T_(e2), (e3) => {
          ((e4, t3, n3, o3, r3, s3) => {
            const a3 = N_(n3, yn(s3)), i3 = k_(e4.getStyle(s3, a3));
            if ("outdent" === t3) {
              const t4 = Math.max(0, i3 - o3);
              e4.setStyle(s3, a3, t4 ? t4 + r3 : "");
            } else {
              const t4 = i3 + o3 + r3;
              e4.setStyle(s3, a3, t4);
            }
          })(r2, t2, l2, i2, a2, e3.dom);
        });
      }, B_ = (e2) => O_(e2, "outdent"), P_ = (e2) => {
        if (e2.selection.isCollapsed() && R_(e2)) {
          const t2 = e2.dom, n2 = e2.selection.getRng(), o2 = Vi.fromRangeStart(n2), r2 = t2.getParent(n2.startContainer, t2.isBlock);
          if (null !== r2 && Ip(yn(r2), o2, e2.schema)) return I.some(() => B_(e2));
        }
        return I.none();
      }, D_ = (e2, t2, n2) => ue([P_, Hx, Dx, (e3, n3) => m_(e3, t2, n3), _x, ib, $x, S_, Nx, w_], (t3) => t3(e2, n2)).filter((t3) => e2.selection.isEditable()), L_ = (e2, t2) => {
        e2.addCommand("delete", () => {
          ((e3, t3) => {
            D_(e3, t3, false).fold(() => {
              e3.selection.isEditable() && (Nh(e3), Th(e3));
            }, D);
          })(e2, t2);
        }), e2.addCommand("forwardDelete", () => {
          ((e3, t3) => {
            D_(e3, t3, true).fold(() => {
              e3.selection.isEditable() && ((e4) => {
                kh(e4, "ForwardDelete");
              })(e3);
            }, D);
          })(e2, t2);
        });
      }, M_ = (e2) => void 0 === e2.touches || 1 !== e2.touches.length ? I.none() : I.some(e2.touches[0]), I_ = (e2, t2) => Ee(e2, t2.nodeName), F_ = (e2, t2) => !!er(t2) || !!qo(t2) && !(I_(e2.getBlockElements(), t2) || Ku(t2) || Ts(e2, t2) || hs(t2)), U_ = (e2, t2) => {
        if (er(t2)) {
          if (0 === t2.data.length) return true;
          if (/^\s+$/.test(t2.data)) return !t2.nextSibling || I_(e2, t2.nextSibling) || hs(t2.nextSibling);
        }
        return false;
      }, z_ = (e2) => e2.dom.create(Il(e2), Fl(e2)), j_ = (e2) => {
        const t2 = e2.dom, n2 = e2.selection, o2 = e2.schema, r2 = o2.getBlockElements(), s2 = n2.getStart(), a2 = e2.getBody();
        let i2, l2, d2 = false;
        const c2 = Il(e2);
        if (!s2 || !qo(s2)) return;
        const u2 = a2.nodeName.toLowerCase();
        if (!o2.isValidChild(u2, c2.toLowerCase()) || ((e3, t3, n3) => $(Op(yn(n3), yn(t3)), (t4) => I_(e3, t4.dom)))(r2, a2, s2)) return;
        const m2 = n2.getRng(), { startContainer: f2, startOffset: g2, endContainer: p2, endOffset: h2 } = m2, b2 = Rg(e2);
        let v2 = a2.firstChild;
        for (; v2; ) if (qo(v2) && ks(o2, v2), F_(o2, v2)) {
          if (U_(r2, v2)) {
            l2 = v2, v2 = v2.nextSibling, t2.remove(l2);
            continue;
          }
          i2 || (i2 = z_(e2), a2.insertBefore(i2, v2), d2 = true), l2 = v2, v2 = v2.nextSibling, i2.appendChild(l2);
        } else i2 = null, v2 = v2.nextSibling;
        d2 && b2 && (m2.setStart(f2, g2), m2.setEnd(p2, h2), n2.setRng(m2), e2.nodeChanged());
      }, H_ = (e2, t2, n2) => {
        const o2 = yn(z_(e2)), r2 = Tr();
        vo(o2, r2), n2(t2, o2);
        const s2 = document.createRange();
        return s2.setStartBefore(r2.dom), s2.setEndBefore(r2.dom), s2;
      }, $_ = (e2) => (t2) => -1 !== (" " + t2.attr("class") + " ").indexOf(e2), q_ = (e2, t2, n2) => function(o2) {
        const r2 = arguments, s2 = r2[r2.length - 2], a2 = s2 > 0 ? t2.charAt(s2 - 1) : "";
        if ('"' === a2) return o2;
        if (">" === a2) {
          const e3 = t2.lastIndexOf("<", s2);
          if (-1 !== e3 && -1 !== t2.substring(e3, s2).indexOf('contenteditable="false"')) return o2;
        }
        return '<span class="' + n2 + '" data-mce-content="' + e2.dom.encode(r2[0]) + '">' + e2.dom.encode("string" == typeof r2[1] ? r2[1] : r2[0]) + "</span>";
      }, V_ = (e2, t2) => ne(e2, (e3) => {
        const n2 = t2.match(e3);
        return null !== n2 && n2[0].length === t2.length;
      }), W_ = (e2, t2) => {
        t2.hasAttribute("data-mce-caret") && (Vr(t2), e2.selection.setRng(e2.selection.getRng()), e2.selection.scrollIntoView(t2));
      }, K_ = (e2, t2) => {
        const n2 = ((e3) => to(yn(e3.getBody()), "*[data-mce-caret]").map((e4) => e4.dom).getOrNull())(e2);
        if (n2) return "compositionstart" === t2.type ? (t2.preventDefault(), t2.stopPropagation(), void W_(e2, n2)) : void (zr(n2) && (W_(e2, n2), e2.undoManager.add()));
      }, Y_ = dr, G_ = (e2, t2, n2) => {
        const o2 = wu(e2.getBody()), r2 = T(lu, 1 === t2 ? o2.next : o2.prev);
        if (n2.collapsed) {
          const o3 = e2.dom.getParent(n2.startContainer, "PRE");
          if (!o3) return;
          if (!r2(Vi.fromRangeStart(n2))) {
            const n3 = yn(((e3) => {
              const t3 = e3.dom.create(Il(e3));
              return t3.innerHTML = '<br data-mce-bogus="1">', t3;
            })(e2));
            1 === t2 ? ho(yn(o3), n3) : po(yn(o3), n3), e2.selection.select(n3.dom, true), e2.selection.collapse();
          }
        }
      }, X_ = (e2, t2) => ((e3, t3) => {
        const n2 = t3 ? cu.Forwards : cu.Backwards, o2 = e3.selection.getRng();
        return ((e4, t4, n3) => XE(t4, e4, n3, Ap, Tp, Y_))(n2, e3, o2).orThunk(() => (G_(e3, n2, o2), I.none()));
      })(e2, ((e3, t3) => {
        const n2 = t3 ? e3.getEnd(true) : e3.getStart(true);
        return wh(n2) ? !t3 : t3;
      })(e2.selection, t2)).exists((t3) => (YE(e2, t3), true)), Q_ = (e2, t2) => ((e3, t3) => {
        const n2 = t3 ? 1 : -1, o2 = e3.selection.getRng();
        return ((e4, t4, n3) => QE(t4, e4, n3, (e5) => Ap(e5) || Np(e5), (e5) => Tp(e5) || Rp(e5), Y_))(n2, e3, o2).orThunk(() => (G_(e3, n2, o2), I.none()));
      })(e2, t2).exists((t3) => (YE(e2, t3), true)), J_ = (e2, t2) => ZE(e2, t2, t2 ? Tp : Ap), Z_ = (e2, t2) => Lx(e2, !t2).map((n2) => {
        const o2 = n2.toRange(), r2 = e2.selection.getRng();
        return t2 ? o2.setStart(r2.startContainer, r2.startOffset) : o2.setEnd(r2.endContainer, r2.endOffset), o2;
      }).exists((t3) => (YE(e2, t3), true)), eS = (e2) => H(["figcaption"], Ht(e2)), tS = (e2, t2) => !!e2.selection.isCollapsed() && ((e3, t3) => {
        const n2 = yn(e3.getBody()), o2 = Vi.fromRangeStart(e3.selection.getRng());
        return ((e4, t4, n3) => {
          const o3 = T(_n, t4);
          return Jn(yn(e4.container()), (e5) => n3.isBlock(Ht(e5)), o3).filter(eS);
        })(o2, n2, e3.schema).exists(() => {
          if (((e4, t4, n3) => t4 ? BE(e4.dom, n3) : OE(e4.dom, n3))(n2, t3, o2)) {
            const o3 = H_(e3, n2, t3 ? vo : bo);
            return e3.selection.setRng(o3), true;
          }
          return false;
        });
      })(e2, t2), nS = (e2, t2) => ((e3, t3) => t3 ? I.from(e3.dom.getParent(e3.selection.getNode(), "details")).map((t4) => ((e4, t5) => {
        const n2 = e4.selection.getRng(), o2 = Vi.fromRangeStart(n2);
        return !(e4.getBody().lastChild !== t5 || !BE(t5, o2) || (e4.execCommand("InsertNewBlockAfter"), 0));
      })(e3, t4)).getOr(false) : I.from(e3.dom.getParent(e3.selection.getNode(), "summary")).bind((t4) => I.from(e3.dom.getParent(t4, "details")).map((n2) => ((e4, t5, n3) => {
        const o2 = e4.selection.getRng(), r2 = Vi.fromRangeStart(o2);
        return !(e4.getBody().firstChild !== t5 || !OE(n3, r2) || (e4.execCommand("InsertNewBlockBefore"), 0));
      })(e3, n2, t4))).getOr(false))(e2, t2), oS = { shiftKey: false, altKey: false, ctrlKey: false, metaKey: false, keyCode: 0 }, rS = (e2, t2) => t2.keyCode === e2.keyCode && t2.shiftKey === e2.shiftKey && t2.altKey === e2.altKey && t2.ctrlKey === e2.ctrlKey && t2.metaKey === e2.metaKey, sS = (e2, ...t2) => () => e2.apply(null, t2), aS = (e2, t2) => J(((e3, t3) => te(((e4) => q(e4, (e5) => ({ ...oS, ...e5 })))(e3), (e4) => rS(e4, t3) ? [e4] : []))(e2, t2), (e3) => e3.action()), iS = (e2, t2) => ue(((e3, t3) => te(((e4) => q(e4, (e5) => ({ ...oS, ...e5 })))(e3), (e4) => rS(e4, t3) ? [e4] : []))(e2, t2), (e3) => e3.action()), lS = (e2, t2) => {
        const n2 = t2 ? cu.Forwards : cu.Backwards, o2 = e2.selection.getRng();
        return XE(e2, n2, o2, Sp, kp, mr).exists((t3) => (YE(e2, t3), true));
      }, dS = (e2, t2) => {
        const n2 = t2 ? 1 : -1, o2 = e2.selection.getRng();
        return QE(e2, n2, o2, Sp, kp, mr).exists((t3) => (YE(e2, t3), true));
      }, cS = (e2, t2) => ZE(e2, t2, t2 ? kp : Sp), uS = hl([{ none: ["current"] }, { first: ["current"] }, { middle: ["current", "target"] }, { last: ["current"] }]), mS = { ...uS, none: (e2) => uS.none(e2) }, fS = (e2, t2, n2) => te(Mn(e2), (e3) => xn(e3, t2) ? n2(e3) ? [e3] : [] : fS(e3, t2, n2)), gS = (e2, t2) => no(e2, "table", t2), pS = (e2, t2, n2, o2, r2 = M) => {
        const s2 = 1 === o2;
        if (!s2 && n2 <= 0) return mS.first(e2[0]);
        if (s2 && n2 >= e2.length - 1) return mS.last(e2[e2.length - 1]);
        {
          const s3 = n2 + o2, a2 = e2[s3];
          return r2(a2) ? mS.middle(t2, a2) : pS(e2, t2, s3, o2, r2);
        }
      }, hS = (e2, t2) => gS(e2, t2).bind((t3) => {
        const n2 = fS(t3, "th,td", M);
        return Z(n2, (t4) => _n(e2, t4)).map((e3) => ({ index: e3, all: n2 }));
      }), bS = (e2, t2, n2, o2, r2) => {
        const s2 = Uo(yn(n2), "td,th,caption").map((e3) => e3.dom), a2 = Y(((e3, t3) => te(t3, (t4) => {
          const n3 = ((e4, t5) => ({ left: e4.left - t5, top: e4.top - t5, right: e4.right + -2, bottom: e4.bottom + -2, width: e4.width + t5, height: e4.height + t5 }))(vi(t4.getBoundingClientRect()), -1);
          return [{ x: n3.left, y: e3(n3), cell: t4 }, { x: n3.right, y: e3(n3), cell: t4 }];
        }))(e2, s2), (e3) => t2(e3, r2));
        return ((e3, t3, n3) => X(e3, (e4, o3) => e4.fold(() => I.some(o3), (e5) => {
          const r3 = Math.sqrt(Math.abs(e5.x - t3) + Math.abs(e5.y - n3)), s3 = Math.sqrt(Math.abs(o3.x - t3) + Math.abs(o3.y - n3));
          return I.some(s3 < r3 ? o3 : e5);
        }), I.none()))(a2, o2, r2).map((e3) => e3.cell);
      }, vS = T(bS, (e2) => e2.bottom, (e2, t2) => e2.y < t2), yS = T(bS, (e2) => e2.top, (e2, t2) => e2.y > t2), CS = (e2, t2, n2) => {
        const o2 = e2(t2, n2);
        return ((e3) => e3.breakType === yE.Wrap && 0 === e3.positions.length)(o2) || !ar(n2.getNode()) && ((e3) => e3.breakType === yE.Br && 1 === e3.positions.length)(o2) ? !((e3, t3, n3) => n3.breakAt.exists((n4) => e3(t3, n4).breakAt.isSome()))(e2, t2, o2) : o2.breakAt.isNone();
      }, wS = T(CS, NE), xS = T(CS, RE), ES = (e2, t2, n2, o2) => {
        const r2 = e2.selection.getRng(), s2 = t2 ? 1 : -1;
        return !(!Dc() || !((e3, t3, n3) => {
          const o3 = Vi.fromRangeStart(t3);
          return Ru(!e3, n3).exists((e4) => e4.isEqual(o3));
        })(t2, r2, n2) || (Rx(s2, e2, n2, !t2, false).each((t3) => {
          YE(e2, t3);
        }), 0));
      }, _S = (e2, t2, n2) => {
        const o2 = ((e3, t3) => {
          const n3 = t3.getNode(e3);
          return Qo(n3) ? I.some(n3) : I.none();
        })(!!t2, n2), r2 = false === t2;
        o2.fold(() => YE(e2, n2.toRange()), (o3) => Ru(r2, e2.getBody()).filter((e3) => e3.isEqual(n2)).fold(() => YE(e2, n2.toRange()), (n3) => ((e3, t3, n4) => {
          t3.undoManager.transact(() => {
            const o4 = e3 ? ho : po, r3 = H_(t3, yn(n4), o4);
            YE(t3, r3);
          });
        })(t2, e2, o3)));
      }, SS = (e2, t2, n2, o2) => {
        const r2 = e2.selection.getRng(), s2 = Vi.fromRangeStart(r2), a2 = e2.getBody();
        if (!t2 && wS(o2, s2)) {
          const o3 = ((e3, t3, n3) => ((e4, t4) => le(t4.getClientRects()).bind((t5) => vS(e4, t5.left, t5.top)).bind((e5) => {
            return kE(Bu(n4 = e5).map((e6) => NE(n4, e6).positions.concat(e6)).getOr([]), t4);
            var n4;
          }))(t3, n3).orThunk(() => le(n3.getClientRects()).bind((n4) => SE(AE(e3, Vi.before(t3)), n4.left))).getOr(Vi.before(t3)))(a2, n2, s2);
          return _S(e2, t2, o3), true;
        }
        if (t2 && xS(o2, s2)) {
          const o3 = ((e3, t3, n3) => ((e4, t4) => de(t4.getClientRects()).bind((t5) => yS(e4, t5.left, t5.top)).bind((e5) => {
            return kE(Ou(n4 = e5).map((e6) => [e6].concat(RE(n4, e6).positions)).getOr([]), t4);
            var n4;
          }))(t3, n3).orThunk(() => le(n3.getClientRects()).bind((n4) => SE(TE(e3, Vi.after(t3)), n4.left))).getOr(Vi.after(t3)))(a2, n2, s2);
          return _S(e2, t2, o3), true;
        }
        return false;
      }, kS = (e2, t2, n2) => I.from(e2.dom.getParent(e2.selection.getNode(), "td,th")).bind((o2) => I.from(e2.dom.getParent(o2, "table")).map((r2) => n2(e2, t2, r2, o2))).getOr(false), NS = (e2, t2) => kS(e2, t2, ES), RS = (e2, t2) => kS(e2, t2, SS), AS = (e2, t2, n2) => n2.fold(I.none, I.none, (e3, t3) => {
        return (n3 = t3, Zn(n3, Fg)).map((e4) => ((e5) => {
          const t4 = xf.exact(e5, 0, e5, 0);
          return Nf(t4);
        })(e4));
        var n3;
      }, (n3) => (e2.execCommand("mceTableInsertRowAfter"), TS(e2, t2, n3))), TS = (e2, t2, n2) => {
        return AS(e2, t2, (r2 = oo, hS(o2 = n2, void 0).fold(() => mS.none(o2), (e3) => pS(e3.all, o2, e3.index, 1, r2))));
        var o2, r2;
      }, OS = (e2, t2, n2) => {
        return AS(e2, t2, (r2 = oo, hS(o2 = n2, void 0).fold(() => mS.none(), (e3) => pS(e3.all, o2, e3.index, -1, r2))));
        var o2, r2;
      }, BS = (e2, t2) => {
        const n2 = ["table", "li", "dl"], o2 = yn(e2.getBody()), r2 = (e3) => {
          const t3 = Ht(e3);
          return _n(e3, o2) || H(n2, t3);
        }, s2 = e2.selection.getRng();
        return ((e3, t3) => ((e4, t4, n3 = L) => n3(t4) ? I.none() : H(e4, Ht(t4)) ? I.some(t4) : eo(t4, e4.join(","), (e5) => xn(e5, "table") || n3(e5)))(["td", "th"], e3, t3))(yn(t2 ? s2.endContainer : s2.startContainer), r2).map((n3) => (gS(n3, r2).each((t3) => {
          e2.model.table.clearSelectedCells(t3.dom);
        }), e2.selection.collapse(!t2), (t2 ? TS : OS)(e2, r2, n3).each((t3) => {
          e2.selection.setRng(t3);
        }), true)).getOr(false);
      }, PS = (e2, t2) => ({ container: e2, offset: t2 }), DS = za.DOM, LS = (e2) => (t2) => e2 === t2 ? -1 : 0, MS = (e2, t2, n2) => {
        if (er(e2) && t2 >= 0) return I.some(PS(e2, t2));
        {
          const o2 = hi(DS);
          return I.from(o2.backwards(e2, t2, LS(e2), n2)).map((e3) => PS(e3.container, e3.container.data.length));
        }
      }, IS = (e2, t2, n2) => {
        if (!er(e2)) return I.none();
        const o2 = e2.data;
        if (t2 >= 0 && t2 <= o2.length) return I.some(PS(e2, t2));
        {
          const o3 = hi(DS);
          return I.from(o3.backwards(e2, t2, LS(e2), n2)).bind((e3) => {
            const o4 = e3.container.data;
            return IS(e3.container, t2 + o4.length, n2);
          });
        }
      }, FS = (e2, t2, n2) => {
        if (!er(e2)) return I.none();
        const o2 = e2.data;
        if (t2 <= o2.length) return I.some(PS(e2, t2));
        {
          const r2 = hi(DS);
          return I.from(r2.forwards(e2, t2, LS(e2), n2)).bind((e3) => FS(e3.container, t2 - o2.length, n2));
        }
      }, US = (e2, t2, n2, o2, r2) => {
        const s2 = hi(e2, /* @__PURE__ */ ((e3) => (t3) => e3.isBlock(t3) || H(["BR", "IMG", "HR", "INPUT"], t3.nodeName) || "false" === e3.getContentEditable(t3))(e2));
        return I.from(s2.backwards(t2, n2, o2, r2));
      }, zS = (e2) => Dr(e2.toString().replace(/\u00A0/g, " ")), jS = (e2) => "" !== e2 && -1 !== "  \f\n\r	\v".indexOf(e2), HS = (e2, t2) => e2.substring(t2.length), $S = (e2, t2, n2, o2 = 0) => {
        return (r2 = yn(t2.startContainer), no(r2, Ug)).fold(() => ((e3, t3, n3, o3 = 0) => {
          if (!(r3 = t3).collapsed || !er(r3.startContainer)) return I.none();
          var r3;
          const s2 = { text: "", offset: 0 }, a2 = e3.getParent(t3.startContainer, e3.isBlock) || e3.getRoot();
          return US(e3, t3.startContainer, t3.startOffset, (e4, t4, o4) => (s2.text = o4 + s2.text, s2.offset += t4, ((e5, t5, n4) => {
            let o5;
            const r4 = n4.charAt(0);
            for (o5 = t5 - 1; o5 >= 0; o5--) {
              const s3 = e5.charAt(o5);
              if (jS(s3)) return I.none();
              if (r4 === s3 && je(e5, n4, o5, t5)) break;
            }
            return I.some(o5);
          })(s2.text, s2.offset, n3).getOr(t4)), a2).bind((e4) => {
            const r4 = t3.cloneRange();
            if (r4.setStart(e4.container, e4.offset), r4.setEnd(t3.endContainer, t3.endOffset), r4.collapsed) return I.none();
            const s3 = zS(r4);
            return 0 !== s3.lastIndexOf(n3) || HS(s3, n3).length < o3 ? I.none() : I.some({ text: HS(s3, n3), range: r4, trigger: n3 });
          });
        })(e2, t2, n2, o2), (t3) => {
          const o3 = e2.createRng();
          o3.selectNode(t3.dom);
          const r3 = zS(o3);
          return I.some({ range: o3, text: HS(r3, n2), trigger: n2 });
        });
        var r2;
      }, qS = (e2) => {
        if (((e3) => 3 === e3.nodeType)(e2)) return PS(e2, e2.data.length);
        {
          const t2 = e2.childNodes;
          return t2.length > 0 ? qS(t2[t2.length - 1]) : PS(e2, t2.length);
        }
      }, VS = (e2, t2) => {
        const n2 = e2.childNodes;
        return n2.length > 0 && t2 < n2.length ? VS(n2[t2], 0) : n2.length > 0 && ((e3) => 1 === e3.nodeType)(e2) && n2.length === t2 ? qS(n2[n2.length - 1]) : PS(e2, t2);
      }, WS = (e2, t2, n2, o2 = {}) => {
        var r2;
        const s2 = t2(), a2 = null !== (r2 = e2.selection.getRng().startContainer.nodeValue) && void 0 !== r2 ? r2 : "", i2 = Y(s2.lookupByTrigger(n2.trigger), (t3) => n2.text.length >= t3.minChars && t3.matches.getOrThunk(() => /* @__PURE__ */ ((e3) => (t4) => {
          const n3 = VS(t4.startContainer, t4.startOffset);
          return !((e4, t5) => {
            var n4;
            const o3 = null !== (n4 = e4.getParent(t5.container, e4.isBlock)) && void 0 !== n4 ? n4 : e4.getRoot();
            return US(e4, t5.container, t5.offset, (e5, t6) => 0 === t6 ? -1 : t6, o3).filter((e5) => {
              const t6 = e5.container.data.charAt(e5.offset - 1);
              return !jS(t6);
            }).isSome();
          })(e3, n3);
        })(e2.dom))(n2.range, a2, n2.text));
        if (0 === i2.length) return I.none();
        const l2 = Promise.all(q(i2, (e3) => e3.fetch(n2.text, e3.maxResults, o2).then((t3) => ({ matchText: n2.text, items: t3, columns: e3.columns, onAction: e3.onAction, highlightOn: e3.highlightOn }))));
        return I.some({ lookupData: l2, context: n2 });
      };
      var KS;
      !function(e2) {
        e2[e2.Error = 0] = "Error", e2[e2.Value = 1] = "Value";
      }(KS || (KS = {}));
      const YS = (e2, t2, n2) => e2.stype === KS.Error ? t2(e2.serror) : n2(e2.svalue), GS = (e2) => ({ stype: KS.Value, svalue: e2 }), XS = (e2) => ({ stype: KS.Error, serror: e2 }), QS = YS, JS = (e2) => f(e2) && me(e2).length > 100 ? " removed due to size" : JSON.stringify(e2, null, 2), ZS = (e2, t2) => XS([{ path: e2, getErrorInfo: t2 }]), ek = (e2, t2) => ({ extract: (n2, o2) => xe(o2, e2).fold(() => ((e3, t3) => ZS(e3, () => 'Choice schema did not contain choice key: "' + t3 + '"'))(n2, e2), (e3) => ((e4, t3, n3, o3) => xe(n3, o3).fold(() => ((e5, t4, n4) => ZS(e5, () => 'The chosen schema: "' + n4 + '" did not exist in branches: ' + JS(t4)))(e4, n3, o3), (n4) => n4.extract(e4.concat(["branch: " + o3]), t3)))(n2, o2, t2, e3)), toString: () => "chooseOn(" + e2 + "). Possible values: " + me(t2) }), tk = (e2) => (...t2) => {
        if (0 === t2.length) throw new Error("Can't merge zero objects");
        const n2 = {};
        for (let o2 = 0; o2 < t2.length; o2++) {
          const r2 = t2[o2];
          for (const t3 in r2) Ee(r2, t3) && (n2[t3] = e2(n2[t3], r2[t3]));
        }
        return n2;
      }, nk = tk((e2, t2) => g(e2) && g(t2) ? nk(e2, t2) : t2), ok = (tk((e2, t2) => t2), (e2) => ({ tag: "defaultedThunk", process: N(e2) })), rk = (e2) => {
        const t2 = ((e3) => {
          const t3 = [], n3 = [];
          return V(e3, (e4) => {
            YS(e4, (e5) => n3.push(e5), (e5) => t3.push(e5));
          }), { values: t3, errors: n3 };
        })(e2);
        return t2.errors.length > 0 ? (n2 = t2.errors, S(XS, ee)(n2)) : GS(t2.values);
        var n2;
      }, sk = (e2, t2, n2) => {
        switch (e2.tag) {
          case "field":
            return t2(e2.key, e2.newKey, e2.presence, e2.prop);
          case "custom":
            return n2(e2.newKey, e2.instantiator);
        }
      }, ak = (e2) => ({ extract: (t2, n2) => {
        return o2 = e2(n2), r2 = (e3) => ((e4, t3) => ZS(e4, N(t3)))(t2, e3), o2.stype === KS.Error ? r2(o2.serror) : o2;
        var o2, r2;
      }, toString: N("val") }), ik = ak(GS), lk = (e2, t2, n2, o2) => o2(xe(e2, t2).getOrThunk(() => n2(e2))), dk = (e2, t2, n2, o2, r2) => {
        const s2 = (e3) => r2.extract(t2.concat([o2]), e3), a2 = (e3) => e3.fold(() => GS(I.none()), (e4) => {
          const n3 = r2.extract(t2.concat([o2]), e4);
          return s3 = n3, a3 = I.some, s3.stype === KS.Value ? { stype: KS.Value, svalue: a3(s3.svalue) } : s3;
          var s3, a3;
        });
        switch (e2.tag) {
          case "required":
            return ((e3, t3, n3, o3) => xe(t3, n3).fold(() => ((e4, t4, n4) => ZS(e4, () => 'Could not find valid *required* value for "' + t4 + '" in ' + JS(n4)))(e3, n3, t3), o3))(t2, n2, o2, s2);
          case "defaultedThunk":
            return lk(n2, o2, e2.process, s2);
          case "option":
            return ((e3, t3, n3) => n3(xe(e3, t3)))(n2, o2, a2);
          case "defaultedOptionThunk":
            return ((e3, t3, n3, o3) => o3(xe(e3, t3).map((t4) => true === t4 ? n3(e3) : t4)))(n2, o2, e2.process, a2);
          case "mergeWithThunk":
            return lk(n2, o2, N({}), (t3) => {
              const o3 = nk(e2.process(n2), t3);
              return s2(o3);
            });
        }
      }, ck = (e2) => ({ extract: (t2, n2) => ((e3, t3, n3) => {
        const o2 = {}, r2 = [];
        for (const s2 of n3) sk(s2, (n4, s3, a2, i2) => {
          const l2 = dk(a2, e3, t3, n4, i2);
          QS(l2, (e4) => {
            r2.push(...e4);
          }, (e4) => {
            o2[s3] = e4;
          });
        }, (e4, n4) => {
          o2[e4] = n4(t3);
        });
        return r2.length > 0 ? XS(r2) : GS(o2);
      })(t2, n2, e2), toString: () => {
        const t2 = q(e2, (e3) => sk(e3, (e4, t3, n2, o2) => e4 + " -> " + o2.toString(), (e4, t3) => "state(" + e4 + ")"));
        return "obj{\n" + t2.join("\n") + "}";
      } }), uk = (e2) => ({ extract: (t2, n2) => {
        const o2 = q(n2, (n3, o3) => e2.extract(t2.concat(["[" + o3 + "]"]), n3));
        return rk(o2);
      }, toString: () => "array(" + e2.toString() + ")" }), mk = (e2, t2, n2) => {
        return o2 = ((e3, t3, n3) => ((e4, t4) => e4.stype === KS.Error ? { stype: KS.Error, serror: t4(e4.serror) } : e4)(t3.extract([e3], n3), (e4) => ({ input: n3, errors: e4 })))(e2, t2, n2), YS(o2, pl.error, pl.value);
        var o2;
      }, fk = (e2, t2) => ek(e2, pe(t2, ck)), gk = N(ik), pk = (e2, t2) => ak((n2) => {
        const o2 = typeof n2;
        return e2(n2) ? GS(n2) : XS(`Expected type: ${t2} but got: ${o2}`);
      }), hk = pk(x, "number"), bk = pk(m, "string"), vk = pk(b, "boolean"), yk = pk(w, "function"), Ck = (e2, t2, n2, o2) => ({ tag: "field", key: e2, newKey: t2, presence: n2, prop: o2 }), wk = (e2, t2) => ({ tag: "custom", newKey: e2, instantiator: t2 }), xk = (e2, t2) => Ck(e2, e2, { tag: "required", process: {} }, t2), Ek = (e2) => xk(e2, bk), _k = (e2) => xk(e2, yk), Sk = (e2, t2) => Ck(e2, e2, { tag: "option", process: {} }, t2), kk = (e2) => Sk(e2, bk), Nk = (e2, t2, n2) => Ck(e2, e2, ok(t2), n2), Rk = (e2, t2) => Nk(e2, t2, hk), Ak = (e2, t2, n2) => Nk(e2, t2, ((e3) => {
        return t3 = (t4) => H(e3, t4) ? pl.value(t4) : pl.error(`Unsupported value: "${t4}", choose one of "${e3.join(", ")}".`), ak((e4) => t3(e4).fold(XS, GS));
        var t3;
      })(n2)), Tk = (e2, t2) => Nk(e2, t2, vk), Ok = (e2, t2) => Nk(e2, t2, yk), Bk = Ek("type"), Pk = _k("fetch"), Dk = _k("onAction"), Lk = Ok("onSetup", () => _), Mk = kk("text"), Ik = kk("icon"), Fk = kk("tooltip"), Uk = kk("label"), zk = Tk("active", false), jk = Tk("enabled", true), Hk = Tk("primary", false), $k = (e2) => ((e3, t2) => Nk("type", t2, bk))(0, e2), qk = ck([Bk, Ek("trigger"), Rk("minChars", 1), (1, ((e2, t2) => Ck(e2, e2, ok(1), gk()))("columns")), Rk("maxResults", 10), ("matches", Sk("matches", yk)), Pk, Dk, (Vk = bk, Nk("highlightOn", [], uk(Vk)))]);
      var Vk;
      const Wk = [jk, Fk, Ik, Mk, Lk], Kk = [zk].concat(Wk), Yk = [Ok("predicate", L), Ak("scope", "node", ["node", "editor"]), Ak("position", "selection", ["node", "selection", "line"])], Gk = Wk.concat([$k("contextformbutton"), Hk, Dk, wk("original", R)]), Xk = Kk.concat([$k("contextformbutton"), Hk, Dk, wk("original", R)]), Qk = Wk.concat([$k("contextformbutton")]), Jk = Kk.concat([$k("contextformtogglebutton")]), Zk = fk("type", { contextformbutton: Gk, contextformtogglebutton: Xk });
      ck([$k("contextform"), Ok("initValue", N("")), Uk, ((e2, t2) => Ck(e2, e2, { tag: "required", process: {} }, uk(t2)))("commands", Zk), Sk("launch", fk("type", { contextformbutton: Qk, contextformtogglebutton: Jk }))].concat(Yk));
      const eN = (e2) => {
        const t2 = e2.ui.registry.getAll().popups, n2 = pe(t2, (e3) => {
          return (t3 = e3, mk("Autocompleter", qk, { trigger: t3.ch, ...t3 })).fold((e4) => {
            throw new Error("Errors: \n" + ((e5) => {
              const t5 = e5.length > 10 ? e5.slice(0, 10).concat([{ path: [], getErrorInfo: N("... (only showing first ten failures)") }]) : e5;
              return q(t5, (e6) => "Failed path: (" + e6.path.join(" > ") + ")\n" + e6.getErrorInfo());
            })((t4 = e4).errors).join("\n") + "\n\nInput object: " + JS(t4.input));
            var t4;
          }, R);
          var t3;
        }), o2 = Se(Ce(n2, (e3) => e3.trigger)), r2 = we(n2);
        return { dataset: n2, triggers: o2, lookupByTrigger: (e3) => Y(r2, (t3) => t3.trigger === e3) };
      }, tN = (e2) => {
        const t2 = Xa(), n2 = $a(false), o2 = t2.isSet, r2 = () => {
          o2() && (((e3) => {
            tw(e3).autocompleter.removeDecoration();
          })(e2), ((e3) => {
            e3.dispatch("AutocompleterEnd");
          })(e2), n2.set(false), t2.clear());
        }, s2 = De(() => eN(e2)), a2 = (a3) => {
          ((n3) => t2.get().map((t3) => $S(e2.dom, e2.selection.getRng(), t3.trigger).bind((t4) => WS(e2, s2, t4, n3))).getOrThunk(() => ((e3, t3) => {
            const n4 = t3(), o3 = e3.selection.getRng();
            return ((e4, t4, n5) => ue(n5.triggers, (n6) => $S(e4, t4, n6)))(e3.dom, o3, n4).bind((n5) => WS(e3, t3, n5));
          })(e2, s2)))(a3).fold(r2, (s3) => {
            ((n3) => {
              o2() || (((e3, t3) => {
                tw(e3).autocompleter.addDecoration(t3);
              })(e2, n3.range), t2.set({ trigger: n3.trigger, matchLength: n3.text.length }));
            })(s3.context), s3.lookupData.then((o3) => {
              t2.get().map((a4) => {
                const i2 = s3.context;
                a4.trigger === i2.trigger && (i2.text.length - a4.matchLength >= 10 ? r2() : (t2.set({ ...a4, matchLength: i2.text.length }), n2.get() ? ((e3, t3) => {
                  e3.dispatch("AutocompleterUpdate", t3);
                })(e2, { lookupData: o3 }) : (n2.set(true), ((e3, t3) => {
                  e3.dispatch("AutocompleterStart", t3);
                })(e2, { lookupData: o3 }))));
              });
            });
          });
        };
        e2.addCommand("mceAutocompleterReload", (e3, t3) => {
          const n3 = f(t3) ? t3.fetchOptions : {};
          a2(n3);
        }), e2.addCommand("mceAutocompleterClose", r2), ((e3, t3) => {
          const n3 = Ja(t3.load, 50);
          e3.on("keypress compositionend", (e4) => {
            27 !== e4.which && n3.throttle();
          }), e3.on("keydown", (e4) => {
            const o3 = e4.which;
            8 === o3 ? n3.throttle() : 27 === o3 && t3.cancelIfNecessary();
          }), e3.on("remove", n3.cancel);
        })(e2, { cancelIfNecessary: r2, load: a2 });
      }, nN = xt().browser.isSafari(), oN = (e2) => Or(yn(e2)), rN = (e2, t2) => {
        var n2;
        return 0 === e2.startOffset && e2.endOffset === (null === (n2 = t2.textContent) || void 0 === n2 ? void 0 : n2.length);
      }, sN = (e2, t2) => I.from(e2.getParent(t2.container(), "details")), aN = (e2, t2) => sN(e2, t2).isSome(), iN = (e2, t2) => {
        const n2 = t2.getNode();
        v(n2) || e2.selection.setCursorLocation(n2, t2.offset());
      }, lN = (e2, t2, n2) => {
        const o2 = e2.dom.getParent(t2.container(), "details");
        if (o2 && !o2.open) {
          const t3 = e2.dom.select("summary", o2)[0];
          t3 && (n2 ? Ou(t3) : Bu(t3)).each((t4) => iN(e2, t4));
        } else iN(e2, t2);
      }, dN = (e2, t2, n2) => {
        const { dom: o2, selection: r2 } = e2, s2 = e2.getBody();
        if ("character" === n2) {
          const n3 = Vi.fromRangeStart(r2.getRng()), a2 = o2.getParent(n3.container(), o2.isBlock), i2 = sN(o2, n3), l2 = a2 && o2.isEmpty(a2), d2 = h(null == a2 ? void 0 : a2.previousSibling), c2 = h(null == a2 ? void 0 : a2.nextSibling);
          return !!(l2 && (t2 ? c2 : d2) && ku(!t2, s2, n3).exists((e3) => aN(o2, e3) && !Lt(i2, sN(o2, e3)))) || ku(t2, s2, n3).fold(L, (n4) => {
            const r3 = sN(o2, n4);
            if (aN(o2, n4) && !Lt(i2, r3)) {
              if (t2 || lN(e2, n4, false), a2 && l2) {
                if (t2 && d2) return true;
                if (!t2 && c2) return true;
                lN(e2, n4, t2), e2.dom.remove(a2);
              }
              return true;
            }
            return false;
          });
        }
        return false;
      }, cN = (e2, t2, n2, o2) => {
        const r2 = e2.selection.getRng(), s2 = Vi.fromRangeStart(r2), a2 = e2.getBody();
        return "selection" === o2 ? ((e3, t3) => {
          const n3 = t3.startSummary.exists((t4) => t4.contains(e3.startContainer)), o3 = t3.startSummary.exists((t4) => t4.contains(e3.endContainer)), r3 = t3.startDetails.forall((e4) => t3.endDetails.forall((t4) => e4 !== t4));
          return (n3 || o3) && !(n3 && o3) || r3;
        })(r2, t2) : n2 ? ((e3, t3) => t3.startSummary.exists((t4) => ((e4, t5) => Bu(t5).exists((n3) => ar(n3.getNode()) && Tu(t5, n3).exists((t6) => t6.isEqual(e4)) || n3.isEqual(e4)))(e3, t4)))(s2, t2) || ((e3, t3, n3) => n3.startDetails.exists((n4) => Au(e3, t3).forall((e4) => !n4.contains(e4.container()))))(a2, s2, t2) : ((e3, t3) => t3.startSummary.exists((t4) => ((e4, t5) => Ou(t5).exists((t6) => t6.isEqual(e4)))(e3, t4)))(s2, t2) || ((e3, t3) => t3.startDetails.exists((n3) => Tu(n3, e3).forall((n4) => t3.startSummary.exists((t4) => !t4.contains(e3.container()) && t4.contains(n4.container())))))(s2, t2);
      }, uN = (e2, t2, n2) => ((e3, t3, n3) => ((e4, t4) => {
        const n4 = I.from(e4.getParent(t4.startContainer, "details")), o2 = I.from(e4.getParent(t4.endContainer, "details"));
        if (n4.isSome() || o2.isSome()) {
          const t5 = n4.bind((t6) => I.from(e4.select("summary", t6)[0]));
          return I.some({ startSummary: t5, startDetails: n4, endDetails: o2 });
        }
        return I.none();
      })(e3.dom, e3.selection.getRng()).fold(() => dN(e3, t3, n3), (o2) => cN(e3, o2, t3, n3) || dN(e3, t3, n3)))(e2, t2, n2) || nN && ((e3, t3, n3) => {
        const o2 = e3.selection, r2 = o2.getNode(), s2 = o2.getRng(), a2 = Vi.fromRangeStart(s2);
        return !!pr(r2) && ("selection" === n3 && rN(s2, r2) || Oh(t3, a2, r2) ? oN(r2) : e3.undoManager.transact(() => {
          const s3 = o2.getSel();
          let { anchorNode: a3, anchorOffset: i2, focusNode: l2, focusOffset: d2 } = null != s3 ? s3 : {};
          const c2 = () => {
            C(a3) && C(i2) && C(l2) && C(d2) && (null == s3 || s3.setBaseAndExtent(a3, i2, l2, d2));
          }, u2 = (e4, t4) => {
            V(e4.childNodes, (e5) => {
              dm(e5) && t4.appendChild(e5);
            });
          }, m2 = e3.dom.create("span", { "data-mce-bogus": "1" });
          u2(r2, m2), r2.appendChild(m2), c2(), "word" !== n3 && "line" !== n3 || null == s3 || s3.modify("extend", t3 ? "right" : "left", n3), !o2.isCollapsed() && rN(o2.getRng(), m2) ? oN(r2) : (e3.execCommand(t3 ? "ForwardDelete" : "Delete"), a3 = null == s3 ? void 0 : s3.anchorNode, i2 = null == s3 ? void 0 : s3.anchorOffset, l2 = null == s3 ? void 0 : s3.focusNode, d2 = null == s3 ? void 0 : s3.focusOffset, u2(m2, r2), c2()), e3.dom.remove(m2);
        }), true);
      })(e2, t2, n2) ? I.some(_) : I.none(), mN = (e2) => (t2, n2, o2 = {}) => {
        const r2 = t2.getBody(), s2 = { bubbles: true, composed: true, data: null, isComposing: false, detail: 0, view: null, target: r2, currentTarget: r2, eventPhase: Event.AT_TARGET, originalTarget: r2, explicitOriginalTarget: r2, isTrusted: false, srcElement: r2, cancelable: false, preventDefault: _, inputType: n2 }, a2 = Ea(new InputEvent(e2));
        return t2.dispatch(e2, { ...a2, ...s2, ...o2 });
      }, fN = mN("input"), gN = mN("beforeinput"), pN = xt(), hN = pN.os, bN = hN.isMacOS() || hN.isiOS(), vN = pN.browser.isFirefox(), yN = (e2, t2) => {
        const n2 = e2.dom, o2 = e2.schema.getMoveCaretBeforeOnEnterElements();
        if (!t2) return;
        if (/^(LI|DT|DD)$/.test(t2.nodeName)) {
          const e3 = ((e4) => {
            for (; e4; ) {
              if (qo(e4) || er(e4) && e4.data && /[\r\n\s]/.test(e4.data)) return e4;
              e4 = e4.nextSibling;
            }
            return null;
          })(t2.firstChild);
          e3 && /^(UL|OL|DL)$/.test(e3.nodeName) && t2.insertBefore(n2.doc.createTextNode(br), t2.firstChild);
        }
        const r2 = n2.createRng();
        if (t2.normalize(), t2.hasChildNodes()) {
          const e3 = new jo(t2, t2);
          let n3, s2 = t2;
          for (; n3 = e3.current(); ) {
            if (er(n3)) {
              r2.setStart(n3, 0), r2.setEnd(n3, 0);
              break;
            }
            if (o2[n3.nodeName.toLowerCase()]) {
              r2.setStartBefore(n3), r2.setEndBefore(n3);
              break;
            }
            s2 = n3, n3 = e3.next();
          }
          n3 || (r2.setStart(s2, 0), r2.setEnd(s2, 0));
        } else ar(t2) ? t2.nextSibling && n2.isBlock(t2.nextSibling) ? (r2.setStartBefore(t2), r2.setEndBefore(t2)) : (r2.setStartAfter(t2), r2.setEndAfter(t2)) : (r2.setStart(t2, 0), r2.setEnd(t2, 0));
        e2.selection.setRng(r2), sg(e2, r2);
      }, CN = (e2, t2) => {
        const n2 = e2.getRoot();
        let o2, r2 = t2;
        for (; r2 !== n2 && r2 && "false" !== e2.getContentEditable(r2); ) {
          if ("true" === e2.getContentEditable(r2)) {
            o2 = r2;
            break;
          }
          r2 = r2.parentNode;
        }
        return r2 !== n2 ? o2 : n2;
      }, wN = (e2) => I.from(e2.dom.getParent(e2.selection.getStart(true), e2.dom.isBlock)), xN = (e2) => {
        e2.innerHTML = '<br data-mce-bogus="1">';
      }, EN = (e2, t2) => {
        Il(e2).toLowerCase() === t2.tagName.toLowerCase() && ((e3, t3, n2) => {
          const o2 = e3.dom;
          I.from(n2.style).map(o2.parseStyle).each((e4) => {
            const n3 = { ...fo(yn(t3)), ...e4 };
            o2.setStyles(t3, n3);
          });
          const r2 = I.from(n2.class).map((e4) => e4.split(/\s+/)), s2 = I.from(t3.className).map((e4) => Y(e4.split(/\s+/), (e5) => "" !== e5));
          Mt(r2, s2, (e4, n3) => {
            const r3 = Y(n3, (t4) => !H(e4, t4)), s3 = [...e4, ...r3];
            o2.setAttrib(t3, "class", s3.join(" "));
          });
          const a2 = ["style", "class"], i2 = ye(n2, (e4, t4) => !H(a2, t4));
          o2.setAttribs(t3, i2);
        })(e2, t2, Fl(e2));
      }, _N = (e2, t2, n2, o2, r2 = true, s2, a2) => {
        const i2 = e2.dom, l2 = e2.schema, d2 = Il(e2), c2 = n2 ? n2.nodeName.toUpperCase() : "";
        let u2 = t2;
        const m2 = l2.getTextInlineElements();
        let f2;
        f2 = s2 || "TABLE" === c2 || "HR" === c2 ? i2.create(s2 || d2, a2 || {}) : n2.cloneNode(false);
        let g2 = f2;
        if (r2) {
          do {
            if (m2[u2.nodeName]) {
              if (Du(u2) || Ku(u2)) continue;
              const e3 = u2.cloneNode(false);
              i2.setAttrib(e3, "id", ""), f2.hasChildNodes() ? (e3.appendChild(f2.firstChild), f2.appendChild(e3)) : (g2 = e3, f2.appendChild(e3));
            }
          } while ((u2 = u2.parentNode) && u2 !== o2);
        } else i2.setAttrib(f2, "style", null), i2.setAttrib(f2, "class", null);
        return EN(e2, f2), xN(g2), f2;
      }, SN = (e2, t2) => {
        const n2 = null == e2 ? void 0 : e2.parentNode;
        return C(n2) && n2.nodeName === t2;
      }, kN = (e2) => C(e2) && /^(OL|UL|LI)$/.test(e2.nodeName), NN = (e2) => C(e2) && /^(LI|DT|DD)$/.test(e2.nodeName), RN = (e2) => {
        const t2 = e2.parentNode;
        return NN(t2) ? t2 : e2;
      }, AN = (e2, t2, n2) => {
        let o2 = e2[n2 ? "firstChild" : "lastChild"];
        for (; o2 && !qo(o2); ) o2 = o2[n2 ? "nextSibling" : "previousSibling"];
        return o2 === t2;
      }, TN = (e2) => X(Ce(fo(yn(e2)), (e3, t2) => `${t2}: ${e3};`), (e3, t2) => e3 + t2, ""), ON = (e2, t2) => t2 && "A" === t2.nodeName && e2.isEmpty(t2), BN = (e2, t2) => e2.nodeName === t2 || e2.previousSibling && e2.previousSibling.nodeName === t2, PN = (e2, t2) => C(t2) && e2.isBlock(t2) && !/^(TD|TH|CAPTION|FORM)$/.test(t2.nodeName) && !/^(fixed|absolute)/i.test(t2.style.position) && e2.isEditable(t2.parentNode) && "false" !== e2.getContentEditable(t2), DN = (e2, t2, n2) => er(t2) ? e2 ? 1 === n2 && t2.data.charAt(n2 - 1) === Br ? 0 : n2 : n2 === t2.data.length - 1 && t2.data.charAt(n2) === Br ? t2.data.length : n2 : n2, LN = { insert: (e2, t2) => {
        let n2, o2, r2, s2, a2 = false;
        const i2 = e2.dom, l2 = e2.schema.getNonEmptyElements(), d2 = e2.selection.getRng(), c2 = Il(e2), u2 = yn(d2.startContainer), f2 = In(u2, d2.startOffset), g2 = f2.exists((e3) => Vt(e3) && !oo(e3)), p2 = d2.collapsed && g2, b2 = (t3, o3) => _N(e2, n2, S2, _2, Hl(e2), t3, o3), v2 = (e3) => {
          const t3 = DN(e3, n2, o2);
          if (er(n2) && (e3 ? t3 > 0 : t3 < n2.data.length)) return false;
          if (n2.parentNode === S2 && a2 && !e3) return true;
          if (e3 && qo(n2) && n2 === S2.firstChild) return true;
          if (BN(n2, "TABLE") || BN(n2, "HR")) return a2 && !e3 || !a2 && e3;
          const r3 = new jo(n2, S2);
          let s3;
          for (er(n2) && (e3 && 0 === t3 ? r3.prev() : e3 || t3 !== n2.data.length || r3.next()); s3 = r3.current(); ) {
            if (qo(s3)) {
              if (!s3.getAttribute("data-mce-bogus")) {
                const e4 = s3.nodeName.toLowerCase();
                if (l2[e4] && "br" !== e4) return false;
              }
            } else if (er(s3) && !ss(s3.data)) return false;
            e3 ? r3.prev() : r3.next();
          }
          return true;
        }, w2 = () => {
          let t3;
          return t3 = /^(H[1-6]|PRE|FIGURE)$/.test(r2) && "HGROUP" !== k2 ? b2(c2) : b2(), ((e3, t4) => {
            const n3 = $l(e3);
            return !y(t4) && (m(n3) ? H(Pt.explode(n3), t4.nodeName.toLowerCase()) : n3);
          })(e2, s2) && PN(i2, s2) && i2.isEmpty(S2, void 0, { includeZwsp: true }) ? t3 = i2.split(s2, S2) : i2.insertAfter(t3, S2), yN(e2, t3), t3;
        };
        Mf(i2, d2).each((e3) => {
          d2.setStart(e3.startContainer, e3.startOffset), d2.setEnd(e3.endContainer, e3.endOffset);
        }), n2 = d2.startContainer, o2 = d2.startOffset;
        const x2 = !(!t2 || !t2.shiftKey), E2 = !(!t2 || !t2.ctrlKey);
        qo(n2) && n2.hasChildNodes() && !p2 && (a2 = o2 > n2.childNodes.length - 1, n2 = n2.childNodes[Math.min(o2, n2.childNodes.length - 1)] || n2, o2 = a2 && er(n2) ? n2.data.length : 0);
        const _2 = CN(i2, n2);
        if (!_2 || ((e3, t3) => {
          const n3 = e3.dom.getParent(t3, "ol,ul,dl");
          return null !== n3 && "false" === e3.dom.getContentEditableParent(n3);
        })(e2, n2)) return;
        x2 || (n2 = ((e3, t3, n3, o3, r3) => {
          var s3, a3;
          const i3 = e3.dom, l3 = null !== (s3 = CN(i3, o3)) && void 0 !== s3 ? s3 : i3.getRoot();
          let d3 = i3.getParent(o3, i3.isBlock);
          if (!d3 || !PN(i3, d3)) {
            if (d3 = d3 || l3, !d3.hasChildNodes()) {
              const o4 = i3.create(t3);
              return EN(e3, o4), d3.appendChild(o4), n3.setStart(o4, 0), n3.setEnd(o4, 0), o4;
            }
            let s4, c3 = o3;
            for (; c3 && c3.parentNode !== d3; ) c3 = c3.parentNode;
            for (; c3 && !i3.isBlock(c3); ) s4 = c3, c3 = c3.previousSibling;
            const u3 = null === (a3 = null == s4 ? void 0 : s4.parentElement) || void 0 === a3 ? void 0 : a3.nodeName;
            if (s4 && u3 && e3.schema.isValidChild(u3, t3.toLowerCase())) {
              const a4 = s4.parentNode, l4 = i3.create(t3);
              for (EN(e3, l4), a4.insertBefore(l4, s4), c3 = s4; c3 && !i3.isBlock(c3); ) {
                const e4 = c3.nextSibling;
                l4.appendChild(c3), c3 = e4;
              }
              n3.setStart(o3, r3), n3.setEnd(o3, r3);
            }
          }
          return o3;
        })(e2, c2, d2, n2, o2));
        let S2 = i2.getParent(n2, i2.isBlock) || i2.getRoot();
        s2 = C(null == S2 ? void 0 : S2.parentNode) ? i2.getParent(S2.parentNode, i2.isBlock) : null, r2 = S2 ? S2.nodeName.toUpperCase() : "";
        const k2 = s2 ? s2.nodeName.toUpperCase() : "";
        if ("LI" !== k2 || E2 || (S2 = s2, s2 = s2.parentNode, r2 = k2), qo(s2) && ((e3, t3, n3) => !t3 && n3.nodeName.toLowerCase() === Il(e3) && e3.dom.isEmpty(n3) && ((t4, n4, o3) => {
          let r3 = n4;
          for (; r3 && r3 !== t4 && h(r3.nextSibling); ) {
            const t5 = r3.parentElement;
            if (!t5 || (s3 = t5, !Ee(e3.schema.getTextBlockElements(), s3.nodeName.toLowerCase()))) return gr(t5);
            r3 = t5;
          }
          var s3;
          return false;
        })(e3.getBody(), n3))(e2, x2, S2)) return ((e3, t3, n3) => {
          var o3, r3, s3;
          const a3 = t3(Il(e3)), i3 = ((e4, t4) => e4.dom.getParent(t4, gr))(e3, n3);
          i3 && (e3.dom.insertAfter(a3, i3), yN(e3, a3), (null !== (s3 = null === (r3 = null === (o3 = n3.parentElement) || void 0 === o3 ? void 0 : o3.childNodes) || void 0 === r3 ? void 0 : r3.length) && void 0 !== s3 ? s3 : 0) > 1 && e3.dom.remove(n3));
        })(e2, b2, S2);
        if (/^(LI|DT|DD)$/.test(r2) && qo(s2) && i2.isEmpty(S2)) return void ((e3, t3, n3, o3, r3) => {
          const s3 = e3.dom, a3 = e3.selection.getRng(), i3 = n3.parentNode;
          if (n3 === e3.getBody() || !i3) return;
          var l3;
          kN(l3 = n3) && kN(l3.parentNode) && (r3 = "LI");
          const d3 = NN(o3) ? TN(o3) : void 0;
          let c3 = NN(o3) && d3 ? t3(r3, { style: TN(o3) }) : t3(r3);
          if (AN(n3, o3, true) && AN(n3, o3, false)) if (SN(n3, "LI")) {
            const e4 = RN(n3);
            s3.insertAfter(c3, e4), ((e5) => {
              var t4;
              return (null === (t4 = e5.parentNode) || void 0 === t4 ? void 0 : t4.firstChild) === e5;
            })(n3) ? s3.remove(e4) : s3.remove(n3);
          } else s3.replace(c3, n3);
          else if (AN(n3, o3, true)) SN(n3, "LI") ? (s3.insertAfter(c3, RN(n3)), c3.appendChild(s3.doc.createTextNode(" ")), c3.appendChild(n3)) : i3.insertBefore(c3, n3), s3.remove(o3);
          else if (AN(n3, o3, false)) s3.insertAfter(c3, RN(n3)), s3.remove(o3);
          else {
            n3 = RN(n3);
            const e4 = a3.cloneRange();
            e4.setStartAfter(o3), e4.setEndAfter(n3);
            const t4 = e4.extractContents();
            if ("LI" === r3 && ((e5, t5) => e5.firstChild && "LI" === e5.firstChild.nodeName)(t4)) {
              const e5 = Y(q(c3.children, yn), O(Xt("br")));
              c3 = t4.firstChild, s3.insertAfter(t4, n3), V(e5, (e6) => bo(yn(c3), e6)), d3 && c3.setAttribute("style", d3);
            } else s3.insertAfter(t4, n3), s3.insertAfter(c3, n3);
            s3.remove(o3);
          }
          yN(e3, c3);
        })(e2, b2, s2, S2, c2);
        if (!(p2 || S2 !== e2.getBody() && PN(i2, S2))) return;
        const N2 = S2.parentNode;
        let R2;
        if (p2) R2 = b2(c2), f2.fold(() => {
          vo(u2, yn(R2));
        }, (e3) => {
          po(e3, yn(R2));
        }), e2.selection.setCursorLocation(R2, 0);
        else if (Ir(S2)) R2 = Vr(S2), i2.isEmpty(S2) && xN(S2), EN(e2, R2), yN(e2, R2);
        else if (v2(false)) R2 = w2();
        else if (v2(true) && N2) {
          R2 = N2.insertBefore(b2(), S2);
          const t3 = yn(d2.startContainer).dom.hasChildNodes() && d2.collapsed;
          yN(e2, BN(S2, "HR") || t3 ? R2 : S2);
        } else {
          const t3 = ((e3) => {
            const t4 = e3.cloneRange();
            return t4.setStart(e3.startContainer, DN(true, e3.startContainer, e3.startOffset)), t4.setEnd(e3.endContainer, DN(false, e3.endContainer, e3.endOffset)), t4;
          })(d2).cloneRange();
          t3.setEndAfter(S2);
          const n3 = t3.extractContents();
          ((e3) => {
            V(Fo(yn(e3), Kt), (e4) => {
              const t4 = e4.dom;
              t4.nodeValue = Dr(t4.data);
            });
          })(n3), ((e3) => {
            let t4 = e3;
            do {
              er(t4) && (t4.data = t4.data.replace(/^[\r\n]+/, "")), t4 = t4.firstChild;
            } while (t4);
          })(n3), R2 = n3.firstChild, i2.insertAfter(n3, S2), ((e3, t4, n4) => {
            var o3;
            const r3 = [];
            if (!n4) return;
            let s3 = n4;
            for (; s3 = s3.firstChild; ) {
              if (e3.isBlock(s3)) return;
              qo(s3) && !t4[s3.nodeName.toLowerCase()] && r3.push(s3);
            }
            let a3 = r3.length;
            for (; a3--; ) s3 = r3[a3], (!s3.hasChildNodes() || s3.firstChild === s3.lastChild && "" === (null === (o3 = s3.firstChild) || void 0 === o3 ? void 0 : o3.nodeValue) || ON(e3, s3)) && e3.remove(s3);
          })(i2, l2, R2), ((e3, t4) => {
            t4.normalize();
            const n4 = t4.lastChild;
            (!n4 || qo(n4) && /^(left|right)$/gi.test(e3.getStyle(n4, "float", true))) && e3.add(t4, "br");
          })(i2, S2), i2.isEmpty(S2) && xN(S2), R2.normalize(), i2.isEmpty(R2) ? (i2.remove(R2), w2()) : (EN(e2, R2), yN(e2, R2));
        }
        i2.setAttrib(R2, "id", ""), e2.dispatch("NewBlock", { newBlock: R2 });
      }, fakeEventName: "insertParagraph" }, MN = (e2, t2, n2) => {
        const o2 = e2.dom.createRng();
        n2 ? (o2.setStartBefore(t2), o2.setEndBefore(t2)) : (o2.setStartAfter(t2), o2.setEndAfter(t2)), e2.selection.setRng(o2), sg(e2, o2);
      }, IN = (e2, t2) => {
        const n2 = bn("br");
        po(yn(t2), n2), e2.undoManager.add();
      }, FN = (e2, t2) => {
        UN(e2.getBody(), t2) || ho(yn(t2), bn("br"));
        const n2 = bn("br");
        ho(yn(t2), n2), MN(e2, n2.dom, false), e2.undoManager.add();
      }, UN = (e2, t2) => {
        return n2 = Vi.after(t2), !!ar(n2.getNode()) || Au(e2, Vi.after(t2)).map((e3) => ar(e3.getNode())).getOr(false);
        var n2;
      }, zN = (e2) => e2 && "A" === e2.nodeName && "href" in e2, jN = (e2) => e2.fold(L, zN, zN, L), HN = (e2, t2) => {
        t2.fold(_, T(IN, e2), T(FN, e2), _);
      }, $N = { insert: (e2, t2) => {
        const n2 = ((e3) => {
          const t3 = T(Ch, e3), n3 = Vi.fromRangeStart(e3.selection.getRng());
          return cE(t3, e3.getBody(), n3).filter(jN);
        })(e2);
        n2.isSome() ? n2.each(T(HN, e2)) : ((e3, t3) => {
          const n3 = e3.selection, o2 = e3.dom, r2 = n3.getRng();
          let s2, a2 = false;
          Mf(o2, r2).each((e4) => {
            r2.setStart(e4.startContainer, e4.startOffset), r2.setEnd(e4.endContainer, e4.endOffset);
          });
          let i2 = r2.startOffset, l2 = r2.startContainer;
          if (qo(l2) && l2.hasChildNodes()) {
            const e4 = i2 > l2.childNodes.length - 1;
            l2 = l2.childNodes[Math.min(i2, l2.childNodes.length - 1)] || l2, i2 = e4 && er(l2) ? l2.data.length : 0;
          }
          let d2 = o2.getParent(l2, o2.isBlock);
          const c2 = d2 && d2.parentNode ? o2.getParent(d2.parentNode, o2.isBlock) : null, u2 = c2 ? c2.nodeName.toUpperCase() : "", m2 = !(!t3 || !t3.ctrlKey);
          "LI" !== u2 || m2 || (d2 = c2), er(l2) && i2 >= l2.data.length && (((e4, t4, n4) => {
            const o3 = new jo(t4, n4);
            let r3;
            const s3 = e4.getNonEmptyElements();
            for (; r3 = o3.next(); ) if (s3[r3.nodeName.toLowerCase()] || er(r3) && r3.length > 0) return true;
            return false;
          })(e3.schema, l2, d2 || o2.getRoot()) || (s2 = o2.create("br"), r2.insertNode(s2), r2.setStartAfter(s2), r2.setEndAfter(s2), a2 = true)), s2 = o2.create("br"), Ki(o2, r2, s2), MN(e3, s2, a2), e3.undoManager.add();
        })(e2, t2);
      }, fakeEventName: "insertLineBreak" }, qN = (e2, t2) => wN(e2).filter((e3) => t2.length > 0 && xn(yn(e3), t2)).isSome(), VN = hl([{ br: [] }, { block: [] }, { none: [] }]), WN = (e2, t2) => ((e3) => qN(e3, jl(e3)))(e2), KN = (e2) => (t2, n2) => ((e3) => wN(e3).filter((e4) => kr(yn(e4))).isSome())(t2) === e2, YN = (e2, t2) => (n2, o2) => {
        const r2 = ((e3) => wN(e3).fold(N(""), (e4) => e4.nodeName.toUpperCase()))(n2) === e2.toUpperCase();
        return r2 === t2;
      }, GN = (e2) => {
        const t2 = CN(e2.dom, e2.selection.getStart());
        return y(t2);
      }, XN = (e2) => YN("pre", e2), QN = (e2) => (t2, n2) => Ml(t2) === e2, JN = (e2, t2) => ((e3) => qN(e3, zl(e3)))(e2), ZN = (e2, t2) => t2, eR = (e2) => {
        const t2 = Il(e2), n2 = CN(e2.dom, e2.selection.getStart());
        return C(n2) && e2.schema.isValidChild(n2.nodeName, t2);
      }, tR = (e2) => {
        const t2 = e2.selection.getRng(), n2 = yn(t2.startContainer), o2 = In(n2, t2.startOffset).map((e3) => Vt(e3) && !oo(e3));
        return t2.collapsed && o2.getOr(true);
      }, nR = (e2, t2) => (n2, o2) => X(e2, (e3, t3) => e3 && t3(n2, o2), true) ? I.some(t2) : I.none(), oR = (e2, t2, n2) => {
        t2.selection.isCollapsed() || ((e3) => {
          e3.execCommand("delete");
        })(t2), C(n2) && gN(t2, e2.fakeEventName).isDefaultPrevented() || (e2.insert(t2, n2), C(n2) && fN(t2, e2.fakeEventName));
      }, rR = (e2, t2) => {
        const n2 = () => oR($N, e2, t2), o2 = () => oR(LN, e2, t2), r2 = ((e3, t3) => eE([nR([WN], VN.none()), nR([XN(true), GN], VN.none()), nR([YN("summary", true)], VN.br()), nR([XN(true), QN(false), ZN], VN.br()), nR([XN(true), QN(false)], VN.block()), nR([XN(true), QN(true), ZN], VN.block()), nR([XN(true), QN(true)], VN.br()), nR([KN(true), ZN], VN.br()), nR([KN(true)], VN.block()), nR([JN], VN.br()), nR([ZN], VN.br()), nR([eR], VN.block()), nR([tR], VN.block())], [e3, !(!t3 || !t3.shiftKey)]).getOr(VN.none()))(e2, t2);
        switch (Ul(e2)) {
          case "linebreak":
            r2.fold(n2, n2, _);
            break;
          case "block":
            r2.fold(o2, o2, _);
            break;
          case "invert":
            r2.fold(o2, n2, _);
            break;
          default:
            r2.fold(n2, o2, _);
        }
      }, sR = xt(), aR = sR.os.isiOS() && sR.browser.isSafari(), iR = (e2, t2) => {
        var n2;
        t2.isDefaultPrevented() || (t2.preventDefault(), (n2 = e2.undoManager).typing && (n2.typing = false, n2.add()), e2.undoManager.transact(() => {
          rR(e2, t2);
        }));
      }, lR = xt(), dR = (e2) => e2.stopImmediatePropagation(), cR = (e2) => e2.keyCode === af.PAGE_UP || e2.keyCode === af.PAGE_DOWN, uR = (e2, t2, n2) => {
        n2 && !e2.get() ? t2.on("NodeChange", dR, true) : !n2 && e2.get() && t2.off("NodeChange", dR), e2.set(n2);
      }, mR = (e2, t2) => {
        const n2 = t2.container(), o2 = t2.offset();
        return er(n2) ? (n2.insertData(o2, e2), I.some(Vi(n2, o2 + e2.length))) : iu(t2).map((n3) => {
          const o3 = vn(e2);
          return t2.isAtEnd() ? ho(n3, o3) : po(n3, o3), Vi(o3.dom, e2.length);
        });
      }, fR = T(mR, br), gR = T(mR, " "), pR = (e2) => (t2) => {
        e2.selection.setRng(t2.toRange()), e2.nodeChanged();
      }, hR = (e2) => {
        const t2 = Vi.fromRangeStart(e2.selection.getRng()), n2 = yn(e2.getBody());
        if (e2.selection.isCollapsed()) {
          const o2 = T(Ch, e2), r2 = Vi.fromRangeStart(e2.selection.getRng());
          return cE(o2, e2.getBody(), r2).bind(/* @__PURE__ */ ((e3) => (t3) => t3.fold((t4) => Tu(e3.dom, Vi.before(t4)), (e4) => Ou(e4), (e4) => Bu(e4), (t4) => Au(e3.dom, Vi.after(t4))))(n2)).map((o3) => () => (/* @__PURE__ */ ((e3, t3, n3) => (o4) => Zp(e3, o4, n3) ? fR(t3) : gR(t3))(n2, t2, e2.schema))(o3).each(pR(e2)));
        }
        return I.none();
      }, bR = (e2) => {
        return It(At.browser.isFirefox() && e2.selection.isEditable() && (t2 = e2.dom, n2 = e2.selection.getRng().startContainer, t2.isEditable(t2.getParent(n2, "summary"))), () => {
          const t3 = yn(e2.getBody());
          e2.selection.isCollapsed() || e2.getDoc().execCommand("Delete"), ((e3, t4, n3) => Zp(e3, t4, n3) ? fR(t4) : gR(t4))(t3, Vi.fromRangeStart(e2.selection.getRng()), e2.schema).each(pR(e2));
        });
        var t2, n2;
      }, vR = (e2) => hc(e2) ? [{ keyCode: af.TAB, action: sS(BS, e2, true) }, { keyCode: af.TAB, shiftKey: true, action: sS(BS, e2, false) }] : [], yR = (e2) => {
        if (e2.addShortcut("Meta+P", "", "mcePrint"), tN(e2), ZC(e2)) return $a(null);
        {
          const t2 = a_(e2);
          return ((e3) => {
            e3.on("beforeinput", (t3) => {
              e3.selection.isEditable() && !$(t3.getTargetRanges(), (t4) => !Og(e3.dom, t4)) || t3.preventDefault();
            });
          })(e2), ((e3) => {
            e3.on("keyup compositionstart", T(K_, e3));
          })(e2), ((e3, t3) => {
            e3.on("keydown", (n2) => {
              n2.isDefaultPrevented() || ((e4, t4, n3) => {
                const o2 = At.os.isMacOS() || At.os.isiOS();
                aS([{ keyCode: af.RIGHT, action: sS(X_, e4, true) }, { keyCode: af.LEFT, action: sS(X_, e4, false) }, { keyCode: af.UP, action: sS(Q_, e4, false) }, { keyCode: af.DOWN, action: sS(Q_, e4, true) }, ...o2 ? [{ keyCode: af.UP, action: sS(Z_, e4, false), metaKey: true, shiftKey: true }, { keyCode: af.DOWN, action: sS(Z_, e4, true), metaKey: true, shiftKey: true }] : [], { keyCode: af.RIGHT, action: sS(NS, e4, true) }, { keyCode: af.LEFT, action: sS(NS, e4, false) }, { keyCode: af.UP, action: sS(RS, e4, false) }, { keyCode: af.DOWN, action: sS(RS, e4, true) }, { keyCode: af.UP, action: sS(RS, e4, false) }, { keyCode: af.UP, action: sS(nS, e4, false) }, { keyCode: af.DOWN, action: sS(nS, e4, true) }, { keyCode: af.RIGHT, action: sS(lS, e4, true) }, { keyCode: af.LEFT, action: sS(lS, e4, false) }, { keyCode: af.UP, action: sS(dS, e4, false) }, { keyCode: af.DOWN, action: sS(dS, e4, true) }, { keyCode: af.RIGHT, action: sS(r_, e4, t4, true) }, { keyCode: af.LEFT, action: sS(r_, e4, t4, false) }, { keyCode: af.RIGHT, ctrlKey: !o2, altKey: o2, action: sS(i_, e4, t4) }, { keyCode: af.LEFT, ctrlKey: !o2, altKey: o2, action: sS(l_, e4, t4) }, { keyCode: af.UP, action: sS(tS, e4, false) }, { keyCode: af.DOWN, action: sS(tS, e4, true) }], n3).each((e5) => {
                  n3.preventDefault();
                });
              })(e3, t3, n2);
            });
          })(e2, t2), ((e3, t3) => {
            let n2 = false;
            e3.on("keydown", (o2) => {
              n2 = o2.keyCode === af.BACKSPACE, o2.isDefaultPrevented() || ((e4, t4, n3) => {
                const o3 = n3.keyCode === af.BACKSPACE ? "deleteContentBackward" : "deleteContentForward", r2 = e4.selection.isCollapsed(), s2 = r2 ? "character" : "selection", a2 = (e5) => r2 ? e5 ? "word" : "line" : "selection";
                iS([{ keyCode: af.BACKSPACE, action: sS(P_, e4) }, { keyCode: af.BACKSPACE, action: sS(Hx, e4, false) }, { keyCode: af.DELETE, action: sS(Hx, e4, true) }, { keyCode: af.BACKSPACE, action: sS(Dx, e4, false) }, { keyCode: af.DELETE, action: sS(Dx, e4, true) }, { keyCode: af.BACKSPACE, action: sS(m_, e4, t4, false) }, { keyCode: af.DELETE, action: sS(m_, e4, t4, true) }, { keyCode: af.BACKSPACE, action: sS(ib, e4, false) }, { keyCode: af.DELETE, action: sS(ib, e4, true) }, { keyCode: af.BACKSPACE, action: sS(uN, e4, false, s2) }, { keyCode: af.DELETE, action: sS(uN, e4, true, s2) }, ...bN ? [{ keyCode: af.BACKSPACE, altKey: true, action: sS(uN, e4, false, a2(true)) }, { keyCode: af.DELETE, altKey: true, action: sS(uN, e4, true, a2(true)) }, { keyCode: af.BACKSPACE, metaKey: true, action: sS(uN, e4, false, a2(false)) }] : [{ keyCode: af.BACKSPACE, ctrlKey: true, action: sS(uN, e4, false, a2(true)) }, { keyCode: af.DELETE, ctrlKey: true, action: sS(uN, e4, true, a2(true)) }], { keyCode: af.BACKSPACE, action: sS($x, e4, false) }, { keyCode: af.DELETE, action: sS($x, e4, true) }, { keyCode: af.BACKSPACE, action: sS(S_, e4, false) }, { keyCode: af.DELETE, action: sS(S_, e4, true) }, { keyCode: af.BACKSPACE, action: sS(Nx, e4, false) }, { keyCode: af.DELETE, action: sS(Nx, e4, true) }, { keyCode: af.BACKSPACE, action: sS(_x, e4, false) }, { keyCode: af.DELETE, action: sS(_x, e4, true) }, { keyCode: af.BACKSPACE, action: sS(w_, e4, false) }, { keyCode: af.DELETE, action: sS(w_, e4, true) }], n3).filter((t5) => e4.selection.isEditable()).each((t5) => {
                  n3.preventDefault(), gN(e4, o3).isDefaultPrevented() || (t5(), fN(e4, o3));
                });
              })(e3, t3, o2);
            }), e3.on("keyup", (t4) => {
              t4.isDefaultPrevented() || ((e4, t5, n3) => {
                aS([{ keyCode: af.BACKSPACE, action: sS(jx, e4) }, { keyCode: af.DELETE, action: sS(jx, e4) }, ...bN ? [{ keyCode: af.BACKSPACE, altKey: true, action: sS(E_, e4) }, { keyCode: af.DELETE, altKey: true, action: sS(E_, e4) }, ...n3 ? [{ keyCode: vN ? 224 : 91, action: sS(E_, e4) }] : []] : [{ keyCode: af.BACKSPACE, ctrlKey: true, action: sS(E_, e4) }, { keyCode: af.DELETE, ctrlKey: true, action: sS(E_, e4) }]], t5);
              })(e3, t4, n2), n2 = false;
            });
          })(e2, t2), ((e3) => {
            let t3 = I.none();
            e3.on("keydown", (n2) => {
              n2.keyCode === af.ENTER && (aR && ((e4) => {
                if (!e4.collapsed) return false;
                const t4 = e4.startContainer;
                if (er(t4)) {
                  const n3 = /^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/, o2 = t4.data.charAt(e4.startOffset - 1);
                  return n3.test(o2);
                }
                return false;
              })(e3.selection.getRng()) ? ((e4) => {
                t3 = I.some(e4.selection.getBookmark()), e4.undoManager.add();
              })(e3) : iR(e3, n2));
            }), e3.on("keyup", (n2) => {
              n2.keyCode === af.ENTER && t3.each(() => ((e4, n3) => {
                e4.undoManager.undo(), t3.fold(_, (t4) => e4.selection.moveToBookmark(t4)), iR(e4, n3), t3 = I.none();
              })(e3, n2));
            });
          })(e2), ((e3) => {
            e3.on("keydown", (t3) => {
              t3.isDefaultPrevented() || ((e4, t4) => {
                iS([{ keyCode: af.SPACEBAR, action: sS(hR, e4) }, { keyCode: af.SPACEBAR, action: sS(bR, e4) }], t4).each((n2) => {
                  t4.preventDefault(), gN(e4, "insertText", { data: " " }).isDefaultPrevented() || (n2(), fN(e4, "insertText", { data: " " }));
                });
              })(e3, t3);
            });
          })(e2), ((e3) => {
            e3.on("input", (t3) => {
              t3.isComposing || ((e4) => {
                const t4 = yn(e4.getBody());
                e4.selection.isCollapsed() && ih(t4, Vi.fromRangeStart(e4.selection.getRng()), e4.schema).each((t5) => {
                  e4.selection.setRng(t5.toRange());
                });
              })(e3);
            });
          })(e2), ((e3) => {
            e3.on("keydown", (t3) => {
              t3.isDefaultPrevented() || ((e4, t4) => {
                aS([...vR(e4)], t4).each((e5) => {
                  t4.preventDefault();
                });
              })(e3, t3);
            });
          })(e2), ((e3, t3) => {
            e3.on("keydown", (n2) => {
              n2.isDefaultPrevented() || ((e4, t4, n3) => {
                const o2 = At.os.isMacOS() || At.os.isiOS();
                aS([{ keyCode: af.END, action: sS(J_, e4, true) }, { keyCode: af.HOME, action: sS(J_, e4, false) }, ...o2 ? [] : [{ keyCode: af.HOME, action: sS(Z_, e4, false), ctrlKey: true, shiftKey: true }, { keyCode: af.END, action: sS(Z_, e4, true), ctrlKey: true, shiftKey: true }], { keyCode: af.END, action: sS(cS, e4, true) }, { keyCode: af.HOME, action: sS(cS, e4, false) }, { keyCode: af.END, action: sS(d_, e4, true, t4) }, { keyCode: af.HOME, action: sS(d_, e4, false, t4) }], n3).each((e5) => {
                  n3.preventDefault();
                });
              })(e3, t3, n2);
            });
          })(e2, t2), ((e3, t3) => {
            if (lR.os.isMacOS()) return;
            const n2 = $a(false);
            e3.on("keydown", (t4) => {
              cR(t4) && uR(n2, e3, true);
            }), e3.on("keyup", (o2) => {
              o2.isDefaultPrevented() || ((e4, t4, n3) => {
                aS([{ keyCode: af.PAGE_UP, action: sS(d_, e4, false, t4) }, { keyCode: af.PAGE_DOWN, action: sS(d_, e4, true, t4) }], n3);
              })(e3, t3, o2), cR(o2) && n2.get() && (uR(n2, e3, false), e3.nodeChanged());
            });
          })(e2, t2), t2;
        }
      };
      class CR {
        constructor(e2) {
          let t2;
          this.lastPath = [], this.editor = e2;
          const n2 = this;
          "onselectionchange" in e2.getDoc() || e2.on("NodeChange click mouseup keyup focus", (n3) => {
            const o2 = e2.selection.getRng(), r2 = { startContainer: o2.startContainer, startOffset: o2.startOffset, endContainer: o2.endContainer, endOffset: o2.endOffset };
            "nodechange" !== n3.type && Af(r2, t2) || e2.dispatch("SelectionChange"), t2 = r2;
          }), e2.on("contextmenu", () => {
            e2.dispatch("SelectionChange");
          }), e2.on("SelectionChange", () => {
            const t3 = e2.selection.getStart(true);
            t3 && am(e2) && !n2.isSameElementPath(t3) && e2.dom.isChildOf(t3, e2.getBody()) && e2.nodeChanged({ selectionChange: true });
          }), e2.on("mouseup", (t3) => {
            !t3.isDefaultPrevented() && am(e2) && ("IMG" === e2.selection.getNode().nodeName ? vg.setEditorTimeout(e2, () => {
              e2.nodeChanged();
            }) : e2.nodeChanged());
          });
        }
        nodeChanged(e2 = {}) {
          const t2 = this.editor.selection;
          let n2;
          if (this.editor.initialized && t2 && !Od(this.editor) && !this.editor.mode.isReadOnly()) {
            const o2 = this.editor.getBody();
            n2 = t2.getStart(true) || o2, n2.ownerDocument === this.editor.getDoc() && this.editor.dom.isChildOf(n2, o2) || (n2 = o2);
            const r2 = [];
            this.editor.dom.getParent(n2, (e3) => e3 === o2 || (r2.push(e3), false)), this.editor.dispatch("NodeChange", { ...e2, element: n2, parents: r2 });
          }
        }
        isSameElementPath(e2) {
          let t2;
          const n2 = this.editor, o2 = oe(n2.dom.getParents(e2, M, n2.getBody()));
          if (o2.length === this.lastPath.length) {
            for (t2 = o2.length; t2 >= 0 && o2[t2] === this.lastPath[t2]; t2--) ;
            if (-1 === t2) return this.lastPath = o2, true;
          }
          return this.lastPath = o2, false;
        }
      }
      const wR = ui("image"), xR = ui("event"), ER = (e2) => (t2) => {
        t2[xR] = e2;
      }, _R = ER(0), SR = ER(2), kR = ER(1), NR = (0, (e2) => {
        const t2 = e2;
        return I.from(t2[xR]).exists((e3) => 0 === e3);
      });
      const RR = ui("mode"), AR = (e2) => (t2) => {
        t2[RR] = e2;
      }, TR = (e2, t2) => AR(t2)(e2), OR = AR(0), BR = AR(2), PR = AR(1), DR = (e2) => (t2) => {
        const n2 = t2;
        return I.from(n2[RR]).exists((t3) => t3 === e2);
      }, LR = DR(0), MR = DR(1), IR = ["none", "copy", "link", "move"], FR = ["none", "copy", "copyLink", "copyMove", "link", "linkMove", "move", "all", "uninitialized"], UR = () => {
        const e2 = new window.DataTransfer();
        let t2 = "move", n2 = "all";
        const o2 = { get dropEffect() {
          return t2;
        }, set dropEffect(e3) {
          H(IR, e3) && (t2 = e3);
        }, get effectAllowed() {
          return n2;
        }, set effectAllowed(e3) {
          NR(o2) && H(FR, e3) && (n2 = e3);
        }, get items() {
          return ((e3, t3) => ({ ...t3, get length() {
            return t3.length;
          }, add: (n3, o3) => {
            if (LR(e3)) {
              if (!m(n3)) return t3.add(n3);
              if (!v(o3)) return t3.add(n3, o3);
            }
            return null;
          }, remove: (n3) => {
            LR(e3) && t3.remove(n3);
          }, clear: () => {
            LR(e3) && t3.clear();
          } }))(o2, e2.items);
        }, get files() {
          return MR(o2) ? Object.freeze({ length: 0, item: (e3) => null }) : e2.files;
        }, get types() {
          return e2.types;
        }, setDragImage: (t3, n3, r2) => {
          var s2;
          LR(o2) && (s2 = { image: t3, x: n3, y: r2 }, o2[wR] = s2, e2.setDragImage(t3, n3, r2));
        }, getData: (t3) => MR(o2) ? "" : e2.getData(t3), setData: (t3, n3) => {
          LR(o2) && e2.setData(t3, n3);
        }, clearData: (t3) => {
          LR(o2) && e2.clearData(t3);
        } };
        return OR(o2), o2;
      }, zR = (e2, t2) => e2.setData("text/html", t2), jR = "x-tinymce/html", HR = N(jR), $R = "<!-- " + jR + " -->", qR = (e2) => $R + e2, VR = (e2) => -1 !== e2.indexOf($R), WR = "%MCEPASTEBIN%", KR = (e2) => e2.dom.get("mcepastebin"), YR = (e2) => C(e2) && "mcepastebin" === e2.id, GR = (e2) => e2 === WR, XR = (e2, t2) => (Pt.each(t2, (t3) => {
        e2 = u(t3, RegExp) ? e2.replace(t3, "") : e2.replace(t3[0], t3[1]);
      }), e2), QR = (e2) => XR(e2, [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g, (e3, t2, n2) => t2 || n2 ? br : " "], /<br class="Apple-interchange-newline">/g, /<br>$/i]), JR = (e2, t2) => ({ content: e2, cancelled: t2 }), ZR = (e2, t2) => (e2.insertContent(t2, { merge: tc(e2), paste: true }), true), eA = (e2) => /^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e2), tA = (e2, t2, n2) => !(e2.selection.isCollapsed() || !eA(t2)) && ((e3, t3, n3) => (e3.undoManager.extra(() => {
        n3(e3, t3);
      }, () => {
        e3.execCommand("mceInsertLink", false, t3);
      }), true))(e2, t2, n2), nA = (e2, t2, n2) => !!((e3, t3) => eA(t3) && $(pc(e3), (e4) => $e(t3.toLowerCase(), `.${e4.toLowerCase()}`)))(e2, t2) && ((e3, t3, n3) => (e3.undoManager.extra(() => {
        n3(e3, t3);
      }, () => {
        e3.insertContent('<img src="' + t3 + '">');
      }), true))(e2, t2, n2), oA = /* @__PURE__ */ ((e2) => {
        let t2 = 0;
        return () => "mceclip" + t2++;
      })(), rA = (e2) => {
        const t2 = UR();
        return zR(t2, e2), BR(t2), t2;
      }, sA = (e2, t2, n2, o2, r2) => {
        const s2 = ((e3, t3, n3) => ((e4, t4, n4) => {
          const o3 = ((e5, t5, n5) => e5.dispatch("PastePreProcess", { content: t5, internal: n5 }))(e4, t4, n4), r3 = ((e5, t5) => {
            const n5 = CC({ sanitize: fc(e5), sandbox_iframes: Cc(e5) }, e5.schema);
            n5.addNodeFilter("meta", (e6) => {
              Pt.each(e6, (e7) => {
                e7.remove();
              });
            });
            const o4 = n5.parse(t5, { forced_root_block: false, isRootContent: true });
            return up({ validate: true }, e5.schema).serialize(o4);
          })(e4, o3.content);
          return e4.hasEventListeners("PastePostProcess") && !o3.isDefaultPrevented() ? ((e5, t5, n5) => {
            const o4 = e5.dom.create("div", { style: "display:none" }, t5), r4 = ((e6, t6, n6) => e6.dispatch("PastePostProcess", { node: t6, internal: n6 }))(e5, o4, n5);
            return JR(r4.node.innerHTML, r4.isDefaultPrevented());
          })(e4, r3, n4) : JR(r3, o3.isDefaultPrevented());
        })(e3, t3, n3))(e2, t2, n2);
        if (!s2.cancelled) {
          const t3 = s2.content, n3 = () => ((e3, t4, n4) => {
            n4 || !nc(e3) ? ZR(e3, t4) : ((e4, t5) => {
              Pt.each([tA, nA, ZR], (n5) => !n5(e4, t5, ZR));
            })(e3, t4);
          })(e2, t3, o2);
          r2 ? gN(e2, "insertFromPaste", { dataTransfer: rA(t3) }).isDefaultPrevented() || (n3(), fN(e2, "insertFromPaste")) : n3();
        }
      }, aA = (e2, t2, n2, o2) => {
        const r2 = n2 || VR(t2);
        sA(e2, ((e3) => e3.replace($R, ""))(t2), r2, false, o2);
      }, iA = (e2, t2, n2) => {
        const o2 = e2.dom.encode(t2).replace(/\r\n/g, "\n"), r2 = ((e3, t3, n3) => {
          const o3 = e3.split(/\n\n/), r3 = ((e4, t4) => {
            let n4 = "<" + e4;
            const o4 = Ce(t4, (e5, t5) => t5 + '="' + ea.encodeAllRaw(e5) + '"');
            return o4.length && (n4 += " " + o4.join(" ")), n4 + ">";
          })(t3, n3), s2 = "</" + t3 + ">", a2 = q(o3, (e4) => e4.split(/\n/).join("<br />"));
          return 1 === a2.length ? a2[0] : q(a2, (e4) => r3 + e4 + s2).join("");
        })(ls(o2, rc(e2)), Il(e2), Fl(e2));
        sA(e2, r2, false, true, n2);
      }, lA = (e2) => {
        const t2 = {};
        if (e2 && e2.types) for (let n2 = 0; n2 < e2.types.length; n2++) {
          const o2 = e2.types[n2];
          try {
            t2[o2] = e2.getData(o2);
          } catch (e3) {
            t2[o2] = "";
          }
        }
        return t2;
      }, dA = (e2, t2) => t2 in e2 && e2[t2].length > 0, cA = (e2) => dA(e2, "text/html") || dA(e2, "text/plain"), uA = (e2, t2, n2) => {
        const o2 = "paste" === t2.type ? t2.clipboardData : t2.dataTransfer;
        var r2;
        if (Gd(e2) && o2) {
          const s2 = ((e3, t3) => {
            const n3 = t3.items ? te(ce(t3.items), (e4) => "file" === e4.kind ? [e4.getAsFile()] : []) : [], o3 = t3.files ? ce(t3.files) : [];
            return Y(n3.length > 0 ? n3 : o3, ((e4) => {
              const t4 = pc(e4);
              return (e5) => He(e5.type, "image/") && $(t4, (t5) => ((e6) => {
                const t6 = e6.toLowerCase(), n4 = { jpg: "jpeg", jpe: "jpeg", jfi: "jpeg", jif: "jpeg", jfif: "jpeg", pjpeg: "jpeg", pjp: "jpeg", svg: "svg+xml" };
                return Pt.hasOwn(n4, t6) ? "image/" + n4[t6] : "image/" + t6;
              })(t5) === e5.type);
            })(e3));
          })(e2, o2);
          if (s2.length > 0) return t2.preventDefault(), (r2 = s2, Promise.all(q(r2, (e3) => Gv(e3).then((t3) => ({ file: e3, uri: t3 }))))).then((t3) => {
            n2 && e2.selection.setRng(n2), V(t3, (t4) => {
              ((e3, t5) => {
                Kv(t5.uri).each(({ data: n3, type: o3, base64Encoded: r3 }) => {
                  const s3 = r3 ? n3 : btoa(n3), a2 = t5.file, i2 = e3.editorUpload.blobCache, l2 = i2.getByData(s3, o3), d2 = null != l2 ? l2 : ((e4, t6, n4, o4) => {
                    const r4 = oA(), s4 = Vl(e4) && C(n4.name), a3 = s4 ? ((e5, t7) => {
                      const n5 = t7.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);
                      return C(n5) ? e5.dom.encode(n5[1]) : void 0;
                    })(e4, n4.name) : r4, i3 = s4 ? n4.name : void 0, l3 = t6.create(r4, n4, o4, a3, i3);
                    return t6.add(l3), l3;
                  })(e3, i2, a2, s3);
                  aA(e3, `<img src="${d2.blobUri()}">`, false, true);
                });
              })(e2, t4);
            });
          }), true;
        }
        return false;
      }, mA = (e2, t2, n2, o2, r2) => {
        let s2 = QR(n2);
        const a2 = dA(t2, HR()) || VR(n2), i2 = !a2 && ((e3) => !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e3))(s2), l2 = eA(s2);
        (GR(s2) || !s2.length || i2 && !l2) && (o2 = true), (o2 || l2) && (s2 = dA(t2, "text/plain") && i2 ? t2["text/plain"] : ((e3) => {
          const t3 = ua(), n3 = CC({}, t3);
          let o3 = "";
          const r3 = t3.getVoidElements(), s3 = Pt.makeMap("script noscript style textarea video audio iframe object", " "), a3 = t3.getBlockElements(), i3 = (e4) => {
            const n4 = e4.name, l3 = e4;
            if ("br" !== n4) {
              if ("wbr" !== n4) if (r3[n4] && (o3 += " "), s3[n4]) o3 += " ";
              else {
                if (3 === e4.type && (o3 += e4.value), !(e4.name in t3.getVoidElements())) {
                  let t4 = e4.firstChild;
                  if (t4) do {
                    i3(t4);
                  } while (t4 = t4.next);
                }
                a3[n4] && l3.next && (o3 += "\n", "p" === n4 && (o3 += "\n"));
              }
            } else o3 += "\n";
          };
          return e3 = XR(e3, [/<!\[[^\]]+\]>/g]), i3(n3.parse(e3)), o3;
        })(s2)), GR(s2) || (o2 ? iA(e2, s2, r2) : aA(e2, s2, a2, r2));
      }, fA = (e2, t2, n2) => {
        ((e3, t3, n3) => {
          let o2;
          e3.on("keydown", (e4) => {
            ((e5) => af.metaKeyPressed(e5) && 86 === e5.keyCode || e5.shiftKey && 45 === e5.keyCode)(e4) && !e4.isDefaultPrevented() && (o2 = e4.shiftKey && 86 === e4.keyCode);
          }), e3.on("paste", (r2) => {
            if (r2.isDefaultPrevented() || ((e4) => {
              var t4, n4;
              return At.os.isAndroid() && 0 === (null === (n4 = null === (t4 = e4.clipboardData) || void 0 === t4 ? void 0 : t4.items) || void 0 === n4 ? void 0 : n4.length);
            })(r2)) return;
            const s2 = "text" === n3.get() || o2;
            o2 = false;
            const a2 = lA(r2.clipboardData);
            !cA(a2) && uA(e3, r2, t3.getLastRng() || e3.selection.getRng()) || (dA(a2, "text/html") ? (r2.preventDefault(), mA(e3, a2, a2["text/html"], s2, true)) : dA(a2, "text/plain") && dA(a2, "text/uri-list") ? (r2.preventDefault(), mA(e3, a2, a2["text/plain"], s2, true)) : (t3.create(), vg.setEditorTimeout(e3, () => {
              const n4 = t3.getHtml();
              t3.remove(), mA(e3, a2, n4, s2, false);
            }, 0)));
          });
        })(e2, t2, n2), ((e3) => {
          const t3 = (e4) => He(e4, "webkit-fake-url"), n3 = (e4) => He(e4, "data:");
          e3.parser.addNodeFilter("img", (o2, r2, s2) => {
            if (!Gd(e3) && ((e4) => {
              var t4;
              return true === (null === (t4 = e4.data) || void 0 === t4 ? void 0 : t4.paste);
            })(s2)) for (const r3 of o2) {
              const o3 = r3.attr("src");
              m(o3) && !r3.attr("data-mce-object") && o3 !== At.transparentSrc && (t3(o3) || !sc(e3) && n3(o3)) && r3.remove();
            }
          });
        })(e2);
      }, gA = (e2, t2, n2, o2) => {
        ((e3, t3, n3) => {
          if (!e3) return false;
          try {
            return e3.clearData(), e3.setData("text/html", t3), e3.setData("text/plain", n3), e3.setData(HR(), t3), true;
          } catch (e4) {
            return false;
          }
        })(e2.clipboardData, t2.html, t2.text) ? (e2.preventDefault(), o2()) : n2(t2.html, o2);
      }, pA = (e2) => (t2, n2) => {
        const { dom: o2, selection: r2 } = e2, s2 = o2.create("div", { contenteditable: "false", "data-mce-bogus": "all" }), a2 = o2.create("div", { contenteditable: "true" }, t2);
        o2.setStyles(s2, { position: "fixed", top: "0", left: "-3000px", width: "1000px", overflow: "hidden" }), s2.appendChild(a2), o2.add(e2.getBody(), s2);
        const i2 = r2.getRng();
        a2.focus();
        const l2 = o2.createRng();
        l2.selectNodeContents(a2), r2.setRng(l2), vg.setEditorTimeout(e2, () => {
          r2.setRng(i2), o2.remove(s2), n2();
        }, 0);
      }, hA = (e2) => ({ html: qR(e2.selection.getContent({ contextual: true })), text: e2.selection.getContent({ format: "text" }) }), bA = (e2) => !e2.selection.isCollapsed() || ((e3) => !!e3.dom.getParent(e3.selection.getStart(), "td[data-mce-selected],th[data-mce-selected]", e3.getBody()))(e2), vA = (e2, t2) => {
        var n2, o2;
        return Uf.getCaretRangeFromPoint(null !== (n2 = t2.clientX) && void 0 !== n2 ? n2 : 0, null !== (o2 = t2.clientY) && void 0 !== o2 ? o2 : 0, e2.getDoc());
      }, yA = (e2, t2) => {
        e2.focus(), t2 && e2.selection.setRng(t2);
      }, CA = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi, wA = (e2) => Pt.trim(e2).replace(CA, Ca).toLowerCase(), xA = (e2, t2, n2) => {
        const o2 = Zd(e2);
        if (n2 || "all" === o2 || !ec(e2)) return t2;
        const r2 = o2 ? o2.split(/[, ]/) : [];
        if (r2 && "none" !== o2) {
          const n3 = e2.dom, o3 = e2.selection.getNode();
          t2 = t2.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, (e3, t3, s2, a2) => {
            const i2 = n3.parseStyle(n3.decode(s2)), l2 = {};
            for (let e4 = 0; e4 < r2.length; e4++) {
              const t4 = i2[r2[e4]];
              let s3 = t4, a3 = n3.getStyle(o3, r2[e4], true);
              /color/.test(r2[e4]) && (s3 = wA(s3), a3 = wA(a3)), a3 !== s3 && (l2[r2[e4]] = t4);
            }
            const d2 = n3.serializeStyle(l2, "span");
            return d2 ? t3 + ' style="' + d2 + '"' + a2 : t3 + a2;
          });
        } else t2 = t2.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3");
        return t2 = t2.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi, (e3, t3, n3, o3) => t3 + ' style="' + n3 + '"' + o3), t2;
      }, EA = (e2) => {
        const t2 = $a(false), n2 = $a(oc(e2) ? "text" : "html"), o2 = ((e3) => {
          const t3 = $a(null);
          return { create: () => ((e4, t4) => {
            const { dom: n3, selection: o3 } = e4, r2 = e4.getBody();
            t4.set(o3.getRng());
            const s2 = n3.add(e4.getBody(), "div", { id: "mcepastebin", class: "mce-pastebin", contentEditable: true, "data-mce-bogus": "all", style: "position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0" }, WR);
            At.browser.isFirefox() && n3.setStyle(s2, "left", "rtl" === n3.getStyle(r2, "direction", true) ? 65535 : -65535), n3.bind(s2, "beforedeactivate focusin focusout", (e5) => {
              e5.stopPropagation();
            }), s2.focus(), o3.select(s2, true);
          })(e3, t3), remove: () => ((e4, t4) => {
            const n3 = e4.dom;
            if (KR(e4)) {
              let o3;
              const r2 = t4.get();
              for (; o3 = KR(e4); ) n3.remove(o3), n3.unbind(o3);
              r2 && e4.selection.setRng(r2);
            }
            t4.set(null);
          })(e3, t3), getEl: () => KR(e3), getHtml: () => ((e4) => {
            const t4 = e4.dom, n3 = (e5, n4) => {
              e5.appendChild(n4), t4.remove(n4, true);
            }, [o3, ...r2] = Y(e4.getBody().childNodes, YR);
            V(r2, (e5) => {
              n3(o3, e5);
            });
            const s2 = t4.select("div[id=mcepastebin]", o3);
            for (let e5 = s2.length - 1; e5 >= 0; e5--) {
              const r3 = t4.create("div");
              o3.insertBefore(r3, s2[e5]), n3(r3, s2[e5]);
            }
            return o3 ? o3.innerHTML : "";
          })(e3), getLastRng: t3.get };
        })(e2);
        ((e3) => {
          (At.browser.isChromium() || At.browser.isSafari()) && ((e4, t3) => {
            e4.on("PastePreProcess", (n3) => {
              n3.content = t3(e4, n3.content, n3.internal);
            });
          })(e3, xA);
        })(e2), ((e3, t3) => {
          e3.addCommand("mceTogglePlainTextPaste", () => {
            ((e4, t4) => {
              "text" === t4.get() ? (t4.set("html"), sf(e4, false)) : (t4.set("text"), sf(e4, true)), e4.focus();
            })(e3, t3);
          }), e3.addCommand("mceInsertClipboardContent", (t4, n3) => {
            n3.html && aA(e3, n3.html, n3.internal, false), n3.text && iA(e3, n3.text, false);
          });
        })(e2, n2), ((e3) => {
          const t3 = (t4) => (n4) => {
            t4(e3, n4);
          }, n3 = Xd(e3);
          w(n3) && e3.on("PastePreProcess", t3(n3));
          const o3 = Qd(e3);
          w(o3) && e3.on("PastePostProcess", t3(o3));
        })(e2), e2.on("PreInit", () => {
          ((e3) => {
            e3.on("cut", /* @__PURE__ */ ((e4) => (t3) => {
              !t3.isDefaultPrevented() && bA(e4) && e4.selection.isEditable() && gA(t3, hA(e4), pA(e4), () => {
                if (At.browser.isChromium() || At.browser.isFirefox()) {
                  const t4 = e4.selection.getRng();
                  vg.setEditorTimeout(e4, () => {
                    e4.selection.setRng(t4), e4.execCommand("Delete");
                  }, 0);
                } else e4.execCommand("Delete");
              });
            })(e3)), e3.on("copy", /* @__PURE__ */ ((e4) => (t3) => {
              !t3.isDefaultPrevented() && bA(e4) && gA(t3, hA(e4), pA(e4), _);
            })(e3));
          })(e2), ((e3, t3) => {
            Yd(e3) && e3.on("dragend dragover draggesture dragdrop drop drag", (e4) => {
              e4.preventDefault(), e4.stopPropagation();
            }), Gd(e3) || e3.on("drop", (e4) => {
              const t4 = e4.dataTransfer;
              t4 && ((e5) => $(e5.files, (e6) => /^image\//.test(e6.type)))(t4) && e4.preventDefault();
            }), e3.on("drop", (n3) => {
              if (n3.isDefaultPrevented()) return;
              const o3 = vA(e3, n3);
              if (y(o3)) return;
              const r2 = lA(n3.dataTransfer), s2 = dA(r2, HR());
              if ((!cA(r2) || ((e4) => {
                const t4 = e4["text/plain"];
                return !!t4 && 0 === t4.indexOf("file://");
              })(r2)) && uA(e3, n3, o3)) return;
              const a2 = r2[HR()], i2 = a2 || r2["text/html"] || r2["text/plain"], l2 = ((e4, t4, n4, o4) => {
                const r3 = e4.getParent(n4, (e5) => Ts(t4, e5));
                if (!h(e4.getParent(n4, "summary"))) return true;
                if (r3 && Ee(o4, "text/html")) {
                  const e5 = new DOMParser().parseFromString(o4["text/html"], "text/html").body;
                  return !h(e5.querySelector(r3.nodeName.toLowerCase()));
                }
                return false;
              })(e3.dom, e3.schema, o3.startContainer, r2), d2 = t3.get();
              d2 && !l2 || i2 && (n3.preventDefault(), vg.setEditorTimeout(e3, () => {
                e3.undoManager.transact(() => {
                  (a2 || d2 && l2) && e3.execCommand("Delete"), yA(e3, o3);
                  const t4 = QR(i2);
                  r2["text/html"] ? aA(e3, t4, s2, true) : iA(e3, t4, true);
                });
              }));
            }), e3.on("dragstart", (e4) => {
              t3.set(true);
            }), e3.on("dragover dragend", (n3) => {
              Gd(e3) && !t3.get() && (n3.preventDefault(), yA(e3, vA(e3, n3))), "dragend" === n3.type && t3.set(false);
            }), ((e4) => {
              e4.on("input", (t4) => {
                const n3 = (e5) => h(e5.querySelector("summary"));
                if ("deleteByDrag" === t4.inputType) {
                  const t5 = Y(e4.dom.select("details"), n3);
                  V(t5, (t6) => {
                    ar(t6.firstChild) && t6.firstChild.remove();
                    const n4 = e4.dom.create("summary");
                    n4.appendChild(Tr().dom), t6.prepend(n4);
                  });
                }
              });
            })(e3);
          })(e2, t2), fA(e2, o2, n2);
        });
      }, _A = ar, SA = er, kA = (e2) => dr(e2.dom), NA = (e2) => (t2) => _n(yn(e2), t2), RA = (e2, t2) => Jn(yn(e2), kA, NA(t2)), AA = (e2, t2, n2) => {
        const o2 = new jo(e2, t2), r2 = n2 ? o2.next.bind(o2) : o2.prev.bind(o2);
        let s2 = e2;
        for (let t3 = n2 ? e2 : r2(); t3 && !_A(t3); t3 = r2()) ts(t3) && (s2 = t3);
        return s2;
      }, TA = (e2) => {
        const t2 = ((e3, t3, n2) => {
          const o2 = Vi.fromRangeStart(e3).getNode(), r2 = ((e4, t4, n3) => Jn(yn(e4), (e5) => ((e6) => lr(e6.dom))(e5) || n3.isBlock(Ht(e5)), NA(t4)).getOr(yn(t4)).dom)(o2, t3, n2), s2 = AA(o2, r2, false), a2 = AA(o2, r2, true), i2 = document.createRange();
          return RA(s2, r2).fold(() => {
            SA(s2) ? i2.setStart(s2, 0) : i2.setStartBefore(s2);
          }, (e4) => i2.setStartBefore(e4.dom)), RA(a2, r2).fold(() => {
            SA(a2) ? i2.setEnd(a2, a2.data.length) : i2.setEndAfter(a2);
          }, (e4) => i2.setEndAfter(e4.dom)), i2;
        })(e2.selection.getRng(), e2.getBody(), e2.schema);
        e2.selection.setRng(Eb(t2));
      };
      var OA;
      !function(e2) {
        e2.Before = "before", e2.After = "after";
      }(OA || (OA = {}));
      const BA = (e2, t2) => Math.abs(e2.left - t2), PA = (e2, t2) => Math.abs(e2.right - t2), DA = (e2, t2) => ((e3) => X(e3, (e4, t3) => e4.fold(() => I.some(t3), (e5) => {
        const n2 = Math.min(t3.left, e5.left), o2 = Math.min(t3.top, e5.top), r2 = Math.max(t3.right, e5.right), s2 = Math.max(t3.bottom, e5.bottom);
        return I.some({ top: o2, right: r2, bottom: s2, left: n2, width: r2 - n2, height: s2 - o2 });
      }), I.none()))(Y(e2, (e3) => {
        return (n2 = t2) >= (o2 = e3).top && n2 <= o2.bottom;
        var n2, o2;
      })).fold(() => [[], e2], (t3) => {
        const { pass: n2, fail: o2 } = K(e2, (e3) => ((e4, t4) => {
          const n3 = ((e5, t5) => Math.max(0, Math.min(e5.bottom, t5.bottom) - Math.max(e5.top, t5.top)))(e4, t4) / Math.min(e4.height, t4.height);
          return ((e5, t5) => e5.top < t5.bottom && e5.bottom > t5.top)(e4, t4) && n3 > 0.5;
        })(e3, t3));
        return [n2, o2];
      }), LA = (e2, t2, n2) => t2 > e2.left && t2 < e2.right ? 0 : Math.min(Math.abs(e2.left - t2), Math.abs(e2.right - t2)), MA = (e2, t2, n2, o2) => {
        const r2 = (e3) => ts(e3.node) ? I.some(e3) : qo(e3.node) ? MA(ce(e3.node.childNodes), t2, n2, false) : I.none(), s2 = (e3, s3) => {
          const a3 = ae(e3, (e4, o3) => s3(e4, t2, n2) - s3(o3, t2, n2));
          return ue(a3, r2).map((e4) => o2 && !er(e4.node) && a3.length > 1 ? ((e5, o3, s4) => r2(o3).filter((o4) => Math.abs(s4(e5, t2, n2) - s4(o4, t2, n2)) < 2 && er(o4.node)))(e4, a3[1], s3).getOr(e4) : e4);
        }, [a2, i2] = DA(zE(e2), n2), { pass: l2, fail: d2 } = K(i2, (e3) => e3.top < n2);
        return s2(a2, LA).orThunk(() => s2(d2, Ei)).orThunk(() => s2(l2, Ei));
      }, IA = (e2, t2, n2) => ((e3, t3, n3) => {
        const o2 = yn(e3), r2 = Nn(o2), s2 = Cn(r2, t3, n3).filter((e4) => Sn(o2, e4)).getOr(o2);
        return ((e4, t4, n4, o3) => {
          const r3 = (t5, s3) => {
            const a2 = Y(t5.dom.childNodes, O((e5) => qo(e5) && e5.classList.contains("mce-drag-container")));
            return s3.fold(() => MA(a2, n4, o3, true), (e5) => {
              const t6 = Y(a2, (t7) => t7 !== e5.dom);
              return MA(t6, n4, o3, true);
            }).orThunk(() => (_n(t5, e4) ? I.none() : Tn(t5)).bind((e5) => r3(e5, I.some(t5))));
          };
          return r3(t4, I.none());
        })(o2, s2, t3, n3);
      })(e2, t2, n2).filter((e3) => Mc(e3.node)).map((e3) => ((e4, t3) => ({ node: e4.node, position: BA(e4, t3) < PA(e4, t3) ? OA.Before : OA.After }))(e3, t2)), FA = (e2) => {
        var t2, n2;
        const o2 = e2.getBoundingClientRect(), r2 = e2.ownerDocument, s2 = r2.documentElement, a2 = r2.defaultView;
        return { top: o2.top + (null !== (t2 = null == a2 ? void 0 : a2.scrollY) && void 0 !== t2 ? t2 : 0) - s2.clientTop, left: o2.left + (null !== (n2 = null == a2 ? void 0 : a2.scrollX) && void 0 !== n2 ? n2 : 0) - s2.clientLeft };
      }, UA = (e2) => ({ target: e2, srcElement: e2 }), zA = (e2, t2, n2, o2) => {
        const r2 = ((e3, t3) => {
          const n3 = ((e4) => {
            const t4 = UR(), n4 = ((e5) => {
              const t5 = e5;
              return I.from(t5[RR]);
            })(e4);
            return BR(e4), _R(t4), t4.dropEffect = e4.dropEffect, t4.effectAllowed = e4.effectAllowed, ((e5) => {
              const t5 = e5;
              return I.from(t5[wR]);
            })(e4).each((e5) => t4.setDragImage(e5.image, e5.x, e5.y)), V(e4.types, (n5) => {
              "Files" !== n5 && t4.setData(n5, e4.getData(n5));
            }), V(e4.files, (e5) => t4.items.add(e5)), ((e5) => {
              const t5 = e5;
              return I.from(t5[xR]);
            })(e4).each((e5) => {
              ((e6, t5) => {
                ER(t5)(e6);
              })(t4, e5);
            }), n4.each((n5) => {
              TR(e4, n5), TR(t4, n5);
            }), t4;
          })(e3);
          return "dragstart" === t3 ? (_R(n3), OR(n3)) : "drop" === t3 ? (SR(n3), BR(n3)) : (kR(n3), PR(n3)), n3;
        })(n2, e2);
        return v(o2) ? ((e3, t3, n3) => {
          const o3 = B("Function not supported on simulated event.");
          return { bubbles: true, cancelBubble: false, cancelable: true, composed: false, currentTarget: null, defaultPrevented: false, eventPhase: 0, isTrusted: true, returnValue: false, timeStamp: 0, type: e3, composedPath: o3, initEvent: o3, preventDefault: _, stopImmediatePropagation: _, stopPropagation: _, AT_TARGET: window.Event.AT_TARGET, BUBBLING_PHASE: window.Event.BUBBLING_PHASE, CAPTURING_PHASE: window.Event.CAPTURING_PHASE, NONE: window.Event.NONE, altKey: false, button: 0, buttons: 0, clientX: 0, clientY: 0, ctrlKey: false, metaKey: false, movementX: 0, movementY: 0, offsetX: 0, offsetY: 0, pageX: 0, pageY: 0, relatedTarget: null, screenX: 0, screenY: 0, shiftKey: false, x: 0, y: 0, detail: 0, view: null, which: 0, initUIEvent: o3, initMouseEvent: o3, getModifierState: o3, dataTransfer: n3, ...UA(t3) };
        })(e2, t2, r2) : ((e3, t3, n3, o3) => ({ ...t3, dataTransfer: o3, type: e3, ...UA(n3) }))(e2, o2, t2, r2);
      }, jA = dr, HA = /* @__PURE__ */ ((...e2) => (t2) => {
        for (let n2 = 0; n2 < e2.length; n2++) if (e2[n2](t2)) return true;
        return false;
      })(jA, lr), $A = (e2, t2, n2, o2) => {
        const r2 = e2.dom, s2 = t2.cloneNode(true);
        r2.setStyles(s2, { width: n2, height: o2 }), r2.setAttrib(s2, "data-mce-selected", null);
        const a2 = r2.create("div", { class: "mce-drag-container", "data-mce-bogus": "all", unselectable: "on", contenteditable: "false" });
        return r2.setStyles(a2, { position: "absolute", opacity: 0.5, overflow: "hidden", border: 0, padding: 0, margin: 0, width: n2, height: o2 }), r2.setStyles(s2, { margin: 0, boxSizing: "border-box" }), a2.appendChild(s2), a2;
      }, qA = (e2, t2) => (n2) => () => {
        const o2 = "left" === e2 ? n2.scrollX : n2.scrollY;
        n2.scroll({ [e2]: o2 + t2, behavior: "smooth" });
      }, VA = qA("left", -32), WA = qA("left", 32), KA = qA("top", -32), YA = qA("top", 32), GA = (e2) => {
        e2 && e2.parentNode && e2.parentNode.removeChild(e2);
      }, XA = (e2, t2, n2, o2, r2) => {
        "dragstart" === t2 && zR(o2, e2.dom.getOuterHTML(n2));
        const s2 = zA(t2, n2, o2, r2);
        return e2.dispatch(t2, s2);
      }, QA = (e2, t2) => {
        const n2 = Qa((e3, n3) => ((e4, t3, n4) => {
          e4._selectionOverrides.hideFakeCaret(), IA(e4.getBody(), t3, n4).fold(() => e4.selection.placeCaretAt(t3, n4), (o3) => {
            const r2 = e4._selectionOverrides.showCaret(1, o3.node, o3.position === OA.Before, false);
            r2 ? e4.selection.setRng(r2) : e4.selection.placeCaretAt(t3, n4);
          });
        })(t2, e3, n3), 0);
        t2.on("remove", n2.cancel);
        const o2 = e2;
        return (r2) => e2.on((e3) => {
          const s2 = Math.max(Math.abs(r2.screenX - e3.screenX), Math.abs(r2.screenY - e3.screenY));
          if (!e3.dragging && s2 > 10) {
            const n3 = XA(t2, "dragstart", e3.element, e3.dataTransfer, r2);
            if (C(n3.dataTransfer) && (e3.dataTransfer = n3.dataTransfer), n3.isDefaultPrevented()) return;
            e3.dragging = true, t2.focus();
          }
          if (e3.dragging) {
            const s3 = r2.currentTarget === t2.getDoc().documentElement, l2 = ((e4, t3) => ({ pageX: t3.pageX - e4.relX, pageY: t3.pageY + 5 }))(e3, ((e4, t3) => {
              return n3 = ((e5) => e5.inline ? FA(e5.getBody()) : { left: 0, top: 0 })(e4), o3 = ((e5) => {
                const t4 = e5.getBody();
                return e5.inline ? { left: t4.scrollLeft, top: t4.scrollTop } : { left: 0, top: 0 };
              })(e4), r3 = ((e5, t4) => {
                if (t4.target.ownerDocument !== e5.getDoc()) {
                  const n4 = FA(e5.getContentAreaContainer()), o4 = ((e6) => {
                    const t5 = e6.getBody(), n5 = e6.getDoc().documentElement, o5 = { left: t5.scrollLeft, top: t5.scrollTop }, r4 = { left: t5.scrollLeft || n5.scrollLeft, top: t5.scrollTop || n5.scrollTop };
                    return e6.inline ? o5 : r4;
                  })(e5);
                  return { left: t4.pageX - n4.left + o4.left, top: t4.pageY - n4.top + o4.top };
                }
                return { left: t4.pageX, top: t4.pageY };
              })(e4, t3), { pageX: r3.left - n3.left + o3.left, pageY: r3.top - n3.top + o3.top };
              var n3, o3, r3;
            })(t2, r2));
            a2 = e3.ghost, i2 = t2.getBody(), a2.parentNode !== i2 && i2.appendChild(a2), ((e4, t3, n3, o3, r3, s4, a3, i3, l3, d2, c2, u2) => {
              let m2 = 0, f2 = 0;
              e4.style.left = t3.pageX + "px", e4.style.top = t3.pageY + "px", t3.pageX + n3 > r3 && (m2 = t3.pageX + n3 - r3), t3.pageY + o3 > s4 && (f2 = t3.pageY + o3 - s4), e4.style.width = n3 - m2 + "px", e4.style.height = o3 - f2 + "px";
              const g2 = l3.clientHeight, p2 = l3.clientWidth, h2 = a3 + l3.getBoundingClientRect().top, b2 = i3 + l3.getBoundingClientRect().left;
              c2.on((e5) => {
                e5.intervalId.clear(), e5.dragging && u2 && (a3 + 8 >= g2 ? e5.intervalId.set(YA(d2)) : a3 - 8 <= 0 ? e5.intervalId.set(KA(d2)) : i3 + 8 >= p2 ? e5.intervalId.set(WA(d2)) : i3 - 8 <= 0 ? e5.intervalId.set(VA(d2)) : h2 + 16 >= window.innerHeight ? e5.intervalId.set(YA(window)) : h2 - 16 <= 0 ? e5.intervalId.set(KA(window)) : b2 + 16 >= window.innerWidth ? e5.intervalId.set(WA(window)) : b2 - 16 <= 0 && e5.intervalId.set(VA(window)));
              });
            })(e3.ghost, l2, e3.width, e3.height, e3.maxX, e3.maxY, r2.clientY, r2.clientX, t2.getContentAreaContainer(), t2.getWin(), o2, s3), n2.throttle(r2.clientX, r2.clientY);
          }
          var a2, i2;
        });
      }, JA = (e2, t2, n2) => {
        e2.on((e3) => {
          e3.intervalId.clear(), e3.dragging && n2.fold(() => XA(t2, "dragend", e3.element, e3.dataTransfer), (n3) => XA(t2, "dragend", e3.element, e3.dataTransfer, n3));
        }), ZA(e2);
      }, ZA = (e2) => {
        e2.on((e3) => {
          e3.intervalId.clear(), GA(e3.ghost);
        }), e2.clear();
      }, eT = (e2) => {
        const t2 = Xa(), n2 = za.DOM, o2 = document, r2 = /* @__PURE__ */ ((e3, t3) => (n3) => {
          if (((e4) => 0 === e4.button)(n3)) {
            const o3 = J(t3.dom.getParents(n3.target), HA).getOr(null);
            if (C(o3) && ((e4, t4, n4) => jA(n4) && n4 !== t4 && e4.isEditable(n4.parentElement))(t3.dom, t3.getBody(), o3)) {
              const r3 = t3.dom.getPos(o3), s3 = t3.getBody(), a3 = t3.getDoc().documentElement;
              e3.set({ element: o3, dataTransfer: UR(), dragging: false, screenX: n3.screenX, screenY: n3.screenY, maxX: (t3.inline ? s3.scrollWidth : a3.offsetWidth) - 2, maxY: (t3.inline ? s3.scrollHeight : a3.offsetHeight) - 2, relX: n3.pageX - r3.x, relY: n3.pageY - r3.y, width: o3.offsetWidth, height: o3.offsetHeight, ghost: $A(t3, o3, o3.offsetWidth, o3.offsetHeight), intervalId: Ga(100) });
            }
          }
        })(t2, e2), s2 = QA(t2, e2), a2 = /* @__PURE__ */ ((e3, t3) => (n3) => {
          e3.on((e4) => {
            var o3;
            if (e4.intervalId.clear(), e4.dragging) {
              if (((e5, t4, n4) => !y(t4) && t4 !== n4 && !e5.dom.isChildOf(t4, n4) && e5.dom.isEditable(t4))(t3, ((e5) => {
                const t4 = e5.getSel();
                if (C(t4)) {
                  const e6 = t4.getRangeAt(0).startContainer;
                  return er(e6) ? e6.parentNode : e6;
                }
                return null;
              })(t3.selection), e4.element)) {
                const r3 = null !== (o3 = t3.getDoc().elementFromPoint(n3.clientX, n3.clientY)) && void 0 !== o3 ? o3 : t3.getBody();
                XA(t3, "drop", r3, e4.dataTransfer, n3).isDefaultPrevented() || t3.undoManager.transact(() => {
                  ((e5, t4) => {
                    const n4 = e5.getParent(t4.parentNode, e5.isBlock);
                    GA(t4), n4 && n4 !== e5.getRoot() && e5.isEmpty(n4) && Or(yn(n4));
                  })(t3.dom, e4.element), ((e5) => {
                    const t4 = e5.getData("text/html");
                    return "" === t4 ? I.none() : I.some(t4);
                  })(e4.dataTransfer).each((e5) => t3.insertContent(e5)), t3._selectionOverrides.hideFakeCaret();
                });
              }
              XA(t3, "dragend", t3.getBody(), e4.dataTransfer, n3);
            }
          }), ZA(e3);
        })(t2, e2), i2 = /* @__PURE__ */ ((e3, t3) => (n3) => JA(e3, t3, I.some(n3)))(t2, e2);
        e2.on("mousedown", r2), e2.on("mousemove", s2), e2.on("mouseup", a2), n2.bind(o2, "mousemove", s2), n2.bind(o2, "mouseup", i2), e2.on("remove", () => {
          n2.unbind(o2, "mousemove", s2), n2.unbind(o2, "mouseup", i2);
        }), e2.on("keydown", (n3) => {
          n3.keyCode === af.ESC && JA(t2, e2, I.none());
        });
      }, tT = dr, nT = (e2, t2) => lb(e2.getBody(), t2), oT = (e2) => {
        const t2 = e2.selection, n2 = e2.dom, o2 = e2.getBody(), r2 = Pc(e2, o2, n2.isBlock, () => Rg(e2)), s2 = "sel-" + n2.uniqueId(), a2 = "data-mce-selected";
        let i2;
        const l2 = (e3) => e3 !== o2 && (tT(e3) || mr(e3)) && n2.isChildOf(e3, o2) && n2.isEditable(e3.parentNode), d2 = (n3, o3, s3, a3 = true) => e2.dispatch("ShowCaret", { target: o3, direction: n3, before: s3 }).isDefaultPrevented() ? null : (a3 && t2.scrollIntoView(o3, -1 === n3), r2.show(s3, o3)), c2 = (e3) => Ur(e3) || $r(e3) || qr(e3), u2 = (e3) => c2(e3.startContainer) || c2(e3.endContainer), m2 = (t3) => {
          const o3 = e2.schema.getVoidElements(), r3 = n2.createRng(), s3 = t3.startContainer, a3 = t3.startOffset, i3 = t3.endContainer, l3 = t3.endOffset;
          return Ee(o3, s3.nodeName.toLowerCase()) ? 0 === a3 ? r3.setStartBefore(s3) : r3.setStartAfter(s3) : r3.setStart(s3, a3), Ee(o3, i3.nodeName.toLowerCase()) ? 0 === l3 ? r3.setEndBefore(i3) : r3.setEndAfter(i3) : r3.setEnd(i3, l3), r3;
        }, f2 = (r3, c3) => {
          if (!r3) return null;
          if (r3.collapsed) {
            if (!u2(r3)) {
              const e3 = c3 ? 1 : -1, t3 = au(e3, o2, r3), s3 = t3.getNode(!c3);
              if (C(s3)) {
                if (Mc(s3)) return d2(e3, s3, !!c3 && !t3.isAtEnd(), false);
                if (Fr(s3) && dr(s3.nextSibling)) {
                  const e4 = n2.createRng();
                  return e4.setStart(s3, 0), e4.setEnd(s3, 0), e4;
                }
              }
              const a3 = t3.getNode(c3);
              if (C(a3)) {
                if (Mc(a3)) return d2(e3, a3, !c3 && !t3.isAtEnd(), false);
                if (Fr(a3) && dr(a3.previousSibling)) {
                  const e4 = n2.createRng();
                  return e4.setStart(a3, 1), e4.setEnd(a3, 1), e4;
                }
              }
            }
            return null;
          }
          let m3 = r3.startContainer, f3 = r3.startOffset;
          const g3 = r3.endOffset;
          if (er(m3) && 0 === f3 && tT(m3.parentNode) && (m3 = m3.parentNode, f3 = n2.nodeIndex(m3), m3 = m3.parentNode), !qo(m3)) return null;
          if (g3 === f3 + 1 && m3 === r3.endContainer) {
            const o3 = m3.childNodes[f3];
            if (l2(o3)) return ((o4) => {
              const r4 = o4.cloneNode(true), l3 = e2.dispatch("ObjectSelected", { target: o4, targetClone: r4 });
              if (l3.isDefaultPrevented()) return null;
              const d3 = ((o5, r5) => {
                const a3 = yn(e2.getBody()), i3 = e2.getDoc(), l4 = to(a3, "#" + s2).getOrThunk(() => {
                  const e3 = hn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>', i3);
                  return Jt(e3, "id", s2), vo(a3, e3), e3;
                }), d4 = n2.createRng();
                wo(l4), Co(l4, [vn(br, i3), yn(r5), vn(br, i3)]), d4.setStart(l4.dom.firstChild, 1), d4.setEnd(l4.dom.lastChild, 0), lo(l4, { top: n2.getPos(o5, e2.getBody()).y + "px" }), ag(l4);
                const c5 = t2.getSel();
                return c5 && (c5.removeAllRanges(), c5.addRange(d4)), d4;
              })(o4, l3.targetClone), c4 = yn(o4);
              return V(Uo(yn(e2.getBody()), `*[${a2}]`), (e3) => {
                _n(c4, e3) || on(e3, a2);
              }), n2.getAttrib(o4, a2) || o4.setAttribute(a2, "1"), i2 = o4, p2(), d3;
            })(o3);
          }
          return null;
        }, g2 = () => {
          i2 && i2.removeAttribute(a2), to(yn(e2.getBody()), "#" + s2).each(xo), i2 = null;
        }, p2 = () => {
          r2.hide();
        };
        return ZC(e2) || (e2.on("click", (t3) => {
          n2.isEditable(t3.target) || (t3.preventDefault(), e2.focus());
        }), e2.on("blur NewBlock", g2), e2.on("ResizeWindow FullscreenStateChanged", r2.reposition), e2.on("tap", (t3) => {
          const n3 = t3.target, o3 = nT(e2, n3);
          tT(o3) ? (t3.preventDefault(), Ax(e2, o3).each(f2)) : l2(n3) && Ax(e2, n3).each(f2);
        }, true), e2.on("mousedown", (r3) => {
          const s3 = r3.target;
          if (s3 !== o2 && "HTML" !== s3.nodeName && !n2.isChildOf(s3, o2)) return;
          if (!((e3, t3, n3) => {
            const o3 = yn(e3.getBody()), r4 = e3.inline ? o3 : yn(Nn(o3).dom.documentElement), s4 = ((e4, t4, n4, o4) => {
              const r5 = ((e5) => e5.dom.getBoundingClientRect())(t4);
              return { x: n4 - (e4 ? r5.left + t4.dom.clientLeft + Bw(t4) : 0), y: o4 - (e4 ? r5.top + t4.dom.clientTop + Ow(t4) : 0) };
            })(e3.inline, r4, t3, n3);
            return ((e4, t4, n4) => {
              const o4 = Aw(e4), r5 = Tw(e4);
              return t4 >= 0 && n4 >= 0 && t4 <= o4 && n4 <= r5;
            })(r4, s4.x, s4.y);
          })(e2, r3.clientX, r3.clientY)) return;
          g2(), p2();
          const a3 = nT(e2, s3);
          tT(a3) ? (r3.preventDefault(), Ax(e2, a3).each(f2)) : IA(o2, r3.clientX, r3.clientY).each((n3) => {
            var o3;
            r3.preventDefault(), (o3 = d2(1, n3.node, n3.position === OA.Before, false)) && t2.setRng(o3), Vo(a3) ? a3.focus() : e2.getBody().focus();
          });
        }), e2.on("keypress", (e3) => {
          af.modifierPressed(e3) || tT(t2.getNode()) && e3.preventDefault();
        }), e2.on("GetSelectionRange", (e3) => {
          let t3 = e3.range;
          if (i2) {
            if (!i2.parentNode) return void (i2 = null);
            t3 = t3.cloneRange(), t3.selectNode(i2), e3.range = t3;
          }
        }), e2.on("SetSelectionRange", (e3) => {
          e3.range = m2(e3.range);
          const t3 = f2(e3.range, e3.forward);
          t3 && (e3.range = t3);
        }), e2.on("AfterSetSelectionRange", (e3) => {
          const t3 = e3.range, o3 = t3.startContainer.parentElement;
          var r3;
          u2(t3) || qo(r3 = o3) && "mcepastebin" === r3.id || p2(), ((e4) => C(e4) && n2.hasClass(e4, "mce-offscreen-selection"))(o3) || g2();
        }), ((e3) => {
          eT(e3), Id(e3) && ((e4) => {
            const t3 = (t4) => {
              if (!t4.isDefaultPrevented()) {
                const n4 = t4.dataTransfer;
                n4 && (H(n4.types, "Files") || n4.files.length > 0) && (t4.preventDefault(), "drop" === t4.type && Fw(e4, "Dropped file type is not supported"));
              }
            }, n3 = (n4) => {
              xg(e4, n4.target) && t3(n4);
            }, o3 = () => {
              const o4 = za.DOM, r3 = e4.dom, s3 = document, a3 = e4.inline ? e4.getBody() : e4.getDoc(), i3 = ["drop", "dragover"];
              V(i3, (e5) => {
                o4.bind(s3, e5, n3), r3.bind(a3, e5, t3);
              }), e4.on("remove", () => {
                V(i3, (e5) => {
                  o4.unbind(s3, e5, n3), r3.unbind(a3, e5, t3);
                });
              });
            };
            e4.on("init", () => {
              vg.setEditorTimeout(e4, o3, 0);
            });
          })(e3);
        })(e2), ((e3) => {
          const t3 = Qa(() => {
            if (!e3.removed && e3.getBody().contains(document.activeElement)) {
              const t4 = e3.selection.getRng();
              if (t4.collapsed) {
                const n3 = Tx(e3, t4, false);
                e3.selection.setRng(n3);
              }
            }
          }, 0);
          e3.on("focus", () => {
            t3.throttle();
          }), e3.on("blur", () => {
            t3.cancel();
          });
        })(e2), ((e3) => {
          e3.on("init", () => {
            e3.on("focusin", (t3) => {
              const n3 = t3.target;
              if (mr(n3)) {
                const t4 = lb(e3.getBody(), n3), o3 = dr(t4) ? t4 : n3;
                e3.selection.getNode() !== o3 && Ax(e3, o3).each((t5) => e3.selection.setRng(t5));
              }
            });
          });
        })(e2)), { showCaret: d2, showBlockCaretContainer: (e3) => {
          e3.hasAttribute("data-mce-caret") && (Vr(e3), t2.scrollIntoView(e3));
        }, hideFakeCaret: p2, destroy: () => {
          r2.destroy(), i2 = null;
        } };
      }, rT = (e2, t2) => {
        let n2 = t2;
        for (let t3 = e2.previousSibling; er(t3); t3 = t3.previousSibling) n2 += t3.data.length;
        return n2;
      }, sT = (e2, t2, n2, o2, r2) => {
        if (er(n2) && (o2 < 0 || o2 > n2.data.length)) return [];
        const s2 = r2 && er(n2) ? [rT(n2, o2)] : [o2];
        let a2 = n2;
        for (; a2 !== t2 && a2.parentNode; ) s2.push(e2.nodeIndex(a2, r2)), a2 = a2.parentNode;
        return a2 === t2 ? s2.reverse() : [];
      }, aT = (e2, t2, n2, o2, r2, s2, a2 = false) => ({ start: sT(e2, t2, n2, o2, a2), end: sT(e2, t2, r2, s2, a2) }), iT = (e2, t2) => {
        const n2 = t2.slice(), o2 = n2.pop();
        return x(o2) ? X(n2, (e3, t3) => e3.bind((e4) => I.from(e4.childNodes[t3])), I.some(e2)).bind((e3) => er(e3) && (o2 < 0 || o2 > e3.data.length) ? I.none() : I.some({ node: e3, offset: o2 })) : I.none();
      }, lT = (e2, t2) => iT(e2, t2.start).bind(({ node: n2, offset: o2 }) => iT(e2, t2.end).map(({ node: e3, offset: t3 }) => {
        const r2 = document.createRange();
        return r2.setStart(n2, o2), r2.setEnd(e3, t3), r2;
      })), dT = (e2, t2, n2) => {
        if (t2 && e2.isEmpty(t2) && !n2(t2)) {
          const o2 = t2.parentNode;
          e2.remove(t2, er(t2.firstChild) && ss(t2.firstChild.data)), dT(e2, o2, n2);
        }
      }, cT = (e2, t2, n2, o2 = true) => {
        const r2 = t2.startContainer.parentNode, s2 = t2.endContainer.parentNode;
        t2.deleteContents(), o2 && !n2(t2.startContainer) && (er(t2.startContainer) && 0 === t2.startContainer.data.length && e2.remove(t2.startContainer), er(t2.endContainer) && 0 === t2.endContainer.data.length && e2.remove(t2.endContainer), dT(e2, r2, n2), r2 !== s2 && dT(e2, s2, n2));
      }, uT = (e2, t2) => I.from(e2.dom.getParent(t2.startContainer, e2.dom.isBlock)), mT = (e2, t2, n2) => {
        const o2 = e2.dynamicPatternsLookup({ text: n2, block: t2 });
        return { ...e2, blockPatterns: Cl(o2).concat(e2.blockPatterns), inlinePatterns: wl(o2).concat(e2.inlinePatterns) };
      }, fT = (e2, t2, n2, o2) => {
        const r2 = e2.createRng();
        return r2.setStart(t2, 0), r2.setEnd(n2, o2), r2.toString();
      }, gT = (e2, t2, n2) => {
        ((e3, t3, n3) => {
          if (er(e3) && 0 >= e3.length) return I.some(PS(e3, 0));
          {
            const t4 = hi(DS);
            return I.from(t4.forwards(e3, 0, LS(e3), n3)).map((e4) => PS(e4.container, 0));
          }
        })(t2, 0, t2).each((o2) => {
          const r2 = o2.container;
          FS(r2, n2.start.length, t2).each((n3) => {
            const o3 = e2.createRng();
            o3.setStart(r2, 0), o3.setEnd(n3.container, n3.offset), cT(e2, o3, (e3) => e3 === t2);
          });
          const s2 = yn(r2), a2 = Cr(s2);
          /^\s[^\s]/.test(a2) && ((e3, t3) => {
            yr.set(e3, t3);
          })(s2, a2.slice(1));
        });
      }, pT = (e2, t2) => e2.create("span", { "data-mce-type": "bookmark", id: t2 }), hT = (e2, t2) => {
        const n2 = e2.createRng();
        return n2.setStartAfter(t2.start), n2.setEndBefore(t2.end), n2;
      }, bT = (e2, t2, n2) => {
        const o2 = lT(e2.getRoot(), n2).getOrDie("Unable to resolve path range"), r2 = o2.startContainer, s2 = o2.endContainer, a2 = 0 === o2.endOffset ? s2 : s2.splitText(o2.endOffset), i2 = 0 === o2.startOffset ? r2 : r2.splitText(o2.startOffset), l2 = i2.parentNode;
        return { prefix: t2, end: a2.parentNode.insertBefore(pT(e2, t2 + "-end"), a2), start: l2.insertBefore(pT(e2, t2 + "-start"), i2) };
      }, vT = (e2, t2, n2) => {
        dT(e2, e2.get(t2.prefix + "-end"), n2), dT(e2, e2.get(t2.prefix + "-start"), n2);
      }, yT = (e2) => 0 === e2.start.length, CT = (e2, t2, n2, o2) => {
        const r2 = t2.start;
        var s2;
        return US(e2, o2.container, o2.offset, (s2 = r2, (e3, t3) => {
          const n3 = e3.data.substring(0, t3), o3 = n3.lastIndexOf(s2.charAt(s2.length - 1)), r3 = n3.lastIndexOf(s2);
          return -1 !== r3 ? r3 + s2.length : -1 !== o3 ? o3 + 1 : -1;
        }), n2).bind((o3) => {
          var s3, a2;
          const i2 = null !== (a2 = null === (s3 = n2.textContent) || void 0 === s3 ? void 0 : s3.indexOf(r2)) && void 0 !== a2 ? a2 : -1;
          if (-1 !== i2 && o3.offset >= i2 + r2.length) {
            const t3 = e2.createRng();
            return t3.setStart(o3.container, o3.offset - r2.length), t3.setEnd(o3.container, o3.offset), I.some(t3);
          }
          {
            const s4 = o3.offset - r2.length;
            return IS(o3.container, s4, n2).map((t3) => {
              const n3 = e2.createRng();
              return n3.setStart(t3.container, t3.offset), n3.setEnd(o3.container, o3.offset), n3;
            }).filter((e3) => e3.toString() === r2).orThunk(() => CT(e2, t2, n2, PS(o3.container, 0)));
          }
        });
      }, wT = (e2, t2, n2, o2) => {
        const r2 = e2.dom, s2 = r2.getRoot(), a2 = n2.pattern, i2 = n2.position.container, l2 = n2.position.offset;
        return IS(i2, l2 - n2.pattern.end.length, t2).bind((d2) => {
          const c2 = aT(r2, s2, d2.container, d2.offset, i2, l2, o2);
          if (yT(a2)) return I.some({ matches: [{ pattern: a2, startRng: c2, endRng: c2 }], position: d2 });
          {
            const i3 = xT(e2, n2.remainingPatterns, d2.container, d2.offset, t2, o2), l3 = i3.getOr({ matches: [], position: d2 }), u2 = l3.position, m2 = ((e3, t3, n3, o3, r3, s3 = false) => {
              if (0 === t3.start.length && !s3) {
                const t4 = e3.createRng();
                return t4.setStart(n3, o3), t4.setEnd(n3, o3), I.some(t4);
              }
              return MS(n3, o3, r3).bind((n4) => CT(e3, t3, r3, n4).bind((e4) => {
                var t4;
                if (s3) {
                  if (e4.endContainer === n4.container && e4.endOffset === n4.offset) return I.none();
                  if (0 === n4.offset && (null === (t4 = e4.endContainer.textContent) || void 0 === t4 ? void 0 : t4.length) === e4.endOffset) return I.none();
                }
                return I.some(e4);
              }));
            })(r2, a2, u2.container, u2.offset, t2, i3.isNone());
            return m2.map((e3) => {
              const t3 = ((e4, t4, n3, o3 = false) => aT(e4, t4, n3.startContainer, n3.startOffset, n3.endContainer, n3.endOffset, o3))(r2, s2, e3, o2);
              return { matches: l3.matches.concat([{ pattern: a2, startRng: t3, endRng: c2 }]), position: PS(e3.startContainer, e3.startOffset) };
            });
          }
        });
      }, xT = (e2, t2, n2, o2, r2, s2) => {
        const a2 = e2.dom;
        return MS(n2, o2, a2.getRoot()).bind((i2) => {
          const l2 = fT(a2, r2, n2, o2);
          for (let a3 = 0; a3 < t2.length; a3++) {
            const d2 = t2[a3];
            if (!$e(l2, d2.end)) continue;
            const c2 = t2.slice();
            c2.splice(a3, 1);
            const u2 = wT(e2, r2, { pattern: d2, remainingPatterns: c2, position: i2 }, s2);
            if (u2.isNone() && o2 > 0) return xT(e2, t2, n2, o2 - 1, r2, s2);
            if (u2.isSome()) return u2;
          }
          return I.none();
        });
      }, ET = (e2, t2, n2) => {
        e2.selection.setRng(n2), "inline-format" === t2.type ? V(t2.format, (t3) => {
          e2.formatter.apply(t3);
        }) : e2.execCommand(t2.cmd, false, t2.value);
      }, _T = (e2, t2, n2, o2, r2, s2) => {
        var a2;
        return ((e3, t3) => {
          const n3 = ne(e3, (e4) => $(t3, (t4) => e4.pattern.start === t4.pattern.start && e4.pattern.end === t4.pattern.end));
          return e3.length === t3.length ? n3 ? e3 : t3 : e3.length > t3.length ? e3 : t3;
        })(xT(e2, r2.inlinePatterns, n2, o2, t2, s2).fold(() => [], (e3) => e3.matches), xT(e2, (a2 = r2.inlinePatterns, ae(a2, (e3, t3) => t3.end.length - e3.end.length)), n2, o2, t2, s2).fold(() => [], (e3) => e3.matches));
      }, ST = (e2, t2) => {
        if (0 === t2.length) return;
        const n2 = e2.dom, o2 = e2.selection.getBookmark(), r2 = ((e3, t3) => {
          const n3 = ui("mce_textpattern"), o3 = G(t3, (t4, o4) => {
            const r3 = bT(e3, n3 + `_end${t4.length}`, o4.endRng);
            return t4.concat([{ ...o4, endMarker: r3 }]);
          }, []);
          return G(o3, (t4, r3) => {
            const s2 = o3.length - t4.length - 1, a2 = yT(r3.pattern) ? r3.endMarker : bT(e3, n3 + `_start${s2}`, r3.startRng);
            return t4.concat([{ ...r3, startMarker: a2 }]);
          }, []);
        })(n2, t2);
        V(r2, (t3) => {
          const o3 = n2.getParent(t3.startMarker.start, n2.isBlock), r3 = (e3) => e3 === o3;
          yT(t3.pattern) ? ((e3, t4, n3, o4) => {
            const r4 = hT(e3.dom, n3);
            cT(e3.dom, r4, o4), ET(e3, t4, r4);
          })(e2, t3.pattern, t3.endMarker, r3) : ((e3, t4, n3, o4, r4) => {
            const s2 = e3.dom, a2 = hT(s2, o4), i2 = hT(s2, n3);
            cT(s2, i2, r4), cT(s2, a2, r4);
            const l2 = { prefix: n3.prefix, start: n3.end, end: o4.start }, d2 = hT(s2, l2);
            ET(e3, t4, d2);
          })(e2, t3.pattern, t3.startMarker, t3.endMarker, r3), vT(n2, t3.endMarker, r3), vT(n2, t3.startMarker, r3);
        }), e2.selection.moveToBookmark(o2);
      }, kT = (e2, t2) => {
        const n2 = e2.selection.getRng();
        return uT(e2, n2).map((o2) => {
          var r2;
          const s2 = Math.max(0, n2.startOffset), a2 = mT(t2, o2, null !== (r2 = o2.textContent) && void 0 !== r2 ? r2 : ""), i2 = _T(e2, o2, n2.startContainer, s2, a2, true), l2 = ((e3, t3, n3, o3) => {
            var r3;
            const s3 = e3.dom, a3 = Il(e3);
            if (!s3.is(t3, a3)) return [];
            const i3 = null !== (r3 = t3.textContent) && void 0 !== r3 ? r3 : "";
            return ((e4, t4) => {
              const n4 = ((e5) => ae(e5, (e6, t5) => t5.start.length - e6.start.length))(e4), o4 = t4.replace(br, " ");
              return J(n4, (e5) => 0 === t4.indexOf(e5.start) || 0 === o4.indexOf(e5.start));
            })(n3.blockPatterns, i3).map((e4) => Pt.trim(i3).length === e4.start.length ? [] : [{ pattern: e4, range: aT(s3, s3.getRoot(), t3, 0, t3, 0, true) }]).getOr([]);
          })(e2, o2, a2);
          return (l2.length > 0 || i2.length > 0) && (e2.undoManager.add(), e2.undoManager.extra(() => {
            e2.execCommand("mceInsertNewLine");
          }, () => {
            ((e3) => {
              e3.insertContent(Br, { preserve_zwsp: true });
            })(e2), ST(e2, i2), ((e3, t4) => {
              if (0 === t4.length) return;
              const n4 = e3.selection.getBookmark();
              V(t4, (t5) => ((e4, t6) => {
                const n5 = e4.dom, o3 = t6.pattern, r3 = lT(n5.getRoot(), t6.range).getOrDie("Unable to resolve path range");
                return uT(e4, r3).each((t7) => {
                  "block-format" === o3.type ? ((e5, t8) => {
                    const n6 = t8.get(e5);
                    return p(n6) && le(n6).exists((e6) => Ee(e6, "block"));
                  })(o3.format, e4.formatter) && e4.undoManager.transact(() => {
                    gT(e4.dom, t7, o3), e4.formatter.apply(o3.format);
                  }) : "block-command" === o3.type && e4.undoManager.transact(() => {
                    gT(e4.dom, t7, o3), e4.execCommand(o3.cmd, false, o3.value);
                  });
                }), true;
              })(e3, t5)), e3.selection.moveToBookmark(n4);
            })(e2, l2);
            const t3 = e2.selection.getRng(), n3 = MS(t3.startContainer, t3.startOffset, e2.dom.getRoot());
            e2.execCommand("mceInsertNewLine"), n3.each((t4) => {
              const n4 = t4.container;
              n4.data.charAt(t4.offset - 1) === hr && (n4.deleteData(t4.offset - 1, 1), dT(e2.dom, n4.parentNode, (t5) => t5 === e2.dom.getRoot()));
            });
          }), true);
        }).getOr(false);
      }, NT = (e2, t2, n2) => {
        for (let o2 = 0; o2 < e2.length; o2++) if (n2(e2[o2], t2)) return true;
        return false;
      }, RT = (e2) => {
        const t2 = Pt.each, n2 = af.BACKSPACE, o2 = af.DELETE, r2 = e2.dom, s2 = e2.selection, a2 = e2.parser, i2 = At.browser, l2 = i2.isFirefox(), d2 = i2.isChromium() || i2.isSafari(), c2 = At.deviceType.isiPhone() || At.deviceType.isiPad(), u2 = At.os.isMacOS() || At.os.isiOS(), f2 = (t3, n3) => {
          try {
            e2.getDoc().execCommand(t3, false, String(n3));
          } catch (e3) {
          }
        }, g2 = (e3) => e3.isDefaultPrevented(), p2 = () => {
          e2.shortcuts.add("meta+a", null, "SelectAll");
        }, h2 = () => {
          e2.inline || r2.bind(e2.getDoc(), "mousedown mouseup", (t3) => {
            let n3;
            if (t3.target === e2.getDoc().documentElement) if (n3 = s2.getRng(), e2.getBody().focus(), "mousedown" === t3.type) {
              if (Ur(n3.startContainer)) return;
              s2.placeCaretAt(t3.clientX, t3.clientY);
            } else s2.setRng(n3);
          });
        }, b2 = () => {
          Range.prototype.getClientRects || e2.on("mousedown", (t3) => {
            if (!g2(t3) && "HTML" === t3.target.nodeName) {
              const t4 = e2.getBody();
              t4.blur(), vg.setEditorTimeout(e2, () => {
                t4.focus();
              });
            }
          });
        }, v2 = () => {
          const t3 = zd(e2);
          e2.on("click", (n3) => {
            const o3 = n3.target;
            /^(IMG|HR)$/.test(o3.nodeName) && r2.isEditable(o3) && (n3.preventDefault(), e2.selection.select(o3), e2.nodeChanged()), "A" === o3.nodeName && r2.hasClass(o3, t3) && 0 === o3.childNodes.length && r2.isEditable(o3.parentNode) && (n3.preventDefault(), s2.select(o3));
          });
        }, y2 = () => {
          e2.on("keydown", (e3) => {
            if (!g2(e3) && e3.keyCode === n2 && s2.isCollapsed() && 0 === s2.getRng().startOffset) {
              const t3 = s2.getNode().previousSibling;
              if (t3 && t3.nodeName && "table" === t3.nodeName.toLowerCase()) return e3.preventDefault(), false;
            }
            return true;
          });
        }, C2 = () => {
          Bd(e2) || e2.on("BeforeExecCommand mousedown", () => {
            f2("StyleWithCSS", false), f2("enableInlineTableEditing", false), cd(e2) || f2("enableObjectResizing", false);
          });
        }, w2 = () => {
          e2.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}");
        }, x2 = () => {
          e2.inline || e2.on("keydown", () => {
            document.activeElement === document.body && e2.getWin().focus();
          });
        }, E2 = () => {
          e2.inline || (e2.contentStyles.push("body {min-height: 150px}"), e2.on("click", (t3) => {
            let n3;
            "HTML" === t3.target.nodeName && (n3 = e2.selection.getRng(), e2.getBody().focus(), e2.selection.setRng(n3), e2.selection.normalize(), e2.nodeChanged());
          }));
        }, S2 = () => {
          u2 && e2.on("keydown", (t3) => {
            !af.metaKeyPressed(t3) || t3.shiftKey || 37 !== t3.keyCode && 39 !== t3.keyCode || (t3.preventDefault(), e2.selection.getSel().modify("move", 37 === t3.keyCode ? "backward" : "forward", "lineboundary"));
          });
        }, k2 = () => {
          e2.on("click", (e3) => {
            let t3 = e3.target;
            do {
              if ("A" === t3.tagName) return void e3.preventDefault();
            } while (t3 = t3.parentNode);
          }), e2.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}");
        }, N2 = () => {
          e2.on("init", () => {
            e2.dom.bind(e2.getBody(), "submit", (e3) => {
              e3.preventDefault();
            });
          });
        }, R2 = _;
        return ZC(e2) ? (d2 && (h2(), v2(), N2(), p2(), c2 && (x2(), E2(), k2())), l2 && (b2(), C2(), w2(), S2())) : (e2.on("keydown", (t3) => {
          if (g2(t3) || t3.keyCode !== af.BACKSPACE) return;
          let n3 = s2.getRng();
          const o3 = n3.startContainer, a3 = n3.startOffset, i3 = r2.getRoot();
          let l3 = o3;
          if (n3.collapsed && 0 === a3) {
            for (; l3.parentNode && l3.parentNode.firstChild === l3 && l3.parentNode !== i3; ) l3 = l3.parentNode;
            "BLOCKQUOTE" === l3.nodeName && (e2.formatter.toggle("blockquote", void 0, l3), n3 = r2.createRng(), n3.setStart(o3, 0), n3.setEnd(o3, 0), s2.setRng(n3));
          }
        }), (() => {
          const t3 = (e3) => {
            const t4 = r2.create("body"), n3 = e3.cloneContents();
            return t4.appendChild(n3), s2.serializer.serialize(t4, { format: "html" });
          };
          e2.on("keydown", (s3) => {
            const a3 = s3.keyCode;
            if (!g2(s3) && (a3 === o2 || a3 === n2) && e2.selection.isEditable()) {
              const n3 = e2.selection.isCollapsed(), o3 = e2.getBody();
              if (n3 && !gs(yn(o3))) return;
              if (!n3 && !((n4) => {
                const o4 = t3(n4), s4 = r2.createRng();
                return s4.selectNode(e2.getBody()), o4 === t3(s4);
              })(e2.selection.getRng())) return;
              s3.preventDefault(), e2.setContent(""), o3.firstChild && r2.isBlock(o3.firstChild) ? e2.selection.setCursorLocation(o3.firstChild, 0) : e2.selection.setCursorLocation(o3, 0), e2.nodeChanged();
            }
          });
        })(), At.windowsPhone || e2.on("keyup focusin mouseup", (t3) => {
          af.modifierPressed(t3) || ((e3) => {
            const t4 = e3.getBody(), n3 = e3.selection.getRng();
            return n3.startContainer === n3.endContainer && n3.startContainer === t4 && 0 === n3.startOffset && n3.endOffset === t4.childNodes.length;
          })(e2) || s2.normalize();
        }, true), d2 && (h2(), v2(), e2.on("init", () => {
          f2("DefaultParagraphSeparator", Il(e2));
        }), N2(), y2(), a2.addNodeFilter("br", (e3) => {
          let t3 = e3.length;
          for (; t3--; ) "Apple-interchange-newline" === e3[t3].attr("class") && e3[t3].remove();
        }), c2 ? (x2(), E2(), k2()) : p2()), l2 && (e2.on("keydown", (t3) => {
          if (!g2(t3) && t3.keyCode === n2) {
            if (!e2.getBody().getElementsByTagName("hr").length) return;
            if (s2.isCollapsed() && 0 === s2.getRng().startOffset) {
              const e3 = s2.getNode(), n3 = e3.previousSibling;
              if ("HR" === e3.nodeName) return r2.remove(e3), void t3.preventDefault();
              n3 && n3.nodeName && "hr" === n3.nodeName.toLowerCase() && (r2.remove(n3), t3.preventDefault());
            }
          }
        }), b2(), (() => {
          const n3 = () => {
            const n4 = r2.getAttribs(s2.getStart().cloneNode(false));
            return () => {
              const o4 = s2.getStart();
              o4 !== e2.getBody() && (r2.setAttrib(o4, "style", null), t2(n4, (e3) => {
                o4.setAttributeNode(e3.cloneNode(true));
              }));
            };
          }, o3 = () => !s2.isCollapsed() && r2.getParent(s2.getStart(), r2.isBlock) !== r2.getParent(s2.getEnd(), r2.isBlock);
          e2.on("keypress", (t3) => {
            let r3;
            return !(!(g2(t3) || 8 !== t3.keyCode && 46 !== t3.keyCode) && o3() && (r3 = n3(), e2.getDoc().execCommand("delete", false), r3(), t3.preventDefault(), 1));
          }), r2.bind(e2.getDoc(), "cut", (t3) => {
            if (!g2(t3) && o3()) {
              const t4 = n3();
              vg.setEditorTimeout(e2, () => {
                t4();
              });
            }
          });
        })(), C2(), e2.on("SetContent ExecCommand", (e3) => {
          "setcontent" !== e3.type && "mceInsertLink" !== e3.command || t2(r2.select("a:not([data-mce-block])"), (e4) => {
            var t3;
            let n3 = e4.parentNode;
            const o3 = r2.getRoot();
            if ((null == n3 ? void 0 : n3.lastChild) === e4) {
              for (; n3 && !r2.isBlock(n3); ) {
                if ((null === (t3 = n3.parentNode) || void 0 === t3 ? void 0 : t3.lastChild) !== n3 || n3 === o3) return;
                n3 = n3.parentNode;
              }
              r2.add(n3, "br", { "data-mce-bogus": 1 });
            }
          });
        }), w2(), S2(), y2(), e2.on("drop", (t3) => {
          var n3;
          const o3 = null === (n3 = t3.dataTransfer) || void 0 === n3 ? void 0 : n3.getData("text/html");
          m(o3) && /^<img[^>]*>$/.test(o3) && e2.dispatch("dragend", new window.DragEvent("dragend", t3));
        }))), { refreshContentEditable: R2, isHidden: () => {
          if (!l2 || e2.removed) return false;
          const t3 = e2.selection.getSel();
          return !t3 || !t3.rangeCount || 0 === t3.rangeCount;
        } };
      }, AT = za.DOM, TT = (e2) => e2.inline ? e2.getElement().nodeName.toLowerCase() : void 0, OT = (e2) => ye(e2, (e3) => false === v(e3)), BT = (e2) => {
        const t2 = e2.options.get, n2 = e2.editorUpload.blobCache;
        return OT({ allow_conditional_comments: t2("allow_conditional_comments"), allow_html_data_urls: t2("allow_html_data_urls"), allow_svg_data_urls: t2("allow_svg_data_urls"), allow_html_in_named_anchor: t2("allow_html_in_named_anchor"), allow_script_urls: t2("allow_script_urls"), allow_unsafe_link_target: t2("allow_unsafe_link_target"), convert_unsafe_embeds: t2("convert_unsafe_embeds"), convert_fonts_to_spans: t2("convert_fonts_to_spans"), fix_list_elements: t2("fix_list_elements"), font_size_legacy_values: t2("font_size_legacy_values"), forced_root_block: t2("forced_root_block"), forced_root_block_attrs: t2("forced_root_block_attrs"), preserve_cdata: t2("preserve_cdata"), inline_styles: t2("inline_styles"), root_name: TT(e2), sandbox_iframes: t2("sandbox_iframes"), sanitize: t2("xss_sanitization"), validate: true, blob_cache: n2, document: e2.getDoc() });
      }, PT = (e2) => {
        const t2 = e2.options.get;
        return OT({ custom_elements: t2("custom_elements"), extended_valid_elements: t2("extended_valid_elements"), invalid_elements: t2("invalid_elements"), invalid_styles: t2("invalid_styles"), schema: t2("schema"), valid_children: t2("valid_children"), valid_classes: t2("valid_classes"), valid_elements: t2("valid_elements"), valid_styles: t2("valid_styles"), verify_html: t2("verify_html"), padd_empty_block_inline_children: t2("format_empty_lines") });
      }, DT = (e2) => e2.inline ? e2.ui.styleSheetLoader : e2.dom.styleSheetLoader, LT = (e2) => {
        const t2 = DT(e2), n2 = id(e2), o2 = e2.contentCSS, r2 = () => {
          t2.unloadAll(o2), e2.inline || e2.ui.styleSheetLoader.unloadAll(n2);
        }, s2 = () => {
          e2.removed ? r2() : e2.on("remove", r2);
        };
        if (e2.contentStyles.length > 0) {
          let t3 = "";
          Pt.each(e2.contentStyles, (e3) => {
            t3 += e3 + "\r\n";
          }), e2.dom.addStyle(t3);
        }
        const a2 = Promise.all(((e3, t3, n3) => {
          const { pass: o3, fail: r3 } = K(t3, (e4) => tinymce.Resource.has(Hw(e4))), s3 = o3.map((t4) => {
            const n4 = tinymce.Resource.get(Hw(t4));
            return m(n4) ? Promise.resolve(DT(e3).loadRawCss(t4, n4)) : Promise.resolve();
          }), a3 = [...s3, DT(e3).loadAll(r3)];
          return e3.inline ? a3 : a3.concat([e3.ui.styleSheetLoader.loadAll(n3)]);
        })(e2, o2, n2)).then(s2).catch(s2), i2 = ad(e2);
        return i2 && ((e3, t3) => {
          const n3 = yn(e3.getBody()), o3 = Vn(qn(n3)), r3 = bn("style");
          Jt(r3, "type", "text/css"), vo(r3, vn(t3)), vo(o3, r3), e3.on("remove", () => {
            xo(r3);
          });
        })(e2, i2), a2;
      }, MT = (e2) => {
        true !== e2.removed && (((e3) => {
          ZC(e3) || e3.load({ initial: true, format: "html" }), e3.startContent = e3.getContent({ format: "raw" });
        })(e2), ((e3) => {
          e3.bindPendingEventDelegates(), e3.initialized = true, ((e4) => {
            e4.dispatch("Init");
          })(e3), e3.focus(true), ((e4) => {
            const t3 = e4.dom.getRoot();
            e4.inline || am(e4) && e4.selection.getStart(true) !== t3 || Ou(t3).each((t4) => {
              const n2 = t4.getNode(), o2 = Qo(n2) ? Ou(n2).getOr(t4) : t4;
              e4.selection.setRng(o2.toRange());
            });
          })(e3), e3.nodeChanged({ initial: true });
          const t2 = $d(e3);
          w(t2) && t2.call(e3, e3), ((e4) => {
            const t3 = Vd(e4);
            t3 && vg.setEditorTimeout(e4, () => {
              let n2;
              n2 = true === t3 ? e4 : e4.editorManager.get(t3), n2 && !n2.destroyed && (n2.focus(), n2.selection.scrollIntoView());
            }, 100);
          })(e3);
        })(e2));
      }, IT = (e2) => {
        const t2 = e2.getElement();
        let n2 = e2.getDoc();
        e2.inline && (AT.addClass(t2, "mce-content-body"), e2.contentDocument = n2 = document, e2.contentWindow = window, e2.bodyElement = t2, e2.contentAreaContainer = t2);
        const o2 = e2.getBody();
        o2.disabled = true, e2.readonly = Bd(e2), e2._editableRoot = Pd(e2), !e2.readonly && e2.hasEditableRoot() && (e2.inline && "static" === AT.getStyle(o2, "position", true) && (o2.style.position = "relative"), o2.contentEditable = "true"), o2.disabled = false, e2.editorUpload = Xw(e2), e2.schema = ua(PT(e2)), e2.dom = za(n2, { keep_values: true, url_converter: e2.convertURL, url_converter_scope: e2, update_styles: true, root_element: e2.inline ? e2.getBody() : null, collect: e2.inline, schema: e2.schema, contentCssCors: Zl(e2), referrerPolicy: ed(e2), onSetAttrib: (t3) => {
          e2.dispatch("SetAttrib", t3);
        }, force_hex_color: yc(e2) }), e2.parser = ((e3) => {
          const t3 = CC(BT(e3), e3.schema);
          return t3.addAttributeFilter("src,href,style,tabindex", (t4, n3) => {
            const o3 = e3.dom, r3 = "data-mce-" + n3;
            let s3 = t4.length;
            for (; s3--; ) {
              const a2 = t4[s3];
              let i2 = a2.attr(n3);
              if (i2 && !a2.attr(r3)) {
                if (0 === i2.indexOf("data:") || 0 === i2.indexOf("blob:")) continue;
                "style" === n3 ? (i2 = o3.serializeStyle(o3.parseStyle(i2), a2.name), i2.length || (i2 = null), a2.attr(r3, i2), a2.attr(n3, i2)) : "tabindex" === n3 ? (a2.attr(r3, i2), a2.attr(n3, null)) : a2.attr(r3, e3.convertURL(i2, n3, a2.name));
              }
            }
          }), t3.addNodeFilter("script", (e4) => {
            let t4 = e4.length;
            for (; t4--; ) {
              const n3 = e4[t4], o3 = n3.attr("type") || "no/type";
              0 !== o3.indexOf("mce-") && n3.attr("type", "mce-" + o3);
            }
          }), uc(e3) && t3.addNodeFilter("#cdata", (t4) => {
            var n3;
            let o3 = t4.length;
            for (; o3--; ) {
              const r3 = t4[o3];
              r3.type = 8, r3.name = "#comment", r3.value = "[CDATA[" + e3.dom.encode(null !== (n3 = r3.value) && void 0 !== n3 ? n3 : "") + "]]";
            }
          }), t3.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", (t4) => {
            let n3 = t4.length;
            const o3 = e3.schema.getNonEmptyElements();
            for (; n3--; ) {
              const e4 = t4[n3];
              e4.isEmpty(o3) && 0 === e4.getAll("br").length && e4.append(new Wg("br", 1));
            }
          }), t3;
        })(e2), e2.serializer = cw(((e3) => {
          const t3 = e3.options.get;
          return { ...BT(e3), ...PT(e3), ...OT({ remove_trailing_brs: t3("remove_trailing_brs"), pad_empty_with_br: t3("pad_empty_with_br"), url_converter: t3("url_converter"), url_converter_scope: t3("url_converter_scope"), element_format: t3("element_format"), entities: t3("entities"), entity_encoding: t3("entity_encoding"), indent: t3("indent"), indent_after: t3("indent_after"), indent_before: t3("indent_before") }) };
        })(e2), e2), e2.selection = iw(e2.dom, e2.getWin(), e2.serializer, e2), e2.annotator = Qm(e2), e2.formatter = ix(e2), e2.undoManager = dx(e2), e2._nodeChangeDispatcher = new CR(e2), e2._selectionOverrides = oT(e2), ((e3) => {
          const t3 = Xa(), n3 = $a(false), o3 = Ja((t4) => {
            e3.dispatch("longpress", { ...t4, type: "longpress" }), n3.set(true);
          }, 400);
          e3.on("touchstart", (e4) => {
            M_(e4).each((r3) => {
              o3.cancel();
              const s3 = { x: r3.clientX, y: r3.clientY, target: e4.target };
              o3.throttle(e4), n3.set(false), t3.set(s3);
            });
          }, true), e3.on("touchmove", (r3) => {
            o3.cancel(), M_(r3).each((o4) => {
              t3.on((r4) => {
                ((e4, t4) => {
                  const n4 = Math.abs(e4.clientX - t4.x), o5 = Math.abs(e4.clientY - t4.y);
                  return n4 > 5 || o5 > 5;
                })(o4, r4) && (t3.clear(), n3.set(false), e3.dispatch("longpresscancel"));
              });
            });
          }, true), e3.on("touchend touchcancel", (r3) => {
            o3.cancel(), "touchcancel" !== r3.type && t3.get().filter((e4) => e4.target.isEqualNode(r3.target)).each(() => {
              n3.get() ? r3.preventDefault() : e3.dispatch("tap", { ...r3, type: "tap" });
            });
          }, true);
        })(e2), ((e3) => {
          ((e4) => {
            e4.on("click", (t3) => {
              e4.dom.getParent(t3.target, "details") && t3.preventDefault();
            });
          })(e3), ((e4) => {
            e4.parser.addNodeFilter("details", (t3) => {
              const n3 = bc(e4);
              V(t3, (e5) => {
                "expanded" === n3 ? e5.attr("open", "open") : "collapsed" === n3 && e5.attr("open", null);
              });
            }), e4.serializer.addNodeFilter("details", (t3) => {
              const n3 = vc(e4);
              V(t3, (e5) => {
                "expanded" === n3 ? e5.attr("open", "open") : "collapsed" === n3 && e5.attr("open", null);
              });
            });
          })(e3);
        })(e2), ((e3) => {
          const t3 = "contenteditable", n3 = " " + Pt.trim(dc(e3)) + " ", o3 = " " + Pt.trim(lc(e3)) + " ", r3 = $_(n3), s3 = $_(o3), a2 = cc(e3);
          a2.length > 0 && e3.on("BeforeSetContent", (t4) => {
            ((e4, t5, n4) => {
              let o4 = t5.length, r4 = n4.content;
              if ("raw" !== n4.format) {
                for (; o4--; ) r4 = r4.replace(t5[o4], q_(e4, r4, lc(e4)));
                n4.content = r4;
              }
            })(e3, a2, t4);
          }), e3.parser.addAttributeFilter("class", (e4) => {
            let n4 = e4.length;
            for (; n4--; ) {
              const o4 = e4[n4];
              r3(o4) ? o4.attr(t3, "true") : s3(o4) && o4.attr(t3, "false");
            }
          }), e3.serializer.addAttributeFilter(t3, (e4) => {
            let n4 = e4.length;
            for (; n4--; ) {
              const o4 = e4[n4];
              if (!r3(o4) && !s3(o4)) continue;
              const i2 = o4.attr("data-mce-content");
              a2.length > 0 && i2 ? V_(a2, i2) ? (o4.name = "#text", o4.type = 3, o4.raw = true, o4.value = i2) : o4.remove() : o4.attr(t3, null);
            }
          });
        })(e2), ZC(e2) || (((e3) => {
          e3.on("mousedown", (t3) => {
            t3.detail >= 3 && (t3.preventDefault(), TA(e3));
          });
        })(e2), ((e3) => {
          ((e4) => {
            const t3 = [",", ".", ";", ":", "!", "?"], n3 = [32], o3 = () => {
              return t4 = ac(e4), n4 = ic(e4), { inlinePatterns: wl(t4), blockPatterns: Cl(t4), dynamicPatternsLookup: n4 };
              var t4, n4;
            }, r3 = () => ((e5) => e5.options.isSet("text_patterns_lookup"))(e4);
            e4.on("keydown", (t4) => {
              if (13 === t4.keyCode && !af.modifierPressed(t4) && e4.selection.isCollapsed()) {
                const n4 = o3();
                (n4.inlinePatterns.length > 0 || n4.blockPatterns.length > 0 || r3()) && kT(e4, n4) && t4.preventDefault();
              }
            }, true);
            const s3 = () => {
              if (e4.selection.isCollapsed()) {
                const t4 = o3();
                (t4.inlinePatterns.length > 0 || r3()) && ((e5, t5) => {
                  const n4 = e5.selection.getRng();
                  uT(e5, n4).map((o4) => {
                    const r4 = Math.max(0, n4.startOffset - 1), s4 = fT(e5.dom, o4, n4.startContainer, r4), a2 = mT(t5, o4, s4), i2 = _T(e5, o4, n4.startContainer, r4, a2, false);
                    i2.length > 0 && e5.undoManager.transact(() => {
                      ST(e5, i2);
                    });
                  });
                })(e4, t4);
              }
            };
            e4.on("keyup", (e5) => {
              NT(n3, e5, (e6, t4) => e6 === t4.keyCode && !af.modifierPressed(t4)) && s3();
            }), e4.on("keypress", (n4) => {
              NT(t3, n4, (e5, t4) => e5.charCodeAt(0) === t4.charCode) && vg.setEditorTimeout(e4, s3);
            });
          })(e3);
        })(e2));
        const r2 = yR(e2);
        L_(e2, r2), ((e3) => {
          e3.on("NodeChange", T(j_, e3));
        })(e2), ((e3) => {
          var t3;
          const n3 = e3.dom, o3 = Il(e3), r3 = null !== (t3 = md(e3)) && void 0 !== t3 ? t3 : "", s3 = (t4, a2) => {
            if (((e4) => {
              if (mx(e4)) {
                const t5 = e4.keyCode;
                return !fx(e4) && (af.metaKeyPressed(e4) || e4.altKey || t5 >= 112 && t5 <= 123 || H(cx, t5));
              }
              return false;
            })(t4)) return;
            const i2 = e3.getBody(), l2 = !((e4) => mx(e4) && !(fx(e4) || "keyup" === e4.type && 229 === e4.keyCode))(t4) && ((e4, t5, n4) => {
              if (gs(yn(t5), false)) {
                const o4 = t5.firstElementChild;
                return !o4 || !e4.getStyle(t5.firstElementChild, "padding-left") && !e4.getStyle(t5.firstElementChild, "padding-right") && n4 === o4.nodeName.toLowerCase();
              }
              return false;
            })(n3, i2, o3);
            ("" !== n3.getAttrib(i2, ux) !== l2 || a2) && (n3.setAttrib(i2, ux, l2 ? r3 : null), n3.setAttrib(i2, "aria-placeholder", l2 ? r3 : null), ((e4, t5) => {
              e4.dispatch("PlaceholderToggle", { state: t5 });
            })(e3, l2), e3.on(l2 ? "keydown" : "keyup", s3), e3.off(l2 ? "keyup" : "keydown", s3));
          };
          Ye(r3) && e3.on("init", (t4) => {
            s3(t4, true), e3.on("change SetContent ExecCommand", s3), e3.on("paste", (t5) => vg.setEditorTimeout(e3, () => s3(t5)));
          });
        })(e2), EA(e2);
        const s2 = ((e3) => {
          const t3 = e3;
          return ((e4) => xe(e4.plugins, "rtc").bind((e5) => I.from(e5.setup)))(e3).fold(() => (t3.rtcInstance = JC(e3), I.none()), (e4) => (t3.rtcInstance = (() => {
            const e5 = N(null), t4 = N("");
            return { init: { bindEvents: _ }, undoManager: { beforeChange: _, add: e5, undo: e5, redo: e5, clear: _, reset: _, hasUndo: L, hasRedo: L, transact: e5, ignore: _, extra: _ }, formatter: { match: L, matchAll: N([]), matchNode: N(void 0), canApply: L, closest: t4, apply: _, remove: _, toggle: _, formatChanged: N({ unbind: _ }) }, editor: { getContent: t4, setContent: N({ content: "", html: "" }), insertContent: N(""), addVisual: _ }, selection: { getContent: t4 }, autocompleter: { addDecoration: _, removeDecoration: _ }, raw: { getModel: N(I.none()) } };
          })(), I.some(() => e4().then((e5) => (t3.rtcInstance = ((e6) => {
            const t4 = (e7) => f(e7) ? e7 : {}, { init: n3, undoManager: o3, formatter: r3, editor: s3, selection: a2, autocompleter: i2, raw: l2 } = e6;
            return { init: { bindEvents: n3.bindEvents }, undoManager: { beforeChange: o3.beforeChange, add: o3.add, undo: o3.undo, redo: o3.redo, clear: o3.clear, reset: o3.reset, hasUndo: o3.hasUndo, hasRedo: o3.hasRedo, transact: (e7, t5, n4) => o3.transact(n4), ignore: (e7, t5) => o3.ignore(t5), extra: (e7, t5, n4, r4) => o3.extra(n4, r4) }, formatter: { match: (e7, n4, o4, s4) => r3.match(e7, t4(n4), s4), matchAll: r3.matchAll, matchNode: r3.matchNode, canApply: (e7) => r3.canApply(e7), closest: (e7) => r3.closest(e7), apply: (e7, n4, o4) => r3.apply(e7, t4(n4)), remove: (e7, n4, o4, s4) => r3.remove(e7, t4(n4)), toggle: (e7, n4, o4) => r3.toggle(e7, t4(n4)), formatChanged: (e7, t5, n4, o4, s4) => r3.formatChanged(t5, n4, o4, s4) }, editor: { getContent: (e7) => s3.getContent(e7), setContent: (e7, t5) => ({ content: s3.setContent(e7, t5), html: "" }), insertContent: (e7, t5) => (s3.insertContent(e7), ""), addVisual: s3.addVisual }, selection: { getContent: (e7, t5) => a2.getContent(t5) }, autocompleter: { addDecoration: i2.addDecoration, removeDecoration: i2.removeDecoration }, raw: { getModel: () => I.some(l2.getRawModel()) } };
          })(e5), e5.rtc.isRemote)))));
        })(e2);
        ((e3) => {
          const t3 = e3.getDoc(), n3 = e3.getBody();
          ((e4) => {
            e4.dispatch("PreInit");
          })(e3), Wd(e3) || (t3.body.spellcheck = false, AT.setAttrib(n3, "spellcheck", "false")), e3.quirks = RT(e3), ((e4) => {
            e4.dispatch("PostRender");
          })(e3);
          const o3 = ld(e3);
          void 0 !== o3 && (n3.dir = o3);
          const r3 = Kd(e3);
          r3 && e3.on("BeforeSetContent", (e4) => {
            Pt.each(r3, (t4) => {
              e4.content = e4.content.replace(t4, (e5) => "<!--mce:protected " + escape(e5) + "-->");
            });
          }), e3.on("SetContent", () => {
            e3.addVisual(e3.getBody());
          }), e3.on("compositionstart compositionend", (t4) => {
            e3.composing = "compositionstart" === t4.type;
          });
        })(e2), s2.fold(() => {
          const t3 = ((e3) => {
            let t4 = false;
            const n3 = setTimeout(() => {
              t4 || e3.setProgressState(true);
            }, 500);
            return () => {
              clearTimeout(n3), t4 = true, e3.setProgressState(false);
            };
          })(e2);
          LT(e2).then(() => {
            MT(e2), t3();
          });
        }, (t3) => {
          e2.setProgressState(true), LT(e2).then(() => {
            t3().then((t4) => {
              e2.setProgressState(false), MT(e2), nw(e2);
            }, (t4) => {
              e2.notificationManager.open({ type: "error", text: String(t4) }), MT(e2), nw(e2);
            });
          });
        });
      }, FT = M, UT = za.DOM, zT = za.DOM, jT = (e2, t2) => ({ editorContainer: e2, iframeContainer: t2, api: {} }), HT = (e2) => {
        const t2 = e2.getElement();
        return e2.inline ? jT(null) : ((e3) => {
          const t3 = zT.create("div");
          return zT.insertAfter(t3, e3), jT(t3, t3);
        })(t2);
      }, $T = async (e2) => {
        e2.dispatch("ScriptsLoaded"), ((e3) => {
          const t3 = Pt.trim(Kl(e3)), n2 = e3.ui.registry.getAll().icons, o2 = { ...Sw.get("default").icons, ...Sw.get(t3).icons };
          ge(o2, (t4, o3) => {
            Ee(n2, o3) || e3.ui.registry.addIcon(o3, t4);
          });
        })(e2), ((e3) => {
          const t3 = pd(e3);
          if (m(t3)) {
            const n2 = Lw.get(t3);
            e3.theme = n2(e3, Lw.urls[t3]) || {}, w(e3.theme.init) && e3.theme.init(e3, Lw.urls[t3] || e3.documentBaseUrl.replace(/\/$/, ""));
          } else e3.theme = {};
        })(e2), ((e3) => {
          const t3 = bd(e3), n2 = kw.get(t3);
          e3.model = n2(e3, kw.urls[t3]);
        })(e2), ((e3) => {
          const t3 = [];
          V(Ld(e3), (n2) => {
            ((e4, t4, n3) => {
              const o2 = Dw.get(n3), r2 = Dw.urls[n3] || e4.documentBaseUrl.replace(/\/$/, "");
              if (n3 = Pt.trim(n3), o2 && -1 === Pt.inArray(t4, n3)) {
                if (e4.plugins[n3]) return;
                try {
                  const s2 = o2(e4, r2) || {};
                  e4.plugins[n3] = s2, w(s2.init) && (s2.init(e4, r2), t4.push(n3));
                } catch (t5) {
                  ((e5, t6, n4) => {
                    const o3 = Ka.translate(["Failed to initialize plugin: {0}", t6]);
                    ef(e5, "PluginLoadError", { message: o3 }), jw(o3, n4), Fw(e5, o3);
                  })(e4, n3, t5);
                }
              }
            })(e3, t3, ((e4) => e4.replace(/^\-/, ""))(n2));
          });
        })(e2);
        const t2 = await ((e3) => {
          const t3 = e3.getElement();
          return e3.orgDisplay = t3.style.display, m(pd(e3)) ? ((e4) => {
            const t4 = e4.theme.renderUI;
            return t4 ? t4() : HT(e4);
          })(e3) : w(pd(e3)) ? ((e4) => {
            const t4 = e4.getElement(), n2 = pd(e4)(e4, t4);
            return n2.editorContainer.nodeType && (n2.editorContainer.id = n2.editorContainer.id || e4.id + "_parent"), n2.iframeContainer && n2.iframeContainer.nodeType && (n2.iframeContainer.id = n2.iframeContainer.id || e4.id + "_iframecontainer"), n2.height = n2.iframeHeight ? n2.iframeHeight : t4.offsetHeight, n2;
          })(e3) : HT(e3);
        })(e2);
        ((e3, t3) => {
          const n2 = { show: I.from(t3.show).getOr(_), hide: I.from(t3.hide).getOr(_), isEnabled: I.from(t3.isEnabled).getOr(M), setEnabled: (n3) => {
            e3.mode.isReadOnly() || I.from(t3.setEnabled).each((e4) => e4(n3));
          } };
          e3.ui = { ...e3.ui, ...n2 };
        })(e2, I.from(t2.api).getOr({})), e2.editorContainer = t2.editorContainer, ((e3) => {
          e3.contentCSS = e3.contentCSS.concat(((e4) => $w(e4, sd(e4)))(e3), ((e4) => $w(e4, id(e4)))(e3));
        })(e2), e2.inline ? IT(e2) : ((e3, t3) => {
          ((e4, t4) => {
            const n2 = e4.translate("Rich Text Area"), o2 = tn(yn(e4.getElement()), "tabindex").bind(Xe), r2 = ((e5, t5, n3, o3) => {
              const r3 = bn("iframe");
              return o3.each((e6) => Jt(r3, "tabindex", e6)), Zt(r3, n3), Zt(r3, { id: e5 + "_ifr", frameBorder: "0", allowTransparency: "true", title: t5 }), un(r3, "tox-edit-area__iframe"), r3;
            })(e4.id, n2, Tl(e4), o2).dom;
            r2.onload = () => {
              r2.onload = null, e4.dispatch("load");
            }, e4.contentAreaContainer = t4.iframeContainer, e4.iframeElement = r2, e4.iframeHTML = ((e5) => {
              let t5 = Ol(e5) + "<html><head>";
              Bl(e5) !== e5.documentBaseUrl && (t5 += '<base href="' + e5.documentBaseURI.getURI() + '" />'), t5 += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';
              const n3 = Pl(e5), o3 = Dl(e5), r3 = e5.translate(jd(e5));
              return Ll(e5) && (t5 += '<meta http-equiv="Content-Security-Policy" content="' + Ll(e5) + '" />'), t5 += `</head><body id="${n3}" class="mce-content-body ${o3}" data-id="${e5.id}" aria-label="${r3}"><br></body></html>`, t5;
            })(e4), UT.add(t4.iframeContainer, r2);
          })(e3, t3), t3.editorContainer && (t3.editorContainer.style.display = e3.orgDisplay, e3.hidden = UT.isHidden(t3.editorContainer)), e3.getElement().style.display = "none", UT.setAttrib(e3.id, "aria-hidden", "true"), e3.getElement().style.visibility = e3.orgVisibility, ((e4) => {
            const t4 = e4.iframeElement, n2 = () => {
              e4.contentDocument = t4.contentDocument, IT(e4);
            };
            if (gc(e4) || At.browser.isFirefox()) {
              const t5 = e4.getDoc();
              t5.open(), t5.write(e4.iframeHTML), t5.close(), n2();
            } else {
              const r2 = (o2 = yn(t4), No(o2, "load", FT, () => {
                r2.unbind(), n2();
              }));
              t4.srcdoc = e4.iframeHTML;
            }
            var o2;
          })(e3);
        })(e2, { editorContainer: t2.editorContainer, iframeContainer: t2.iframeContainer });
      }, qT = za.DOM, VT = (e2) => "-" === e2.charAt(0), WT = (e2, t2, n2) => I.from(t2).filter((e3) => Ye(e3) && !Sw.has(e3)).map((t3) => ({ url: `${e2.editorManager.baseURL}/icons/${t3}/icons${n2}.js`, name: I.some(t3) })), KT = (e2, t2) => {
        const n2 = Ha.ScriptLoader, o2 = () => {
          !e2.removed && ((e3) => {
            const t3 = pd(e3);
            return !m(t3) || C(Lw.get(t3));
          })(e2) && ((e3) => {
            const t3 = bd(e3);
            return C(kw.get(t3));
          })(e2) && $T(e2);
        };
        ((e3, t3) => {
          const n3 = pd(e3);
          if (m(n3) && !VT(n3) && !Ee(Lw.urls, n3)) {
            const o3 = hd(e3), r2 = o3 ? e3.documentBaseURI.toAbsolute(o3) : `themes/${n3}/theme${t3}.js`;
            Lw.load(n3, r2).catch(() => {
              ((e4, t4, n4) => {
                Uw(e4, "ThemeLoadError", zw("theme", t4, n4));
              })(e3, r2, n3);
            });
          }
        })(e2, t2), ((e3, t3) => {
          const n3 = bd(e3);
          if ("plugin" !== n3 && !Ee(kw.urls, n3)) {
            const o3 = vd(e3), r2 = m(o3) ? e3.documentBaseURI.toAbsolute(o3) : `models/${n3}/model${t3}.js`;
            kw.load(n3, r2).catch(() => {
              ((e4, t4, n4) => {
                Uw(e4, "ModelLoadError", zw("model", t4, n4));
              })(e3, r2, n3);
            });
          }
        })(e2, t2), ((e3, t3) => {
          const n3 = td(t3), o3 = nd(t3);
          if (!Ka.hasCode(n3) && "en" !== n3) {
            const r2 = Ye(o3) ? o3 : `${t3.editorManager.baseURL}/langs/${n3}.js`;
            e3.add(r2).catch(() => {
              ((e4, t4, n4) => {
                Uw(e4, "LanguageLoadError", zw("language", t4, n4));
              })(t3, r2, n3);
            });
          }
        })(n2, e2), ((e3, t3, n3) => {
          const o3 = WT(t3, "default", n3), r2 = ((e4) => I.from(Yl(e4)).filter(Ye).map((e5) => ({ url: e5, name: I.none() })))(t3).orThunk(() => WT(t3, Kl(t3), ""));
          V(((e4) => {
            const t4 = [], n4 = (e5) => {
              t4.push(e5);
            };
            for (let t5 = 0; t5 < e4.length; t5++) e4[t5].each(n4);
            return t4;
          })([o3, r2]), (n4) => {
            e3.add(n4.url).catch(() => {
              ((e4, t4, n5) => {
                Uw(e4, "IconsLoadError", zw("icons", t4, n5));
              })(t3, n4.url, n4.name.getOrUndefined());
            });
          });
        })(n2, e2, t2), ((e3, t3) => {
          const n3 = (t4, n4) => {
            Dw.load(t4, n4).catch(() => {
              ((e4, t5, n5) => {
                Uw(e4, "PluginLoadError", zw("plugin", t5, n5));
              })(e3, n4, t4);
            });
          };
          ge(Md(e3), (t4, o3) => {
            n3(o3, t4), e3.options.set("plugins", Ld(e3).concat(o3));
          }), V(Ld(e3), (e4) => {
            !(e4 = Pt.trim(e4)) || Dw.urls[e4] || VT(e4) || n3(e4, `plugins/${e4}/plugin${t3}.js`);
          });
        })(e2, t2), n2.loadQueue().then(o2, o2);
      }, YT = xt().deviceType, GT = YT.isPhone(), XT = YT.isTablet(), QT = (e2) => {
        if (y(e2)) return [];
        {
          const t2 = p(e2) ? e2 : e2.split(/[ ,]/), n2 = q(t2, Ve);
          return Y(n2, Ye);
        }
      }, JT = (e2, t2) => {
        const n2 = ((t3, n3) => {
          const o3 = {}, r3 = {};
          return ve(t3, (t4, n4) => H(e2, n4), be(o3), be(r3)), { t: o3, f: r3 };
        })(t2);
        return o2 = n2.t, r2 = n2.f, { sections: N(o2), options: N(r2) };
        var o2, r2;
      }, ZT = (e2, t2) => Ee(e2.sections(), t2), eO = (e2, t2) => ({ table_grid: false, object_resizing: false, resize: false, toolbar_mode: xe(e2, "toolbar_mode").getOr("scrolling"), toolbar_sticky: false, ...t2 ? { menubar: false } : {} }), tO = (e2, t2) => {
        var n2;
        const o2 = null !== (n2 = t2.external_plugins) && void 0 !== n2 ? n2 : {};
        return e2 && e2.external_plugins ? Pt.extend({}, e2.external_plugins, o2) : o2;
      }, nO = (e2, t2, n2, o2, r2) => {
        var s2;
        const a2 = e2 ? { mobile: eO(null !== (s2 = r2.mobile) && void 0 !== s2 ? s2 : {}, t2) } : {}, i2 = JT(["mobile"], nk(a2, r2)), l2 = Pt.extend(n2, o2, i2.options(), ((e3, t3) => e3 && ZT(t3, "mobile"))(e2, i2) ? ((e3, t3, n3 = {}) => {
          const o3 = e3.sections(), r3 = xe(o3, t3).getOr({});
          return Pt.extend({}, n3, r3);
        })(i2, "mobile") : {}, { external_plugins: tO(o2, i2.options()) });
        return ((e3, t3, n3, o3) => {
          const r3 = QT(n3.forced_plugins), s3 = QT(o3.plugins), a3 = ((e4, t4) => ZT(e4, t4) ? e4.sections()[t4] : {})(t3, "mobile"), i3 = ((e4, t4, n4, o4) => e4 && ZT(t4, "mobile") ? o4 : n4)(e3, t3, s3, a3.plugins ? QT(a3.plugins) : s3), l3 = ((e4, t4) => [...QT(e4), ...QT(t4)])(r3, i3);
          return Pt.extend(o3, { forced_plugins: r3, plugins: l3 });
        })(e2, i2, o2, l2);
      }, oO = (e2) => {
        ((e3) => {
          const t2 = (t3) => () => {
            V("left,center,right,justify".split(","), (n2) => {
              t3 !== n2 && e3.formatter.remove("align" + n2);
            }), "none" !== t3 && ((t4, n2) => {
              e3.formatter.toggle(t4, void 0), e3.nodeChanged();
            })("align" + t3);
          };
          e3.editorCommands.addCommands({ JustifyLeft: t2("left"), JustifyCenter: t2("center"), JustifyRight: t2("right"), JustifyFull: t2("justify"), JustifyNone: t2("none") });
        })(e2), ((e3) => {
          const t2 = (t3) => () => {
            const n2 = e3.selection, o2 = n2.isCollapsed() ? [e3.dom.getParent(n2.getNode(), e3.dom.isBlock)] : n2.getSelectedBlocks();
            return $(o2, (n3) => C(e3.formatter.matchNode(n3, t3)));
          };
          e3.editorCommands.addCommands({ JustifyLeft: t2("alignleft"), JustifyCenter: t2("aligncenter"), JustifyRight: t2("alignright"), JustifyFull: t2("alignjustify") }, "state");
        })(e2);
      }, rO = (e2, t2) => {
        const n2 = e2.selection, o2 = e2.dom;
        return /^ | $/.test(t2) ? ((e3, t3, n3, o3) => {
          const r2 = yn(e3.getRoot());
          return n3 = eh(r2, Vi.fromRangeStart(t3), o3) ? n3.replace(/^ /, "&nbsp;") : n3.replace(/^&nbsp;/, " "), th(r2, Vi.fromRangeEnd(t3), o3) ? n3.replace(/(&nbsp;| )(<br( \/)>)?$/, "&nbsp;") : n3.replace(/&nbsp;(<br( \/)?>)?$/, " ");
        })(o2, n2.getRng(), t2, e2.schema) : t2;
      }, sO = (e2, t2) => {
        if (e2.selection.isEditable()) {
          const { content: n2, details: o2 } = ((e3) => {
            if ("string" != typeof e3) {
              const t3 = Pt.extend({ paste: e3.paste, data: { paste: e3.paste } }, e3);
              return { content: e3.content, details: t3 };
            }
            return { content: e3, details: {} };
          })(t2);
          _C(e2, { ...o2, content: rO(e2, n2), format: "html", set: false, selection: true }).each((t3) => {
            const n3 = ((e3, t4, n4) => ew(e3).editor.insertContent(t4, n4))(e2, t3.content, o2);
            SC(e2, n3, t3), e2.addVisual();
          });
        }
      }, aO = { "font-size": "size", "font-family": "face" }, iO = Xt("font"), lO = (e2) => (t2, n2) => I.from(n2).map(yn).filter(Wt).bind((n3) => ((e3, t3, n4) => Lb(yn(n4), (t4) => ((t5) => mo(t5, e3).orThunk(() => iO(t5) ? xe(aO, e3).bind((e4) => tn(t5, e4)) : I.none()))(t4), (e4) => _n(yn(t3), e4)))(e2, t2, n3.dom).or(((e3, t3) => I.from(za.DOM.getStyle(t3, e3, true)))(e2, n3.dom))).getOr(""), dO = lO("font-size"), cO = S((e2) => e2.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ","), lO("font-family")), uO = (e2) => Ou(e2.getBody()).bind((e3) => {
        const t2 = e3.container();
        return I.from(er(t2) ? t2.parentNode : t2);
      }), mO = (e2, t2) => ((e3, t3) => ((e4) => I.from(e4.selection.getRng()).bind((t4) => {
        const n2 = e4.getBody();
        return t4.startContainer === n2 && 0 === t4.startOffset ? I.none() : I.from(e4.selection.getStart(true));
      }))(e3).orThunk(T(uO, e3)).map(yn).filter(Wt).bind(t3))(e2, k(I.some, t2)), fO = (e2, t2) => {
        if (/^[0-9.]+$/.test(t2)) {
          const n2 = parseInt(t2, 10);
          if (n2 >= 1 && n2 <= 7) {
            const o2 = ((e3) => Pt.explode(e3.options.get("font_size_style_values")))(e2), r2 = ((e3) => Pt.explode(e3.options.get("font_size_classes")))(e2);
            return r2.length > 0 ? r2[n2 - 1] || t2 : o2[n2 - 1] || t2;
          }
          return t2;
        }
        return t2;
      }, gO = (e2) => {
        const t2 = e2.split(/\s*,\s*/);
        return q(t2, (e3) => -1 === e3.indexOf(" ") || He(e3, '"') || He(e3, "'") ? e3 : `'${e3}'`).join(",");
      }, pO = (e2, t2) => {
        const n2 = e2.dom, o2 = e2.selection.getRng(), r2 = t2 ? e2.selection.getStart() : e2.selection.getEnd(), s2 = t2 ? o2.startContainer : o2.endContainer, a2 = CN(n2, s2);
        if (!a2 || !a2.isContentEditable) return;
        const i2 = t2 ? po : ho, l2 = Il(e2);
        ((e3, t3, n3, o3) => {
          const r3 = e3.dom, s3 = (e4) => r3.isBlock(e4) && e4.parentElement === n3, a3 = s3(t3) ? t3 : r3.getParent(o3, s3, n3);
          return I.from(a3).map(yn);
        })(e2, r2, a2, s2).each((t3) => {
          const n3 = _N(e2, s2, t3.dom, a2, false, l2);
          i2(t3, yn(n3)), e2.selection.setCursorLocation(n3, 0), e2.dispatch("NewBlock", { newBlock: n3 }), fN(e2, "insertParagraph");
        });
      }, hO = (e2) => {
        oO(e2), ((e3) => {
          e3.editorCommands.addCommands({ "Cut,Copy,Paste": (t2) => {
            const n2 = e3.getDoc();
            let o2;
            try {
              n2.execCommand(t2);
            } catch (e4) {
              o2 = true;
            }
            if ("paste" !== t2 || n2.queryCommandEnabled(t2) || (o2 = true), o2 || !n2.queryCommandSupported(t2)) {
              let t3 = e3.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
              (At.os.isMacOS() || At.os.isiOS()) && (t3 = t3.replace(/Ctrl\+/g, "⌘+")), e3.notificationManager.open({ text: t3, type: "error" });
            }
          } });
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ mceAddUndoLevel: () => {
            e3.undoManager.add();
          }, mceEndUndoLevel: () => {
            e3.undoManager.add();
          }, Undo: () => {
            e3.undoManager.undo();
          }, Redo: () => {
            e3.undoManager.redo();
          } });
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ mceSelectNodeDepth: (t2, n2, o2) => {
            let r2 = 0;
            e3.dom.getParent(e3.selection.getNode(), (t3) => !qo(t3) || r2++ !== o2 || (e3.selection.select(t3), false), e3.getBody());
          }, mceSelectNode: (t2, n2, o2) => {
            e3.selection.select(o2);
          }, selectAll: () => {
            const t2 = e3.dom.getParent(e3.selection.getStart(), lr);
            if (t2) {
              const n2 = e3.dom.createRng();
              n2.selectNodeContents(t2), e3.selection.setRng(n2);
            }
          } });
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ mceCleanup: () => {
            const t2 = e3.selection.getBookmark();
            e3.setContent(e3.getContent()), e3.selection.moveToBookmark(t2);
          }, insertImage: (t2, n2, o2) => {
            sO(e3, e3.dom.createHTML("img", { src: o2 }));
          }, insertHorizontalRule: () => {
            e3.execCommand("mceInsertContent", false, "<hr>");
          }, insertText: (t2, n2, o2) => {
            sO(e3, e3.dom.encode(o2));
          }, insertHTML: (t2, n2, o2) => {
            sO(e3, o2);
          }, mceInsertContent: (t2, n2, o2) => {
            sO(e3, o2);
          }, mceSetContent: (t2, n2, o2) => {
            e3.setContent(o2);
          }, mceReplaceContent: (t2, n2, o2) => {
            e3.execCommand("mceInsertContent", false, o2.replace(/\{\$selection\}/g, e3.selection.getContent({ format: "text" })));
          }, mceNewDocument: () => {
            e3.setContent(Jd(e3));
          } });
        })(e2), ((e3) => {
          const t2 = (t3, n2, o2) => {
            const r2 = m(o2) ? { href: o2 } : o2, s2 = e3.dom.getParent(e3.selection.getNode(), "a");
            f(r2) && m(r2.href) && (r2.href = r2.href.replace(/ /g, "%20"), s2 && r2.href || e3.formatter.remove("link"), r2.href && e3.formatter.apply("link", r2, s2));
          };
          e3.editorCommands.addCommands({ unlink: () => {
            if (e3.selection.isEditable()) {
              if (e3.selection.isCollapsed()) {
                const t3 = e3.dom.getParent(e3.selection.getStart(), "a");
                return void (t3 && e3.dom.remove(t3, true));
              }
              e3.formatter.remove("link");
            }
          }, mceInsertLink: t2, createLink: t2 });
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ Indent: () => {
            ((e4) => {
              O_(e4, "indent");
            })(e3);
          }, Outdent: () => {
            B_(e3);
          } }), e3.editorCommands.addCommands({ Outdent: () => R_(e3) }, "state");
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ InsertNewBlockBefore: () => {
            ((e4) => {
              pO(e4, true);
            })(e3);
          }, InsertNewBlockAfter: () => {
            ((e4) => {
              pO(e4, false);
            })(e3);
          } });
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ insertParagraph: () => {
            oR(LN, e3);
          }, mceInsertNewLine: (t2, n2, o2) => {
            rR(e3, o2);
          }, InsertLineBreak: (t2, n2, o2) => {
            oR($N, e3);
          } });
        })(e2), ((e3) => {
          ((e4) => {
            e4.editorCommands.addCommands({ "InsertUnorderedList,InsertOrderedList": (t2) => {
              e4.getDoc().execCommand(t2);
              const n2 = e4.dom.getParent(e4.selection.getNode(), "ol,ul");
              if (n2) {
                const t3 = n2.parentNode;
                if (t3 && /^(H[1-6]|P|ADDRESS|PRE)$/.test(t3.nodeName)) {
                  const o2 = e4.selection.getBookmark();
                  e4.dom.split(t3, n2), e4.selection.moveToBookmark(o2);
                }
              }
            } });
          })(e3), ((e4) => {
            e4.editorCommands.addCommands({ "InsertUnorderedList,InsertOrderedList": (t2) => {
              const n2 = e4.dom.getParent(e4.selection.getNode(), "ul,ol");
              return n2 && ("insertunorderedlist" === t2 && "UL" === n2.tagName || "insertorderedlist" === t2 && "OL" === n2.tagName);
            } }, "state");
          })(e3);
        })(e2), ((e3) => {
          ((e4) => {
            const t2 = (t3, n2) => {
              e4.formatter.toggle(t3, n2), e4.nodeChanged();
            };
            e4.editorCommands.addCommands({ "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": (e5) => {
              t2(e5);
            }, "ForeColor,HiliteColor": (e5, n2, o2) => {
              t2(e5, { value: o2 });
            }, BackColor: (e5, n2, o2) => {
              t2("hilitecolor", { value: o2 });
            }, FontName: (t3, n2, o2) => {
              ((e5, t4) => {
                const n3 = fO(e5, t4);
                e5.formatter.toggle("fontname", { value: gO(n3) }), e5.nodeChanged();
              })(e4, o2);
            }, FontSize: (t3, n2, o2) => {
              ((e5, t4) => {
                e5.formatter.toggle("fontsize", { value: fO(e5, t4) }), e5.nodeChanged();
              })(e4, o2);
            }, LineHeight: (t3, n2, o2) => {
              ((e5, t4) => {
                e5.formatter.toggle("lineheight", { value: String(t4) }), e5.nodeChanged();
              })(e4, o2);
            }, Lang: (e5, n2, o2) => {
              var r2;
              t2(e5, { value: o2.code, customValue: null !== (r2 = o2.customCode) && void 0 !== r2 ? r2 : null });
            }, RemoveFormat: (t3) => {
              e4.formatter.remove(t3);
            }, mceBlockQuote: () => {
              t2("blockquote");
            }, FormatBlock: (e5, n2, o2) => {
              t2(m(o2) ? o2 : "p");
            }, mceToggleFormat: (e5, n2, o2) => {
              t2(o2);
            } });
          })(e3), ((e4) => {
            const t2 = (t3) => e4.formatter.match(t3);
            e4.editorCommands.addCommands({ "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": (e5) => t2(e5), mceBlockQuote: () => t2("blockquote") }, "state"), e4.editorCommands.addQueryValueHandler("FontName", () => ((e5) => mO(e5, (t3) => cO(e5.getBody(), t3.dom)).getOr(""))(e4)), e4.editorCommands.addQueryValueHandler("FontSize", () => ((e5) => mO(e5, (t3) => dO(e5.getBody(), t3.dom)).getOr(""))(e4)), e4.editorCommands.addQueryValueHandler("LineHeight", () => ((e5) => mO(e5, (t3) => {
              const n2 = yn(e5.getBody()), o2 = Lb(t3, (e6) => mo(e6, "line-height"), T(_n, n2));
              return o2.getOrThunk(() => {
                const e6 = parseFloat(co(t3, "line-height")), n3 = parseFloat(co(t3, "font-size"));
                return String(e6 / n3);
              });
            }).getOr(""))(e4));
          })(e3);
        })(e2), ((e3) => {
          e3.editorCommands.addCommands({ mceRemoveNode: (t2, n2, o2) => {
            const r2 = null != o2 ? o2 : e3.selection.getNode();
            if (r2 !== e3.getBody()) {
              const t3 = e3.selection.getBookmark();
              e3.dom.remove(r2, true), e3.selection.moveToBookmark(t3);
            }
          }, mcePrint: () => {
            e3.getWin().print();
          }, mceFocus: (t2, n2, o2) => {
            ((e4, t3) => {
              e4.removed || (t3 ? Tg(e4) : ((e5) => {
                const t4 = e5.selection, n3 = e5.getBody();
                let o3 = t4.getRng();
                e5.quirks.refreshContentEditable(), C(e5.bookmark) && !Rg(e5) && hg(e5).each((t5) => {
                  e5.selection.setRng(t5), o3 = t5;
                });
                const r2 = ((e6, t5) => e6.dom.getParent(t5, (t6) => "true" === e6.dom.getContentEditable(t6)))(e5, t4.getNode());
                if (r2 && e5.dom.isChildOf(r2, n3)) return Ng(r2), kg(e5, o3), void Tg(e5);
                e5.inline || (At.browser.isOpera() || Ng(n3), e5.getWin().focus()), (At.browser.isFirefox() || e5.inline) && (Ng(n3), kg(e5, o3)), Tg(e5);
              })(e4));
            })(e3, true === o2);
          }, mceToggleVisualAid: () => {
            e3.hasVisual = !e3.hasVisual, e3.addVisual();
          } });
        })(e2);
      }, bO = ["toggleview"], vO = (e2) => H(bO, e2.toLowerCase());
      class yO {
        constructor(e2) {
          this.commands = { state: {}, exec: {}, value: {} }, this.editor = e2;
        }
        execCommand(e2, t2 = false, n2, o2) {
          const r2 = this.editor, s2 = e2.toLowerCase(), a2 = null == o2 ? void 0 : o2.skip_focus;
          if (r2.removed) return false;
          if ("mcefocus" !== s2 && (/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(s2) || a2 ? ((e3) => {
            hg(e3).each((t3) => e3.selection.setRng(t3));
          })(r2) : r2.focus()), r2.dispatch("BeforeExecCommand", { command: e2, ui: t2, value: n2 }).isDefaultPrevented()) return false;
          const i2 = this.commands.exec[s2];
          return !!w(i2) && (i2(s2, t2, n2), r2.dispatch("ExecCommand", { command: e2, ui: t2, value: n2 }), true);
        }
        queryCommandState(e2) {
          if (!vO(e2) && this.editor.quirks.isHidden() || this.editor.removed) return false;
          const t2 = e2.toLowerCase(), n2 = this.commands.state[t2];
          return !!w(n2) && n2(t2);
        }
        queryCommandValue(e2) {
          if (!vO(e2) && this.editor.quirks.isHidden() || this.editor.removed) return "";
          const t2 = e2.toLowerCase(), n2 = this.commands.value[t2];
          return w(n2) ? n2(t2) : "";
        }
        addCommands(e2, t2 = "exec") {
          const n2 = this.commands;
          ge(e2, (e3, o2) => {
            V(o2.toLowerCase().split(","), (o3) => {
              n2[t2][o3] = e3;
            });
          });
        }
        addCommand(e2, t2, n2) {
          const o2 = e2.toLowerCase();
          this.commands.exec[o2] = (e3, o3, r2) => t2.call(null != n2 ? n2 : this.editor, o3, r2);
        }
        queryCommandSupported(e2) {
          const t2 = e2.toLowerCase();
          return !!this.commands.exec[t2];
        }
        addQueryStateHandler(e2, t2, n2) {
          this.commands.state[e2.toLowerCase()] = () => t2.call(null != n2 ? n2 : this.editor);
        }
        addQueryValueHandler(e2, t2, n2) {
          this.commands.value[e2.toLowerCase()] = () => t2.call(null != n2 ? n2 : this.editor);
        }
      }
      const CO = "data-mce-contenteditable", wO = (e2, t2, n2) => {
        try {
          e2.getDoc().execCommand(t2, false, String(n2));
        } catch (e3) {
        }
      }, xO = (e2, t2) => {
        e2.dom.contentEditable = t2 ? "true" : "false";
      }, EO = (e2) => e2.readonly, _O = (e2) => {
        e2.parser.addAttributeFilter("contenteditable", (t2) => {
          EO(e2) && V(t2, (e3) => {
            e3.attr(CO, e3.attr("contenteditable")), e3.attr("contenteditable", "false");
          });
        }), e2.serializer.addAttributeFilter(CO, (t2) => {
          EO(e2) && V(t2, (e3) => {
            e3.attr("contenteditable", e3.attr(CO));
          });
        }), e2.serializer.addTempAttr(CO);
      }, SO = ["copy"], kO = Pt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel", " ");
      class NO {
        static isNative(e2) {
          return !!kO[e2.toLowerCase()];
        }
        constructor(e2) {
          this.bindings = {}, this.settings = e2 || {}, this.scope = this.settings.scope || this, this.toggleEvent = this.settings.toggleEvent || L;
        }
        fire(e2, t2) {
          return this.dispatch(e2, t2);
        }
        dispatch(e2, t2) {
          const n2 = e2.toLowerCase(), o2 = _a(n2, null != t2 ? t2 : {}, this.scope);
          this.settings.beforeFire && this.settings.beforeFire(o2);
          const r2 = this.bindings[n2];
          if (r2) for (let e3 = 0, t3 = r2.length; e3 < t3; e3++) {
            const t4 = r2[e3];
            if (!t4.removed) {
              if (t4.once && this.off(n2, t4.func), o2.isImmediatePropagationStopped()) return o2;
              if (false === t4.func.call(this.scope, o2)) return o2.preventDefault(), o2;
            }
          }
          return o2;
        }
        on(e2, t2, n2, o2) {
          if (false === t2 && (t2 = L), t2) {
            const r2 = { func: t2, removed: false };
            o2 && Pt.extend(r2, o2);
            const s2 = e2.toLowerCase().split(" ");
            let a2 = s2.length;
            for (; a2--; ) {
              const e3 = s2[a2];
              let t3 = this.bindings[e3];
              t3 || (t3 = [], this.toggleEvent(e3, true)), t3 = n2 ? [r2, ...t3] : [...t3, r2], this.bindings[e3] = t3;
            }
          }
          return this;
        }
        off(e2, t2) {
          if (e2) {
            const n2 = e2.toLowerCase().split(" ");
            let o2 = n2.length;
            for (; o2--; ) {
              const r2 = n2[o2];
              let s2 = this.bindings[r2];
              if (!r2) return ge(this.bindings, (e3, t3) => {
                this.toggleEvent(t3, false), delete this.bindings[t3];
              }), this;
              if (s2) {
                if (t2) {
                  const e3 = K(s2, (e4) => e4.func === t2);
                  s2 = e3.fail, this.bindings[r2] = s2, V(e3.pass, (e4) => {
                    e4.removed = true;
                  });
                } else s2.length = 0;
                s2.length || (this.toggleEvent(e2, false), delete this.bindings[r2]);
              }
            }
          } else ge(this.bindings, (e3, t3) => {
            this.toggleEvent(t3, false);
          }), this.bindings = {};
          return this;
        }
        once(e2, t2, n2) {
          return this.on(e2, t2, n2, { once: true });
        }
        has(e2) {
          e2 = e2.toLowerCase();
          const t2 = this.bindings[e2];
          return !(!t2 || 0 === t2.length);
        }
      }
      const RO = (e2) => (e2._eventDispatcher || (e2._eventDispatcher = new NO({ scope: e2, toggleEvent: (t2, n2) => {
        NO.isNative(t2) && e2.toggleNativeEvent && e2.toggleNativeEvent(t2, n2);
      } })), e2._eventDispatcher), AO = { fire(e2, t2, n2) {
        return this.dispatch(e2, t2, n2);
      }, dispatch(e2, t2, n2) {
        const o2 = this;
        if (o2.removed && "remove" !== e2 && "detach" !== e2) return _a(e2.toLowerCase(), null != t2 ? t2 : {}, o2);
        const r2 = RO(o2).dispatch(e2, t2);
        if (false !== n2 && o2.parent) {
          let t3 = o2.parent();
          for (; t3 && !r2.isPropagationStopped(); ) t3.dispatch(e2, r2, false), t3 = t3.parent ? t3.parent() : void 0;
        }
        return r2;
      }, on(e2, t2, n2) {
        return RO(this).on(e2, t2, n2);
      }, off(e2, t2) {
        return RO(this).off(e2, t2);
      }, once(e2, t2) {
        return RO(this).once(e2, t2);
      }, hasEventListeners(e2) {
        return RO(this).has(e2);
      } }, TO = za.DOM;
      let OO;
      const BO = (e2, t2) => {
        if ("selectionchange" === t2) return e2.getDoc();
        if (!e2.inline && /^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t2)) return e2.getDoc().documentElement;
        const n2 = fd(e2);
        return n2 ? (e2.eventRoot || (e2.eventRoot = TO.select(n2)[0]), e2.eventRoot) : e2.getBody();
      }, PO = (e2, t2, n2) => {
        ((e3) => !e3.hidden && !EO(e3))(e2) ? e2.dispatch(t2, n2) : EO(e2) && ((e3, t3) => {
          if (((e4) => "click" === e4.type)(t3) && !af.metaKeyPressed(t3)) {
            const n3 = yn(t3.target);
            ((e4, t4) => no(t4, "a", (t5) => _n(t5, yn(e4.getBody()))).bind((e5) => tn(e5, "href")))(e3, n3).each((n4) => {
              if (t3.preventDefault(), /^#/.test(n4)) {
                const t4 = e3.dom.select(`${n4},[name="${ze(n4, "#")}"]`);
                t4.length && e3.selection.scrollIntoView(t4[0], true);
              } else window.open(n4, "_blank", "rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes");
            });
          } else ((e4) => H(SO, e4.type))(t3) && e3.dispatch(t3.type, t3);
        })(e2, n2);
      }, DO = (e2, t2) => {
        if (e2.delegates || (e2.delegates = {}), e2.delegates[t2] || e2.removed) return;
        const n2 = BO(e2, t2);
        if (fd(e2)) {
          if (OO || (OO = {}, e2.editorManager.on("removeEditor", () => {
            e2.editorManager.activeEditor || OO && (ge(OO, (t3, n3) => {
              e2.dom.unbind(BO(e2, n3));
            }), OO = null);
          })), OO[t2]) return;
          const o2 = (n3) => {
            const o3 = n3.target, r2 = e2.editorManager.get();
            let s2 = r2.length;
            for (; s2--; ) {
              const e3 = r2[s2].getBody();
              (e3 === o3 || TO.isChildOf(o3, e3)) && PO(r2[s2], t2, n3);
            }
          };
          OO[t2] = o2, TO.bind(n2, t2, o2);
        } else {
          const o2 = (n3) => {
            PO(e2, t2, n3);
          };
          TO.bind(n2, t2, o2), e2.delegates[t2] = o2;
        }
      }, LO = { ...AO, bindPendingEventDelegates() {
        const e2 = this;
        Pt.each(e2._pendingNativeEvents, (t2) => {
          DO(e2, t2);
        });
      }, toggleNativeEvent(e2, t2) {
        const n2 = this;
        "focus" !== e2 && "blur" !== e2 && (n2.removed || (t2 ? n2.initialized ? DO(n2, e2) : n2._pendingNativeEvents ? n2._pendingNativeEvents.push(e2) : n2._pendingNativeEvents = [e2] : n2.initialized && n2.delegates && (n2.dom.unbind(BO(n2, e2), e2, n2.delegates[e2]), delete n2.delegates[e2])));
      }, unbindAllNativeEvents() {
        const e2 = this, t2 = e2.getBody(), n2 = e2.dom;
        e2.delegates && (ge(e2.delegates, (t3, n3) => {
          e2.dom.unbind(BO(e2, n3), n3, t3);
        }), delete e2.delegates), !e2.inline && t2 && n2 && (t2.onload = null, n2.unbind(e2.getWin()), n2.unbind(e2.getDoc())), n2 && (n2.unbind(t2), n2.unbind(e2.getContainer()));
      } }, MO = (e2) => m(e2) ? { value: e2.split(/[ ,]/), valid: true } : E(e2, m) ? { value: e2, valid: true } : { valid: false, message: "The value must be a string[] or a comma/space separated string." }, IO = (e2, t2) => e2 + (Ge(t2.message) ? "" : `. ${t2.message}`), FO = (e2) => e2.valid, UO = (e2, t2, n2 = "") => {
        const o2 = t2(e2);
        return b(o2) ? o2 ? { value: e2, valid: true } : { valid: false, message: n2 } : o2;
      }, zO = ["design", "readonly"], jO = (e2, t2, n2, o2) => {
        const r2 = n2[t2.get()], s2 = n2[o2];
        try {
          s2.activate();
        } catch (e3) {
          return void console.error(`problem while activating editor mode ${o2}:`, e3);
        }
        r2.deactivate(), r2.editorReadOnly !== s2.editorReadOnly && ((e3, t3) => {
          const n3 = yn(e3.getBody());
          ((e4, t4, n4) => {
            gn(e4, t4) && !n4 ? fn(e4, t4) : n4 && un(e4, t4);
          })(n3, "mce-content-readonly", t3), t3 ? (e3.selection.controlSelection.hideResizeRect(), e3._selectionOverrides.hideFakeCaret(), ((e4) => {
            I.from(e4.selection.getNode()).each((e5) => {
              e5.removeAttribute("data-mce-selected");
            });
          })(e3), e3.readonly = true, xO(n3, false), V(Uo(n3, '*[contenteditable="true"]'), (e4) => {
            Jt(e4, CO, "true"), xO(e4, false);
          })) : (e3.readonly = false, e3.hasEditableRoot() && xO(n3, true), V(Uo(n3, `*[${CO}="true"]`), (e4) => {
            on(e4, CO), xO(e4, true);
          }), wO(e3, "StyleWithCSS", false), wO(e3, "enableInlineTableEditing", false), wO(e3, "enableObjectResizing", false), Ag(e3) && e3.focus(), ((e4) => {
            e4.selection.setRng(e4.selection.getRng());
          })(e3), e3.nodeChanged());
        })(e2, s2.editorReadOnly), t2.set(o2), ((e3, t3) => {
          e3.dispatch("SwitchMode", { mode: t3 });
        })(e2, o2);
      }, HO = Pt.each, $O = Pt.explode, qO = { f1: 112, f2: 113, f3: 114, f4: 115, f5: 116, f6: 117, f7: 118, f8: 119, f9: 120, f10: 121, f11: 122, f12: 123 }, VO = Pt.makeMap("alt,ctrl,shift,meta,access"), WO = (e2) => {
        const t2 = {}, n2 = At.os.isMacOS() || At.os.isiOS();
        HO($O(e2.toLowerCase(), "+"), (e3) => {
          ((e4) => e4 in VO)(e3) ? t2[e3] = true : /^[0-9]{2,}$/.test(e3) ? t2.keyCode = parseInt(e3, 10) : (t2.charCode = e3.charCodeAt(0), t2.keyCode = qO[e3] || e3.toUpperCase().charCodeAt(0));
        });
        const o2 = [t2.keyCode];
        let r2;
        for (r2 in VO) t2[r2] ? o2.push(r2) : t2[r2] = false;
        return t2.id = o2.join(","), t2.access && (t2.alt = true, n2 ? t2.ctrl = true : t2.shift = true), t2.meta && (n2 ? t2.meta = true : (t2.ctrl = true, t2.meta = false)), t2;
      };
      class KO {
        constructor(e2) {
          this.shortcuts = {}, this.pendingPatterns = [], this.editor = e2;
          const t2 = this;
          e2.on("keyup keypress keydown", (e3) => {
            !t2.hasModifier(e3) && !t2.isFunctionKey(e3) || e3.isDefaultPrevented() || (HO(t2.shortcuts, (n2) => {
              t2.matchShortcut(e3, n2) && (t2.pendingPatterns = n2.subpatterns.slice(0), "keydown" === e3.type && t2.executeShortcutAction(n2));
            }), t2.matchShortcut(e3, t2.pendingPatterns[0]) && (1 === t2.pendingPatterns.length && "keydown" === e3.type && t2.executeShortcutAction(t2.pendingPatterns[0]), t2.pendingPatterns.shift()));
          });
        }
        add(e2, t2, n2, o2) {
          const r2 = this, s2 = r2.normalizeCommandFunc(n2);
          return HO($O(Pt.trim(e2)), (e3) => {
            const n3 = r2.createShortcut(e3, t2, s2, o2);
            r2.shortcuts[n3.id] = n3;
          }), true;
        }
        remove(e2) {
          const t2 = this.createShortcut(e2);
          return !!this.shortcuts[t2.id] && (delete this.shortcuts[t2.id], true);
        }
        normalizeCommandFunc(e2) {
          const t2 = this, n2 = e2;
          return "string" == typeof n2 ? () => {
            t2.editor.execCommand(n2, false, null);
          } : Pt.isArray(n2) ? () => {
            t2.editor.execCommand(n2[0], n2[1], n2[2]);
          } : n2;
        }
        createShortcut(e2, t2, n2, o2) {
          const r2 = Pt.map($O(e2, ">"), WO);
          return r2[r2.length - 1] = Pt.extend(r2[r2.length - 1], { func: n2, scope: o2 || this.editor }), Pt.extend(r2[0], { desc: this.editor.translate(t2), subpatterns: r2.slice(1) });
        }
        hasModifier(e2) {
          return e2.altKey || e2.ctrlKey || e2.metaKey;
        }
        isFunctionKey(e2) {
          return "keydown" === e2.type && e2.keyCode >= 112 && e2.keyCode <= 123;
        }
        matchShortcut(e2, t2) {
          return !!t2 && t2.ctrl === e2.ctrlKey && t2.meta === e2.metaKey && t2.alt === e2.altKey && t2.shift === e2.shiftKey && !!(e2.keyCode === t2.keyCode || e2.charCode && e2.charCode === t2.charCode) && (e2.preventDefault(), true);
        }
        executeShortcutAction(e2) {
          return e2.func ? e2.func.call(e2.scope) : null;
        }
      }
      const YO = () => {
        const e2 = (() => {
          const e3 = {}, t2 = {}, n2 = {}, o2 = {}, r2 = {}, s2 = {}, a2 = {}, i2 = {}, l2 = (e4, t3) => (n3, o3) => {
            e4[n3.toLowerCase()] = { ...o3, type: t3 };
          };
          return { addButton: l2(e3, "button"), addGroupToolbarButton: l2(e3, "grouptoolbarbutton"), addToggleButton: l2(e3, "togglebutton"), addMenuButton: l2(e3, "menubutton"), addSplitButton: l2(e3, "splitbutton"), addMenuItem: l2(t2, "menuitem"), addNestedMenuItem: l2(t2, "nestedmenuitem"), addToggleMenuItem: l2(t2, "togglemenuitem"), addAutocompleter: l2(n2, "autocompleter"), addContextMenu: l2(r2, "contextmenu"), addContextToolbar: l2(s2, "contexttoolbar"), addContextForm: l2(s2, "contextform"), addSidebar: l2(a2, "sidebar"), addView: l2(i2, "views"), addIcon: (e4, t3) => o2[e4.toLowerCase()] = t3, getAll: () => ({ buttons: e3, menuItems: t2, icons: o2, popups: n2, contextMenus: r2, contextToolbars: s2, sidebars: a2, views: i2 }) };
        })();
        return { addAutocompleter: e2.addAutocompleter, addButton: e2.addButton, addContextForm: e2.addContextForm, addContextMenu: e2.addContextMenu, addContextToolbar: e2.addContextToolbar, addIcon: e2.addIcon, addMenuButton: e2.addMenuButton, addMenuItem: e2.addMenuItem, addNestedMenuItem: e2.addNestedMenuItem, addSidebar: e2.addSidebar, addSplitButton: e2.addSplitButton, addToggleButton: e2.addToggleButton, addGroupToolbarButton: e2.addGroupToolbarButton, addToggleMenuItem: e2.addToggleMenuItem, addView: e2.addView, getAll: e2.getAll };
      }, GO = za.DOM, XO = Pt.extend, QO = Pt.each;
      class JO {
        constructor(e2, t2, n2) {
          this.plugins = {}, this.contentCSS = [], this.contentStyles = [], this.loadedCSS = {}, this.isNotDirty = false, this.composing = false, this.destroyed = false, this.hasHiddenInput = false, this.iframeElement = null, this.initialized = false, this.readonly = false, this.removed = false, this.startContent = "", this._pendingNativeEvents = [], this._skinLoaded = false, this._editableRoot = true, this.editorManager = n2, this.documentBaseUrl = n2.documentBaseURL, XO(this, LO);
          const o2 = this;
          this.id = e2, this.hidden = false;
          const r2 = ((e3, t3) => nO(GT || XT, GT, t3, e3, t3))(n2.defaultOptions, t2);
          this.options = /* @__PURE__ */ ((e3, t3) => {
            const n3 = {}, o3 = {}, r3 = (e4, t4, n4) => {
              const r4 = UO(t4, n4);
              return FO(r4) ? (o3[e4] = r4.value, true) : (console.warn(IO(`Invalid value passed for the ${e4} option`, r4)), false);
            }, s3 = (e4) => Ee(n3, e4);
            return { register: (e4, s4) => {
              const a3 = ((e5) => m(e5.processor))(s4) ? ((e5) => {
                const t4 = (() => {
                  switch (e5) {
                    case "array":
                      return p;
                    case "boolean":
                      return b;
                    case "function":
                      return w;
                    case "number":
                      return x;
                    case "object":
                      return f;
                    case "string":
                      return m;
                    case "string[]":
                      return MO;
                    case "object[]":
                      return (e6) => E(e6, f);
                    case "regexp":
                      return (e6) => u(e6, RegExp);
                    default:
                      return M;
                  }
                })();
                return (n4) => UO(n4, t4, `The value must be a ${e5}.`);
              })(s4.processor) : s4.processor, i3 = ((e5, t4, n4) => {
                if (!v(t4)) {
                  const o4 = UO(t4, n4);
                  if (FO(o4)) return o4.value;
                  console.error(IO(`Invalid default value passed for the "${e5}" option`, o4));
                }
              })(e4, s4.default, a3);
              n3[e4] = { ...s4, default: i3, processor: a3 }, xe(o3, e4).orThunk(() => xe(t3, e4)).each((t4) => r3(e4, t4, a3));
            }, isRegistered: s3, get: (e4) => xe(o3, e4).orThunk(() => xe(n3, e4).map((e5) => e5.default)).getOrUndefined(), set: (e4, t4) => {
              if (s3(e4)) {
                const o4 = n3[e4];
                return o4.immutable ? (console.error(`"${e4}" is an immutable option and cannot be updated`), false) : r3(e4, t4, o4.processor);
              }
              return console.warn(`"${e4}" is not a registered option. Ensure the option has been registered before setting a value.`), false;
            }, unset: (e4) => {
              const t4 = s3(e4);
              return t4 && delete o3[e4], t4;
            }, isSet: (e4) => Ee(o3, e4) };
          })(0, r2), ((e3) => {
            const t3 = e3.options.register;
            t3("id", { processor: "string", default: e3.id }), t3("selector", { processor: "string" }), t3("target", { processor: "object" }), t3("suffix", { processor: "string" }), t3("cache_suffix", { processor: "string" }), t3("base_url", { processor: "string" }), t3("referrer_policy", { processor: "string", default: "" }), t3("language_load", { processor: "boolean", default: true }), t3("inline", { processor: "boolean", default: false }), t3("iframe_attrs", { processor: "object", default: {} }), t3("doctype", { processor: "string", default: "<!DOCTYPE html>" }), t3("document_base_url", { processor: "string", default: e3.documentBaseUrl }), t3("body_id", { processor: Al(e3, "tinymce"), default: "tinymce" }), t3("body_class", { processor: Al(e3), default: "" }), t3("content_security_policy", { processor: "string", default: "" }), t3("br_in_pre", { processor: "boolean", default: true }), t3("forced_root_block", { processor: (e4) => {
              const t4 = m(e4) && Ye(e4);
              return t4 ? { value: e4, valid: t4 } : { valid: false, message: "Must be a non-empty string." };
            }, default: "p" }), t3("forced_root_block_attrs", { processor: "object", default: {} }), t3("newline_behavior", { processor: (e4) => {
              const t4 = H(["block", "linebreak", "invert", "default"], e4);
              return t4 ? { value: e4, valid: t4 } : { valid: false, message: "Must be one of: block, linebreak, invert or default." };
            }, default: "default" }), t3("br_newline_selector", { processor: "string", default: ".mce-toc h2,figcaption,caption" }), t3("no_newline_selector", { processor: "string", default: "" }), t3("keep_styles", { processor: "boolean", default: true }), t3("end_container_on_empty_block", { processor: (e4) => b(e4) || m(e4) ? { valid: true, value: e4 } : { valid: false, message: "Must be boolean or a string" }, default: "blockquote" }), t3("font_size_style_values", { processor: "string", default: "xx-small,x-small,small,medium,large,x-large,xx-large" }), t3("font_size_legacy_values", { processor: "string", default: "xx-small,small,medium,large,x-large,xx-large,300%" }), t3("font_size_classes", { processor: "string", default: "" }), t3("automatic_uploads", { processor: "boolean", default: true }), t3("images_reuse_filename", { processor: "boolean", default: false }), t3("images_replace_blob_uris", { processor: "boolean", default: true }), t3("icons", { processor: "string", default: "" }), t3("icons_url", { processor: "string", default: "" }), t3("images_upload_url", { processor: "string", default: "" }), t3("images_upload_base_path", { processor: "string", default: "" }), t3("images_upload_credentials", { processor: "boolean", default: false }), t3("images_upload_handler", { processor: "function" }), t3("language", { processor: "string", default: "en" }), t3("language_url", { processor: "string", default: "" }), t3("entity_encoding", { processor: "string", default: "named" }), t3("indent", { processor: "boolean", default: true }), t3("indent_before", { processor: "string", default: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist" }), t3("indent_after", { processor: "string", default: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist" }), t3("indent_use_margin", { processor: "boolean", default: false }), t3("indentation", { processor: "string", default: "40px" }), t3("content_css", { processor: (e4) => {
              const t4 = false === e4 || m(e4) || E(e4, m);
              return t4 ? m(e4) ? { value: q(e4.split(","), Ve), valid: t4 } : p(e4) ? { value: e4, valid: t4 } : false === e4 ? { value: [], valid: t4 } : { value: e4, valid: t4 } : { valid: false, message: "Must be false, a string or an array of strings." };
            }, default: Sd(e3) ? [] : ["default"] }), t3("content_style", { processor: "string" }), t3("content_css_cors", { processor: "boolean", default: false }), t3("font_css", { processor: (e4) => {
              const t4 = m(e4) || E(e4, m);
              return t4 ? { value: p(e4) ? e4 : q(e4.split(","), Ve), valid: t4 } : { valid: false, message: "Must be a string or an array of strings." };
            }, default: [] }), t3("inline_boundaries", { processor: "boolean", default: true }), t3("inline_boundaries_selector", { processor: "string", default: "a[href],code,span.mce-annotation" }), t3("object_resizing", { processor: (e4) => {
              const t4 = b(e4) || m(e4);
              return t4 ? false === e4 || El.isiPhone() || El.isiPad() ? { value: "", valid: t4 } : { value: true === e4 ? "table,img,figure.image,div,video,iframe" : e4, valid: t4 } : { valid: false, message: "Must be boolean or a string" };
            }, default: !_l }), t3("resize_img_proportional", { processor: "boolean", default: true }), t3("event_root", { processor: "object" }), t3("service_message", { processor: "string" }), t3("theme", { processor: (e4) => false === e4 || m(e4) || w(e4), default: "silver" }), t3("theme_url", { processor: "string" }), t3("formats", { processor: "object" }), t3("format_empty_lines", { processor: "boolean", default: false }), t3("format_noneditable_selector", { processor: "string", default: "" }), t3("preview_styles", { processor: (e4) => {
              const t4 = false === e4 || m(e4);
              return t4 ? { value: false === e4 ? "" : e4, valid: t4 } : { valid: false, message: "Must be false or a string" };
            }, default: "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow" }), t3("custom_ui_selector", { processor: "string", default: "" }), t3("hidden_input", { processor: "boolean", default: true }), t3("submit_patch", { processor: "boolean", default: true }), t3("encoding", { processor: "string" }), t3("add_form_submit_trigger", { processor: "boolean", default: true }), t3("add_unload_trigger", { processor: "boolean", default: true }), t3("custom_undo_redo_levels", { processor: "number", default: 0 }), t3("disable_nodechange", { processor: "boolean", default: false }), t3("readonly", { processor: "boolean", default: false }), t3("editable_root", { processor: "boolean", default: true }), t3("plugins", { processor: "string[]", default: [] }), t3("external_plugins", { processor: "object" }), t3("forced_plugins", { processor: "string[]" }), t3("model", { processor: "string", default: e3.hasPlugin("rtc") ? "plugin" : "dom" }), t3("model_url", { processor: "string" }), t3("block_unsupported_drop", { processor: "boolean", default: true }), t3("visual", { processor: "boolean", default: true }), t3("visual_table_class", { processor: "string", default: "mce-item-table" }), t3("visual_anchor_class", { processor: "string", default: "mce-item-anchor" }), t3("iframe_aria_text", { processor: "string", default: "Rich Text Area. Press ALT-0 for help." }), t3("setup", { processor: "function" }), t3("init_instance_callback", { processor: "function" }), t3("url_converter", { processor: "function", default: e3.convertURL }), t3("url_converter_scope", { processor: "object", default: e3 }), t3("urlconverter_callback", { processor: "function" }), t3("allow_conditional_comments", { processor: "boolean", default: false }), t3("allow_html_data_urls", { processor: "boolean", default: false }), t3("allow_svg_data_urls", { processor: "boolean" }), t3("allow_html_in_named_anchor", { processor: "boolean", default: false }), t3("allow_script_urls", { processor: "boolean", default: false }), t3("allow_unsafe_link_target", { processor: "boolean", default: false }), t3("convert_fonts_to_spans", { processor: "boolean", default: true, deprecated: true }), t3("fix_list_elements", { processor: "boolean", default: false }), t3("preserve_cdata", { processor: "boolean", default: false }), t3("remove_trailing_brs", { processor: "boolean", default: true }), t3("pad_empty_with_br", { processor: "boolean", default: false }), t3("inline_styles", { processor: "boolean", default: true, deprecated: true }), t3("element_format", { processor: "string", default: "html" }), t3("entities", { processor: "string" }), t3("schema", { processor: "string", default: "html5" }), t3("convert_urls", { processor: "boolean", default: true }), t3("relative_urls", { processor: "boolean", default: true }), t3("remove_script_host", { processor: "boolean", default: true }), t3("custom_elements", { processor: "string" }), t3("extended_valid_elements", { processor: "string" }), t3("invalid_elements", { processor: "string" }), t3("invalid_styles", { processor: Rl }), t3("valid_children", { processor: "string" }), t3("valid_classes", { processor: Rl }), t3("valid_elements", { processor: "string" }), t3("valid_styles", { processor: Rl }), t3("verify_html", { processor: "boolean", default: true }), t3("auto_focus", { processor: (e4) => m(e4) || true === e4 }), t3("browser_spellcheck", { processor: "boolean", default: false }), t3("protect", { processor: "array" }), t3("images_file_types", { processor: "string", default: "jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp" }), t3("deprecation_warnings", { processor: "boolean", default: true }), t3("a11y_advanced_options", { processor: "boolean", default: false }), t3("api_key", { processor: "string" }), t3("paste_block_drop", { processor: "boolean", default: false }), t3("paste_data_images", { processor: "boolean", default: true }), t3("paste_preprocess", { processor: "function" }), t3("paste_postprocess", { processor: "function" }), t3("paste_webkit_styles", { processor: "string", default: "none" }), t3("paste_remove_styles_if_webkit", { processor: "boolean", default: true }), t3("paste_merge_formats", { processor: "boolean", default: true }), t3("smart_paste", { processor: "boolean", default: true }), t3("paste_as_text", { processor: "boolean", default: false }), t3("paste_tab_spaces", { processor: "number", default: 4 }), t3("text_patterns", { processor: (e4) => E(e4, f) || false === e4 ? { value: xl(false === e4 ? [] : e4), valid: true } : { valid: false, message: "Must be an array of objects or false." }, default: [{ start: "*", end: "*", format: "italic" }, { start: "**", end: "**", format: "bold" }, { start: "#", format: "h1" }, { start: "##", format: "h2" }, { start: "###", format: "h3" }, { start: "####", format: "h4" }, { start: "#####", format: "h5" }, { start: "######", format: "h6" }, { start: "1. ", cmd: "InsertOrderedList" }, { start: "* ", cmd: "InsertUnorderedList" }, { start: "- ", cmd: "InsertUnorderedList" }] }), t3("text_patterns_lookup", { processor: (e4) => {
              return w(e4) ? { value: (t4 = e4, (e5) => {
                const n3 = t4(e5);
                return xl(n3);
              }), valid: true } : { valid: false, message: "Must be a single function" };
              var t4;
            }, default: (e4) => [] }), t3("noneditable_class", { processor: "string", default: "mceNonEditable" }), t3("editable_class", { processor: "string", default: "mceEditable" }), t3("noneditable_regexp", { processor: (e4) => E(e4, kl) ? { value: e4, valid: true } : kl(e4) ? { value: [e4], valid: true } : { valid: false, message: "Must be a RegExp or an array of RegExp." }, default: [] }), t3("table_tab_navigation", { processor: "boolean", default: true }), t3("highlight_on_focus", { processor: "boolean", default: false }), t3("xss_sanitization", { processor: "boolean", default: true }), t3("details_initial_state", { processor: (e4) => {
              const t4 = H(["inherited", "collapsed", "expanded"], e4);
              return t4 ? { value: e4, valid: t4 } : { valid: false, message: "Must be one of: inherited, collapsed, or expanded." };
            }, default: "inherited" }), t3("details_serialized_state", { processor: (e4) => {
              const t4 = H(["inherited", "collapsed", "expanded"], e4);
              return t4 ? { value: e4, valid: t4 } : { valid: false, message: "Must be one of: inherited, collapsed, or expanded." };
            }, default: "inherited" }), t3("init_content_sync", { processor: "boolean", default: false }), t3("newdocument_content", { processor: "string", default: "" }), t3("force_hex_color", { processor: (e4) => {
              const t4 = ["always", "rgb_only", "off"], n3 = H(t4, e4);
              return n3 ? { value: e4, valid: n3 } : { valid: false, message: `Must be one of: ${t4.join(", ")}.` };
            }, default: "off" }), t3("sandbox_iframes", { processor: "boolean", default: false }), t3("convert_unsafe_embeds", { processor: "boolean", default: false }), e3.on("ScriptsLoaded", () => {
              t3("directionality", { processor: "string", default: Ka.isRtl() ? "rtl" : void 0 }), t3("placeholder", { processor: "string", default: Sl.getAttrib(e3.getElement(), "placeholder") });
            });
          })(o2);
          const s2 = this.options.get;
          s2("deprecation_warnings") && ((e3, t3) => {
            ((e4, t4) => {
              const n3 = bw(e4), o3 = Cw(t4), r3 = o3.length > 0, s3 = n3.length > 0, a3 = "mobile" === t4.theme;
              if (r3 || s3 || a3) {
                const e5 = "\n- ", t5 = a3 ? `

Themes:${e5}mobile` : "", i3 = r3 ? `

Plugins:${e5}${o3.join(e5)}` : "", l3 = s3 ? `

Options:${e5}${n3.join(e5)}` : "";
                console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information." + t5 + i3 + l3);
              }
            })(e3, t3), ((e4, t4) => {
              const n3 = vw(e4), o3 = ww(t4), r3 = o3.length > 0, s3 = n3.length > 0;
              if (r3 || s3) {
                const e5 = "\n- ", t5 = r3 ? `

Plugins:${e5}${o3.map(xw).join(e5)}` : "", a3 = s3 ? `

Options:${e5}${n3.join(e5)}` : "";
                console.warn("The following deprecated features are currently enabled but will be removed soon." + t5 + a3);
              }
            })(e3, t3);
          })(t2, r2);
          const a2 = s2("suffix");
          a2 && (n2.suffix = a2), this.suffix = n2.suffix;
          const i2 = s2("base_url");
          i2 && n2._setBaseUrl(i2), this.baseUri = n2.baseURI;
          const l2 = ed(o2);
          l2 && (Ha.ScriptLoader._setReferrerPolicy(l2), za.DOM.styleSheetLoader._setReferrerPolicy(l2));
          const d2 = Dd(o2);
          C(d2) && za.DOM.styleSheetLoader._setContentCssCors(d2), Ya.languageLoad = s2("language_load"), Ya.baseURL = n2.baseURL, this.setDirty(false), this.documentBaseURI = new aC(Bl(o2), { base_uri: this.baseUri }), this.baseURI = this.baseUri, this.inline = Sd(o2), this.hasVisual = Fd(o2), this.shortcuts = new KO(this), this.editorCommands = new yO(this), hO(this);
          const c2 = s2("cache_suffix");
          c2 && (At.cacheSuffix = c2.replace(/^[\?\&]+/, "")), this.ui = { registry: YO(), styleSheetLoader: void 0, show: _, hide: _, setEnabled: _, isEnabled: M }, this.mode = ((e3) => {
            const t3 = $a("design"), n3 = $a({ design: { activate: _, deactivate: _, editorReadOnly: false }, readonly: { activate: _, deactivate: _, editorReadOnly: true } });
            return ((e4) => {
              e4.serializer ? _O(e4) : e4.on("PreInit", () => {
                _O(e4);
              });
            })(e3), ((e4) => {
              e4.on("ShowCaret", (t4) => {
                EO(e4) && t4.preventDefault();
              }), e4.on("ObjectSelected", (t4) => {
                EO(e4) && t4.preventDefault();
              });
            })(e3), { isReadOnly: () => EO(e3), set: (o3) => ((e4, t4, n4, o4) => {
              if (o4 !== n4.get()) {
                if (!Ee(t4, o4)) throw new Error(`Editor mode '${o4}' is invalid`);
                e4.initialized ? jO(e4, n4, t4, o4) : e4.on("init", () => jO(e4, n4, t4, o4));
              }
            })(e3, n3.get(), t3, o3), get: () => t3.get(), register: (e4, t4) => {
              n3.set(((e5, t5, n4) => {
                if (H(zO, t5)) throw new Error(`Cannot override default mode ${t5}`);
                return { ...e5, [t5]: { ...n4, deactivate: () => {
                  try {
                    n4.deactivate();
                  } catch (e6) {
                    console.error(`problem while deactivating editor mode ${t5}:`, e6);
                  }
                } } };
              })(n3.get(), e4, t4));
            } };
          })(o2), n2.dispatch("SetupEditor", { editor: this });
          const g2 = Hd(o2);
          w(g2) && g2.call(o2, o2);
        }
        render() {
          ((e2) => {
            const t2 = e2.id;
            Ka.setCode(td(e2));
            const n2 = () => {
              qT.unbind(window, "ready", n2), e2.render();
            };
            if (!Ta.Event.domLoaded) return void qT.bind(window, "ready", n2);
            if (!e2.getElement()) return;
            const o2 = yn(e2.getElement()), r2 = rn(o2);
            e2.on("remove", () => {
              W(o2.dom.attributes, (e3) => on(o2, e3.name)), Zt(o2, r2);
            }), e2.ui.styleSheetLoader = ((e3, t3) => Is.forElement(e3, { contentCssCors: Dd(t3), referrerPolicy: ed(t3) }))(o2, e2), Sd(e2) ? e2.inline = true : (e2.orgVisibility = e2.getElement().style.visibility, e2.getElement().style.visibility = "hidden");
            const s2 = e2.getElement().form || qT.getParent(t2, "form");
            s2 && (e2.formElement = s2, kd(e2) && !Zo(e2.getElement()) && (qT.insertAfter(qT.create("input", { type: "hidden", name: t2 }), t2), e2.hasHiddenInput = true), e2.formEventDelegate = (t3) => {
              e2.dispatch(t3.type, t3);
            }, qT.bind(s2, "submit reset", e2.formEventDelegate), e2.on("reset", () => {
              e2.resetContent();
            }), !Nd(e2) || s2.submit.nodeType || s2.submit.length || s2._mceOldSubmit || (s2._mceOldSubmit = s2.submit, s2.submit = () => (e2.editorManager.triggerSave(), e2.setDirty(false), s2._mceOldSubmit(s2)))), e2.windowManager = Mw(e2), e2.notificationManager = Pw(e2), ((e3) => "xml" === e3.options.get("encoding"))(e2) && e2.on("GetContent", (e3) => {
              e3.save && (e3.content = qT.encode(e3.content));
            }), Rd(e2) && e2.on("submit", () => {
              e2.initialized && e2.save();
            }), Ad(e2) && (e2._beforeUnload = () => {
              !e2.initialized || e2.destroyed || e2.isHidden() || e2.save({ format: "raw", no_events: true, set_dirty: false });
            }, e2.editorManager.on("BeforeUnload", e2._beforeUnload)), e2.editorManager.add(e2), KT(e2, e2.suffix);
          })(this);
        }
        focus(e2) {
          this.execCommand("mceFocus", false, e2);
        }
        hasFocus() {
          return Rg(this);
        }
        translate(e2) {
          return Ka.translate(e2);
        }
        getParam(e2, t2, n2) {
          const o2 = this.options;
          return o2.isRegistered(e2) || (C(n2) ? o2.register(e2, { processor: n2, default: t2 }) : o2.register(e2, { processor: M, default: t2 })), o2.isSet(e2) || v(t2) ? o2.get(e2) : t2;
        }
        hasPlugin(e2, t2) {
          return !(!H(Ld(this), e2) || t2 && void 0 === Dw.get(e2));
        }
        nodeChanged(e2) {
          this._nodeChangeDispatcher.nodeChanged(e2);
        }
        addCommand(e2, t2, n2) {
          this.editorCommands.addCommand(e2, t2, n2);
        }
        addQueryStateHandler(e2, t2, n2) {
          this.editorCommands.addQueryStateHandler(e2, t2, n2);
        }
        addQueryValueHandler(e2, t2, n2) {
          this.editorCommands.addQueryValueHandler(e2, t2, n2);
        }
        addShortcut(e2, t2, n2, o2) {
          this.shortcuts.add(e2, t2, n2, o2);
        }
        execCommand(e2, t2, n2, o2) {
          return this.editorCommands.execCommand(e2, t2, n2, o2);
        }
        queryCommandState(e2) {
          return this.editorCommands.queryCommandState(e2);
        }
        queryCommandValue(e2) {
          return this.editorCommands.queryCommandValue(e2);
        }
        queryCommandSupported(e2) {
          return this.editorCommands.queryCommandSupported(e2);
        }
        show() {
          const e2 = this;
          e2.hidden && (e2.hidden = false, e2.inline ? e2.getBody().contentEditable = "true" : (GO.show(e2.getContainer()), GO.hide(e2.id)), e2.load(), e2.dispatch("show"));
        }
        hide() {
          const e2 = this;
          e2.hidden || (e2.save(), e2.inline ? (e2.getBody().contentEditable = "false", e2 === e2.editorManager.focusedEditor && (e2.editorManager.focusedEditor = null)) : (GO.hide(e2.getContainer()), GO.setStyle(e2.id, "display", e2.orgDisplay)), e2.hidden = true, e2.dispatch("hide"));
        }
        isHidden() {
          return this.hidden;
        }
        setProgressState(e2, t2) {
          this.dispatch("ProgressState", { state: e2, time: t2 });
        }
        load(e2 = {}) {
          const t2 = this, n2 = t2.getElement();
          if (t2.removed) return "";
          if (n2) {
            const o2 = { ...e2, load: true }, r2 = Zo(n2) ? n2.value : n2.innerHTML, s2 = t2.setContent(r2, o2);
            return o2.no_events || t2.dispatch("LoadContent", { ...o2, element: n2 }), s2;
          }
          return "";
        }
        save(e2 = {}) {
          const t2 = this;
          let n2 = t2.getElement();
          if (!n2 || !t2.initialized || t2.removed) return "";
          const o2 = { ...e2, save: true, element: n2 };
          let r2 = t2.getContent(o2);
          const s2 = { ...o2, content: r2 };
          if (s2.no_events || t2.dispatch("SaveContent", s2), "raw" === s2.format && t2.dispatch("RawSaveContent", s2), r2 = s2.content, Zo(n2)) n2.value = r2;
          else {
            !e2.is_removing && t2.inline || (n2.innerHTML = r2);
            const o3 = GO.getParent(t2.id, "form");
            o3 && QO(o3.elements, (e3) => e3.name !== t2.id || (e3.value = r2, false));
          }
          return s2.element = o2.element = n2 = null, false !== s2.set_dirty && t2.setDirty(false), r2;
        }
        setContent(e2, t2) {
          return uw(this, e2, t2);
        }
        getContent(e2) {
          return ((e3, t2 = {}) => {
            const n2 = ((e4, t3) => ({ ...e4, format: t3, get: true, getInner: true }))(t2, t2.format ? t2.format : "html");
            return xC(e3, n2).fold(R, (t3) => {
              const n3 = ((e4, t4) => ew(e4).editor.getContent(t4))(e3, t3);
              return EC(e3, n3, t3);
            });
          })(this, e2);
        }
        insertContent(e2, t2) {
          t2 && (e2 = XO({ content: e2 }, t2)), this.execCommand("mceInsertContent", false, e2);
        }
        resetContent(e2) {
          void 0 === e2 ? uw(this, this.startContent, { format: "raw" }) : uw(this, e2), this.undoManager.reset(), this.setDirty(false), this.nodeChanged();
        }
        isDirty() {
          return !this.isNotDirty;
        }
        setDirty(e2) {
          const t2 = !this.isNotDirty;
          this.isNotDirty = !e2, e2 && e2 !== t2 && this.dispatch("dirty");
        }
        getContainer() {
          const e2 = this;
          return e2.container || (e2.container = e2.editorContainer || GO.get(e2.id + "_parent")), e2.container;
        }
        getContentAreaContainer() {
          return this.contentAreaContainer;
        }
        getElement() {
          return this.targetElm || (this.targetElm = GO.get(this.id)), this.targetElm;
        }
        getWin() {
          const e2 = this;
          if (!e2.contentWindow) {
            const t2 = e2.iframeElement;
            t2 && (e2.contentWindow = t2.contentWindow);
          }
          return e2.contentWindow;
        }
        getDoc() {
          const e2 = this;
          if (!e2.contentDocument) {
            const t2 = e2.getWin();
            t2 && (e2.contentDocument = t2.document);
          }
          return e2.contentDocument;
        }
        getBody() {
          var e2, t2;
          const n2 = this.getDoc();
          return null !== (t2 = null !== (e2 = this.bodyElement) && void 0 !== e2 ? e2 : null == n2 ? void 0 : n2.body) && void 0 !== t2 ? t2 : null;
        }
        convertURL(e2, t2, n2) {
          const o2 = this, r2 = o2.options.get, s2 = qd(o2);
          if (w(s2)) return s2.call(o2, e2, n2, true, t2);
          if (!r2("convert_urls") || "link" === n2 || f(n2) && "LINK" === n2.nodeName || 0 === e2.indexOf("file:") || 0 === e2.length) return e2;
          const a2 = new aC(e2);
          return "http" !== a2.protocol && "https" !== a2.protocol && "" !== a2.protocol ? e2 : r2("relative_urls") ? o2.documentBaseURI.toRelative(e2) : e2 = o2.documentBaseURI.toAbsolute(e2, r2("remove_script_host"));
        }
        addVisual(e2) {
          ((e3, t2) => {
            ((e4, t3) => {
              tw(e4).editor.addVisual(t3);
            })(e3, t2);
          })(this, e2);
        }
        setEditableRoot(e2) {
          ((e3, t2) => {
            e3._editableRoot !== t2 && (e3._editableRoot = t2, e3.readonly || (e3.getBody().contentEditable = String(e3.hasEditableRoot()), e3.nodeChanged()), ((e4, t3) => {
              e4.dispatch("EditableRootStateChange", { state: t3 });
            })(e3, t2));
          })(this, e2);
        }
        hasEditableRoot() {
          return this._editableRoot;
        }
        remove() {
          ((e2) => {
            if (!e2.removed) {
              const { _selectionOverrides: t2, editorUpload: n2 } = e2, o2 = e2.getBody(), r2 = e2.getElement();
              o2 && e2.save({ is_removing: true }), e2.removed = true, e2.unbindAllNativeEvents(), e2.hasHiddenInput && C(null == r2 ? void 0 : r2.nextSibling) && Ew.remove(r2.nextSibling), ((e3) => {
                e3.dispatch("remove");
              })(e2), e2.editorManager.remove(e2), !e2.inline && o2 && ((e3) => {
                Ew.setStyle(e3.id, "display", e3.orgDisplay);
              })(e2), ((e3) => {
                e3.dispatch("detach");
              })(e2), Ew.remove(e2.getContainer()), _w(t2), _w(n2), e2.destroy();
            }
          })(this);
        }
        destroy(e2) {
          ((e3, t2) => {
            const { selection: n2, dom: o2 } = e3;
            e3.destroyed || (t2 || e3.removed ? (t2 || (e3.editorManager.off("beforeunload", e3._beforeUnload), e3.theme && e3.theme.destroy && e3.theme.destroy(), _w(n2), _w(o2)), ((e4) => {
              const t3 = e4.formElement;
              t3 && (t3._mceOldSubmit && (t3.submit = t3._mceOldSubmit, delete t3._mceOldSubmit), Ew.unbind(t3, "submit reset", e4.formEventDelegate));
            })(e3), ((e4) => {
              const t3 = e4;
              t3.contentAreaContainer = t3.formElement = t3.container = t3.editorContainer = null, t3.bodyElement = t3.contentDocument = t3.contentWindow = null, t3.iframeElement = t3.targetElm = null;
              const n3 = e4.selection;
              if (n3) {
                const e5 = n3.dom;
                t3.selection = n3.win = n3.dom = e5.doc = null;
              }
            })(e3), e3.destroyed = true) : e3.remove());
          })(this, e2);
        }
        uploadImages() {
          return this.editorUpload.uploadImages();
        }
        _scanForImages() {
          return this.editorUpload.scanForImages();
        }
      }
      const ZO = za.DOM, eB = Pt.each;
      let tB, nB = false, oB = [];
      const rB = (e2) => {
        const t2 = e2.type;
        eB(lB.get(), (n2) => {
          switch (t2) {
            case "scroll":
              n2.dispatch("ScrollWindow", e2);
              break;
            case "resize":
              n2.dispatch("ResizeWindow", e2);
          }
        });
      }, sB = (e2) => {
        if (e2 !== nB) {
          const t2 = za.DOM;
          e2 ? (t2.bind(window, "resize", rB), t2.bind(window, "scroll", rB)) : (t2.unbind(window, "resize", rB), t2.unbind(window, "scroll", rB)), nB = e2;
        }
      }, aB = (e2) => {
        const t2 = oB;
        return oB = Y(oB, (t3) => e2 !== t3), lB.activeEditor === e2 && (lB.activeEditor = oB.length > 0 ? oB[0] : null), lB.focusedEditor === e2 && (lB.focusedEditor = null), t2.length !== oB.length;
      }, iB = "CSS1Compat" !== document.compatMode, lB = { ...AO, baseURI: null, baseURL: null, defaultOptions: {}, documentBaseURL: null, suffix: null, majorVersion: "6", minorVersion: "8.5", releaseDate: "TBD", i18n: Ka, activeEditor: null, focusedEditor: null, setup() {
        const e2 = this;
        let t2 = "", n2 = "", o2 = aC.getDocumentBaseUrl(document.location);
        /^[^:]+:\/\/\/?[^\/]+\//.test(o2) && (o2 = o2.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(o2) || (o2 += "/"));
        const r2 = window.tinymce || window.tinyMCEPreInit;
        if (r2) t2 = r2.base || r2.baseURL, n2 = r2.suffix;
        else {
          const e3 = document.getElementsByTagName("script");
          for (let o3 = 0; o3 < e3.length; o3++) {
            const r3 = e3[o3].src || "";
            if ("" === r3) continue;
            const s3 = r3.substring(r3.lastIndexOf("/"));
            if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r3)) {
              -1 !== s3.indexOf(".min") && (n2 = ".min"), t2 = r3.substring(0, r3.lastIndexOf("/"));
              break;
            }
          }
          if (!t2 && document.currentScript) {
            const e4 = document.currentScript.src;
            -1 !== e4.indexOf(".min") && (n2 = ".min"), t2 = e4.substring(0, e4.lastIndexOf("/"));
          }
        }
        var s2;
        e2.baseURL = new aC(o2).toAbsolute(t2), e2.documentBaseURL = o2, e2.baseURI = new aC(e2.baseURL), e2.suffix = n2, (s2 = e2).on("AddEditor", T(_g, s2)), s2.on("RemoveEditor", T(Sg, s2));
      }, overrideDefaults(e2) {
        const t2 = e2.base_url;
        t2 && this._setBaseUrl(t2);
        const n2 = e2.suffix;
        n2 && (this.suffix = n2), this.defaultOptions = e2;
        const o2 = e2.plugin_base_urls;
        void 0 !== o2 && ge(o2, (e3, t3) => {
          Ya.PluginManager.urls[t3] = e3;
        });
      }, init(e2) {
        const t2 = this;
        let n2;
        const o2 = Pt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu", " ");
        let r2 = (e3) => {
          n2 = e3;
        };
        const s2 = () => {
          let n3 = 0;
          const a2 = [];
          let i2;
          ZO.unbind(window, "ready", s2), ((n4) => {
            const o3 = e2.onpageload;
            o3 && o3.apply(t2, []);
          })(), i2 = ((e3, t3) => {
            const n4 = [], o3 = w(t3) ? (e4) => $(n4, (n5) => t3(n5, e4)) : (e4) => H(n4, e4);
            for (let t4 = 0, r3 = e3.length; t4 < r3; t4++) {
              const r4 = e3[t4];
              o3(r4) || n4.push(r4);
            }
            return n4;
          })(((e3) => At.browser.isIE() || At.browser.isEdge() ? (jw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"), []) : iB ? (jw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."), []) : m(e3.selector) ? ZO.select(e3.selector) : C(e3.target) ? [e3.target] : [])(e2)), Pt.each(i2, (e3) => {
            var n4;
            (n4 = t2.get(e3.id)) && n4.initialized && !(n4.getContainer() || n4.getBody()).parentNode && (aB(n4), n4.unbindAllNativeEvents(), n4.destroy(true), n4.removed = true);
          }), i2 = Pt.grep(i2, (e3) => !t2.get(e3.id)), 0 === i2.length ? r2([]) : eB(i2, (s3) => {
            ((e3, t3) => e3.inline && t3.tagName.toLowerCase() in o2)(e2, s3) ? jw("Could not initialize inline editor on invalid inline target element", s3) : ((e3, o3, s4) => {
              const l2 = new JO(e3, o3, t2);
              a2.push(l2), l2.on("init", () => {
                ++n3 === i2.length && r2(a2);
              }), l2.targetElm = l2.targetElm || s4, l2.render();
            })(((e3) => {
              let t3 = e3.id;
              return t3 || (t3 = xe(e3, "name").filter((e4) => !ZO.get(e4)).getOrThunk(ZO.uniqueId), e3.setAttribute("id", t3)), t3;
            })(s3), e2, s3);
          });
        };
        return ZO.bind(window, "ready", s2), new Promise((e3) => {
          n2 ? e3(n2) : r2 = (t3) => {
            e3(t3);
          };
        });
      }, get(e2) {
        return 0 === arguments.length ? oB.slice(0) : m(e2) ? J(oB, (t2) => t2.id === e2).getOr(null) : x(e2) && oB[e2] ? oB[e2] : null;
      }, add(e2) {
        const t2 = this, n2 = t2.get(e2.id);
        return n2 === e2 || (null === n2 && oB.push(e2), sB(true), t2.activeEditor = e2, t2.dispatch("AddEditor", { editor: e2 }), tB || (tB = (e3) => {
          const n3 = t2.dispatch("BeforeUnload");
          if (n3.returnValue) return e3.preventDefault(), e3.returnValue = n3.returnValue, n3.returnValue;
        }, window.addEventListener("beforeunload", tB))), e2;
      }, createEditor(e2, t2) {
        return this.add(new JO(e2, t2, this));
      }, remove(e2) {
        const t2 = this;
        let n2;
        if (e2) {
          if (!m(e2)) return n2 = e2, h(t2.get(n2.id)) ? null : (aB(n2) && t2.dispatch("RemoveEditor", { editor: n2 }), 0 === oB.length && window.removeEventListener("beforeunload", tB), n2.remove(), sB(oB.length > 0), n2);
          eB(ZO.select(e2), (e3) => {
            n2 = t2.get(e3.id), n2 && t2.remove(n2);
          });
        } else for (let e3 = oB.length - 1; e3 >= 0; e3--) t2.remove(oB[e3]);
      }, execCommand(e2, t2, n2) {
        var o2;
        const r2 = this, s2 = f(n2) ? null !== (o2 = n2.id) && void 0 !== o2 ? o2 : n2.index : n2;
        switch (e2) {
          case "mceAddEditor":
            if (!r2.get(s2)) {
              const e3 = n2.options;
              new JO(s2, e3, r2).render();
            }
            return true;
          case "mceRemoveEditor": {
            const e3 = r2.get(s2);
            return e3 && e3.remove(), true;
          }
          case "mceToggleEditor": {
            const e3 = r2.get(s2);
            return e3 ? (e3.isHidden() ? e3.show() : e3.hide(), true) : (r2.execCommand("mceAddEditor", false, n2), true);
          }
        }
        return !!r2.activeEditor && r2.activeEditor.execCommand(e2, t2, n2);
      }, triggerSave: () => {
        eB(oB, (e2) => {
          e2.save();
        });
      }, addI18n: (e2, t2) => {
        Ka.add(e2, t2);
      }, translate: (e2) => Ka.translate(e2), setActive(e2) {
        const t2 = this.activeEditor;
        this.activeEditor !== e2 && (t2 && t2.dispatch("deactivate", { relatedTarget: e2 }), e2.dispatch("activate", { relatedTarget: t2 })), this.activeEditor = e2;
      }, _setBaseUrl(e2) {
        this.baseURL = new aC(this.documentBaseURL).toAbsolute(e2.replace(/\/+$/, "")), this.baseURI = new aC(this.baseURL);
      } };
      lB.setup();
      const dB = (() => {
        const e2 = Xa();
        return { FakeClipboardItem: (e3) => ({ items: e3, types: me(e3), getType: (t2) => xe(e3, t2).getOrUndefined() }), write: (t2) => {
          e2.set(t2);
        }, read: () => e2.get().getOrUndefined(), clear: e2.clear };
      })(), cB = Math.min, uB = Math.max, mB = Math.round, fB = (e2, t2, n2) => {
        let o2 = t2.x, r2 = t2.y;
        const s2 = e2.w, a2 = e2.h, i2 = t2.w, l2 = t2.h, d2 = (n2 || "").split("");
        return "b" === d2[0] && (r2 += l2), "r" === d2[1] && (o2 += i2), "c" === d2[0] && (r2 += mB(l2 / 2)), "c" === d2[1] && (o2 += mB(i2 / 2)), "b" === d2[3] && (r2 -= a2), "r" === d2[4] && (o2 -= s2), "c" === d2[3] && (r2 -= mB(a2 / 2)), "c" === d2[4] && (o2 -= mB(s2 / 2)), gB(o2, r2, s2, a2);
      }, gB = (e2, t2, n2, o2) => ({ x: e2, y: t2, w: n2, h: o2 }), pB = { inflate: (e2, t2, n2) => gB(e2.x - t2, e2.y - n2, e2.w + 2 * t2, e2.h + 2 * n2), relativePosition: fB, findBestRelativePosition: (e2, t2, n2, o2) => {
        for (let r2 = 0; r2 < o2.length; r2++) {
          const s2 = fB(e2, t2, o2[r2]);
          if (s2.x >= n2.x && s2.x + s2.w <= n2.w + n2.x && s2.y >= n2.y && s2.y + s2.h <= n2.h + n2.y) return o2[r2];
        }
        return null;
      }, intersect: (e2, t2) => {
        const n2 = uB(e2.x, t2.x), o2 = uB(e2.y, t2.y), r2 = cB(e2.x + e2.w, t2.x + t2.w), s2 = cB(e2.y + e2.h, t2.y + t2.h);
        return r2 - n2 < 0 || s2 - o2 < 0 ? null : gB(n2, o2, r2 - n2, s2 - o2);
      }, clamp: (e2, t2, n2) => {
        let o2 = e2.x, r2 = e2.y, s2 = e2.x + e2.w, a2 = e2.y + e2.h;
        const i2 = t2.x + t2.w, l2 = t2.y + t2.h, d2 = uB(0, t2.x - o2), c2 = uB(0, t2.y - r2), u2 = uB(0, s2 - i2), m2 = uB(0, a2 - l2);
        return o2 += d2, r2 += c2, n2 && (s2 += d2, a2 += c2, o2 -= u2, r2 -= m2), s2 -= u2, a2 -= m2, gB(o2, r2, s2 - o2, a2 - r2);
      }, create: gB, fromClientRect: (e2) => gB(e2.left, e2.top, e2.width, e2.height) }, hB = /* @__PURE__ */ (() => {
        const e2 = {}, t2 = {}, n2 = {};
        return { load: (n3, o2) => {
          const r2 = `Script at URL "${o2}" failed to load`, s2 = `Script at URL "${o2}" did not call \`tinymce.Resource.add('${n3}', data)\` within 1 second`;
          if (void 0 !== e2[n3]) return e2[n3];
          {
            const a2 = new Promise((e3, a3) => {
              const i2 = ((e4, t3, n4 = 1e3) => {
                let o3 = false, r3 = null;
                const s3 = (e5) => (...t4) => {
                  o3 || (o3 = true, null !== r3 && (clearTimeout(r3), r3 = null), e5.apply(null, t4));
                }, a4 = s3(e4), i3 = s3(t3);
                return { start: (...e5) => {
                  o3 || null !== r3 || (r3 = setTimeout(() => i3.apply(null, e5), n4));
                }, resolve: a4, reject: i3 };
              })(e3, a3);
              t2[n3] = i2.resolve, Ha.ScriptLoader.loadScript(o2).then(() => i2.start(s2), () => i2.reject(r2));
            });
            return e2[n3] = a2, a2;
          }
        }, add: (o2, r2) => {
          void 0 !== t2[o2] && (t2[o2](r2), delete t2[o2]), e2[o2] = Promise.resolve(r2), n2[o2] = r2;
        }, has: (e3) => e3 in n2, get: (e3) => n2[e3], unload: (t3) => {
          delete e2[t3];
        } };
      })();
      let bB;
      try {
        const e2 = "__storage_test__";
        bB = window.localStorage, bB.setItem(e2, e2), bB.removeItem(e2);
      } catch (e2) {
        bB = (() => {
          let e3 = {}, t2 = [];
          const n2 = { getItem: (t3) => e3[t3] || null, setItem: (n3, o2) => {
            t2.push(n3), e3[n3] = String(o2);
          }, key: (e4) => t2[e4], removeItem: (n3) => {
            t2 = t2.filter((e4) => e4 === n3), delete e3[n3];
          }, clear: () => {
            t2 = [], e3 = {};
          }, length: 0 };
          return Object.defineProperty(n2, "length", { get: () => t2.length, configurable: false, enumerable: false }), n2;
        })();
      }
      const vB = { geom: { Rect: pB }, util: { Delay: vg, Tools: Pt, VK: af, URI: aC, EventDispatcher: NO, Observable: AO, I18n: Ka, LocalStorage: bB, ImageUploader: (e2) => {
        const t2 = Vw(), n2 = Gw(e2, t2);
        return { upload: (t3, o2 = true) => n2.upload(t3, o2 ? Yw(e2) : void 0) };
      } }, dom: { EventUtils: Ta, TreeWalker: jo, TextSeeker: hi, DOMUtils: za, ScriptLoader: Ha, RangeUtils: Uf, Serializer: cw, StyleSheetLoader: Ms, ControlSelection: mf, BookmarkManager: Jm, Selection: iw, Event: Ta.Event }, html: { Styles: wa, Entities: ea, Node: Wg, Schema: ua, DomParser: CC, Writer: cp, Serializer: up }, Env: At, AddOnManager: Ya, Annotator: Qm, Formatter: ix, UndoManager: dx, EditorCommands: yO, WindowManager: Mw, NotificationManager: Pw, EditorObservable: LO, Shortcuts: KO, Editor: JO, FocusManager: bg, EditorManager: lB, DOM: za.DOM, ScriptLoader: Ha.ScriptLoader, PluginManager: Dw, ThemeManager: Lw, ModelManager: kw, IconManager: Sw, Resource: hB, FakeClipboard: dB, trim: Pt.trim, isArray: Pt.isArray, is: Pt.is, toArray: Pt.toArray, makeMap: Pt.makeMap, each: Pt.each, map: Pt.map, grep: Pt.grep, inArray: Pt.inArray, extend: Pt.extend, walk: Pt.walk, resolve: Pt.resolve, explode: Pt.explode, _addCacheSuffix: Pt._addCacheSuffix }, yB = Pt.extend(lB, vB);
      ((e2) => {
        window.tinymce = e2, window.tinyMCE = e2;
      })(yB), ((e2) => {
        if ("object" == typeof module) try {
          module.exports = e2;
        } catch (e3) {
        }
      })(yB);
    }();
  }
});
export default require_tinymce_min();
//# sourceMappingURL=tinymce_tinymce__min__js.js.map
